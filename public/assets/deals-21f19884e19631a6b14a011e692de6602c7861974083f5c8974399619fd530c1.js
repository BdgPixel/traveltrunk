/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
!function(t,e,i,n){var a=t(e);t.fn.lazyload=function(r){function s(){var e=0;l.each(function(){var i=t(this);if(!h.skip_invisible||i.is(":visible"))if(t.abovethetop(this,h)||t.leftofbegin(this,h));else if(t.belowthefold(this,h)||t.rightoffold(this,h)){if(++e>h.failure_limit)return!1}else i.trigger("appear"),e=0})}var o,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(h,r)),o=h.container===n||h.container===e?a:t(h.container),0===h.event.indexOf("scroll")&&o.bind(h.event,function(){return s()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var n=l.length;h.appear.call(e,n,h)}t("<img />").bind("load",function(){var n=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[h.effect](h.effect_speed),e.loaded=!0;var a=t.grep(l,function(t){return!t.loaded});if(l=t(a),h.load){var r=l.length;h.load.call(e,r,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){e.loaded||i.trigger("appear")})}),a.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){s()}),this},t.belowthefold=function(i,r){var s;return s=r.container===n||r.container===e?(e.innerHeight?e.innerHeight:a.height())+a.scrollTop():t(r.container).offset().top+t(r.container).height(),s<=t(i).offset().top-r.threshold},t.rightoffold=function(i,r){var s;return s=r.container===n||r.container===e?a.width()+a.scrollLeft():t(r.container).offset().left+t(r.container).width(),s<=t(i).offset().left-r.threshold},t.abovethetop=function(i,r){var s;return s=r.container===n||r.container===e?a.scrollTop():t(r.container).offset().top,s>=t(i).offset().top+r.threshold+t(i).height()},t.leftofbegin=function(i,r){var s;return s=r.container===n||r.container===e?a.scrollLeft():t(r.container).offset().left,s>=t(i).offset().left+r.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),function(t,e,i,n){var a=e.document,r=t(a),s=t(e),o=Array.prototype,l=1.35,h=!0,c=3e4,u=!1,d=navigator.userAgent.toLowerCase(),f=e.location.hash.replace(/#\//,""),p=e.location.protocol,g=Math,m=function(){},v=function(){return!1},y=function(){var t=3,e=a.createElement("div"),i=e.getElementsByTagName("i");do e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(i[0]);return t>4?t:a.documentMode||n}(),b=function(){return{html:a.documentElement,body:a.body,head:a.getElementsByTagName("head")[0],title:a.title}},w=e.parent!==e.self,_="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",x=function(){var e=[];return t.each(_.split(" "),function(t,i){e.push(i),/_/.test(i)&&e.push(i.replace(/_/g,""))}),e}(),k=function(e){var i;return"object"!=typeof e?e:(t.each(e,function(n,a){/^[a-z]+_/.test(n)&&(i="",t.each(n.split("_"),function(t,e){i+=t>0?e.substr(0,1).toUpperCase()+e.substr(1):e}),e[i]=a,delete e[n])}),e)},D=function(e){return t.inArray(e,x)>-1?i[e.toUpperCase()]:e},C={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(){return"http://www.youtube.com/embed/"+this.id},getUrl:function(){return p+"//gdata.youtube.com/feeds/api/videos/"+this.id+"?v=2&alt=json-in-script&callback=?"},get_thumb:function(t){return t.entry.media$group.media$thumbnail[2].url},get_image:function(t){return t.entry.yt$hd?p+"//img.youtube.com/vi/"+this.id+"/maxresdefault.jpg":t.entry.media$group.media$thumbnail[3].url}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(){return"http://player.vimeo.com/video/"+this.id},getUrl:function(){return p+"//vimeo.com/api/v2/video/"+this.id+".json?callback=?"},get_thumb:function(t){return t[0].thumbnail_medium},get_image:function(t){return t[0].thumbnail_large}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(){return p+"//www.dailymotion.com/embed/video/"+this.id},getUrl:function(){return"https://api.dailymotion.com/video/"+this.id+"?fields=thumbnail_240_url,thumbnail_720_url&callback=?"},get_thumb:function(t){return t.thumbnail_240_url},get_image:function(t){return t.thumbnail_720_url}},_inst:[]},T=function(e,i){for(var n=0;n<C._inst.length;n++)if(C._inst[n].id===i&&C._inst[n].type==e)return C._inst[n];this.type=e,this.id=i,this.readys=[],C._inst.push(this);var a=this;t.extend(this,C[e]),t.getJSON(this.getUrl(),function(e){a.data=e,t.each(a.readys,function(t,e){e(a.data)}),a.readys=[]}),this.getMedia=function(t,e,i){i=i||m;var n=this,a=function(i){e(n["get_"+t](i))};try{n.data?a(n.data):n.readys.push(a)}catch(r){i()}}},S=function(t){var e;for(var i in C)if(e=t&&C[i].reg&&t.match(C[i].reg),e&&e.length)return{id:e[2],provider:i};return!1},A={support:function(){var t=b().html;return!w&&(t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen)}(),callback:m,enter:function(t,e,i){this.instance=t,this.callback=e||m,i=i||b().html,i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()},exit:function(t){this.callback=t||m,a.exitFullscreen?a.exitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()},instance:null,listen:function(){if(this.support){var t=function(){if(A.instance){var t=A.instance._fullscreen;a.fullscreen||a.mozFullScreen||a.webkitIsFullScreen?t._enter(A.callback):t._exit(A.callback)}};a.addEventListener("fullscreenchange",t,!1),a.addEventListener("mozfullscreenchange",t,!1),a.addEventListener("webkitfullscreenchange",t,!1)}}},I=[],E=[],M=!1,F=!1,L=[],$=function(e){i.theme=e,t.each(L,function(t,e){e._initialized||e._init.call(e)}),L=[]},U=function(){return{clearTimer:function(e){t.each(i.get(),function(){this.clearTimer(e)})},addTimer:function(e){t.each(i.get(),function(){this.addTimer(e)})},array:function(t){return o.slice.call(t,0)},create:function(t,e){e=e||"div";var i=a.createElement(e);return i.className=t,i},removeFromArray:function(e,i){return t.each(e,function(t,n){return n==i?(e.splice(t,1),!1):void 0}),e},getScriptPath:function(e){e=e||t("script:last").attr("src");var i=e.split("/");return 1==i.length?"":(i.pop(),i.join("/")+"/")},animate:function(){var n,r,s,o,l,h,c,u=function(t){var i,n="transition WebkitTransition MozTransition OTransition".split(" ");if(e.opera)return!1;for(i=0;n[i];i++)if("undefined"!=typeof t[n[i]])return n[i];return!1}((a.body||a.documentElement).style),d={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[u],f={_default:[.25,.1,.25,1],galleria:[.645,.045,.355,1],galleriaIn:[.55,.085,.68,.53],galleriaOut:[.25,.46,.45,.94],ease:[.25,0,.25,1],linear:[.25,.25,.75,.75],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},p=function(e,i,n){var a={};n=n||"transition",t.each("webkit moz ms o".split(" "),function(){a["-"+this+"-"+n]=i}),e.css(a)},g=function(t){p(t,"none","transition"),i.WEBKIT&&i.TOUCH&&(p(t,"translate3d(0,0,0)","transform"),t.data("revert")&&(t.css(t.data("revert")),t.data("revert",null)))};return function(a,v,y){return y=t.extend({duration:400,complete:m,stop:!1},y),a=t(a),y.duration?u?(y.stop&&(a.off(d),g(a)),n=!1,t.each(v,function(t,e){c=a.css(t),U.parseValue(c)!=U.parseValue(e)&&(n=!0),a.css(t,c)}),n?(r=[],s=y.easing in f?f[y.easing]:f._default,o=" "+y.duration+"ms cubic-bezier("+s.join(",")+")",void e.setTimeout(function(e,n,a,s){return function(){e.one(n,function(t){return function(){g(t),y.complete.call(t[0])}}(e)),i.WEBKIT&&i.TOUCH&&(l={},h=[0,0,0],t.each(["left","top"],function(t,i){i in a&&(h[t]=U.parseValue(a[i])-U.parseValue(e.css(i))+"px",l[i]=a[i],delete a[i])}),(h[0]||h[1])&&(e.data("revert",l),r.push("-webkit-transform"+s),p(e,"translate3d("+h.join(",")+")","transform"))),t.each(a,function(t,e){r.push(t+s)}),p(e,r.join(",")),e.css(a)}}(a,d,v,o),2)):void e.setTimeout(function(){y.complete.call(a[0])},y.duration)):void a.animate(v,y):(a.css(v),void y.complete.call(a[0]))}}(),removeAlpha:function(t){if(t instanceof jQuery&&(t=t[0]),9>y&&t){var e=t.style,i=t.currentStyle,n=i&&i.filter||e.filter||"";/alpha/.test(n)&&(e.filter=n.replace(/alpha\([^)]*\)/i,""))}},forceStyles:function(e,i){e=t(e),e.attr("style")&&e.data("styles",e.attr("style")).removeAttr("style"),e.css(i)},revertStyles:function(){t.each(U.array(arguments),function(e,i){i=t(i),i.removeAttr("style"),i.attr("style",""),i.data("styles")&&i.attr("style",i.data("styles")).data("styles",null)})},moveOut:function(t){U.forceStyles(t,{position:"absolute",left:-1e4})},moveIn:function(){U.revertStyles.apply(U,U.array(arguments))},hide:function(e,i,n){n=n||m;var a=t(e);e=a[0],a.data("opacity")||a.data("opacity",a.css("opacity"));var r={opacity:0};if(i){var s=9>y&&e?function(){U.removeAlpha(e),e.style.visibility="hidden",n.call(e)}:n;U.animate(e,r,{duration:i,complete:s,stop:!0})}else 9>y&&e?(U.removeAlpha(e),e.style.visibility="hidden"):a.css(r)},show:function(e,i,n){n=n||m;var a=t(e);e=a[0];var r=parseFloat(a.data("opacity"))||1,s={opacity:r};if(i){9>y&&(a.css("opacity",0),e.style.visibility="visible");var o=9>y&&e?function(){1==s.opacity&&U.removeAlpha(e),n.call(e)}:n;U.animate(e,s,{duration:i,complete:o,stop:!0})}else 9>y&&1==s.opacity&&e?(U.removeAlpha(e),e.style.visibility="visible"):a.css(s)},wait:function(n){i._waiters=i._waiters||[],n=t.extend({until:v,success:m,error:function(){i.raise("Could not complete wait function.")},timeout:3e3},n);var a,r,s,o=U.timestamp(),l=function(){return r=U.timestamp(),a=r-o,U.removeFromArray(i._waiters,s),n.until(a)?(n.success(),!1):"number"==typeof n.timeout&&r>=o+n.timeout?(n.error(),!1):void i._waiters.push(s=e.setTimeout(l,10))};i._waiters.push(s=e.setTimeout(l,10))},toggleQuality:function(t,e){7!==y&&8!==y||!t||"IMG"!=t.nodeName.toUpperCase()||("undefined"==typeof e&&(e="nearest-neighbor"===t.style.msInterpolationMode),t.style.msInterpolationMode=e?"bicubic":"nearest-neighbor")},insertStyleTag:function(e,i){if(!i||!t("#"+i).length){var n=a.createElement("style");if(i&&(n.id=i),b().head.appendChild(n),n.styleSheet)n.styleSheet.cssText=e;else{var r=a.createTextNode(e);n.appendChild(r)}}},loadScript:function(e,i){var n=!1,a=t("<script>").attr({src:e,async:!0}).get(0);a.onload=a.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,a.onload=a.onreadystatechange=null,"function"==typeof i&&i.call(this,this))},b().head.appendChild(a)},parseValue:function(t){if("number"==typeof t)return t;if("string"==typeof t){var e=t.match(/\-?\d|\./g);return e&&e.constructor===Array?1*e.join(""):0}return 0},timestamp:function(){return(new Date).getTime()},loadCSS:function(e,r,s){var o,l;if(t("link[rel=stylesheet]").each(function(){return new RegExp(e).test(this.href)?(o=this,!1):void 0}),"function"==typeof r&&(s=r,r=n),s=s||m,o)return s.call(o,o),o;if(l=a.styleSheets.length,t("#"+r).length)t("#"+r).attr("href",e),l--;else{o=t("<link>").attr({rel:"stylesheet",href:e,id:r}).get(0);var h=t('link[rel="stylesheet"], style');if(h.length?h.get(0).parentNode.insertBefore(o,h[0]):b().head.appendChild(o),y&&l>=31)return void i.raise("You have reached the browser stylesheet limit (31)",!0)}if("function"==typeof s){var c=t("<s>").attr("id","galleria-loader").hide().appendTo(b().body);U.wait({until:function(){return 1==c.height()},success:function(){c.remove(),s.call(o,o)},error:function(){c.remove(),i.raise("Theme CSS could not load after 20 sec. "+(i.QUIRK?"Your browser is in Quirks Mode, please add a correct doctype.":"Please download the latest theme at http://galleria.io/customer/."),!0)},timeout:5e3})}return o}}}(),z=function(e){var i=".galleria-videoicon{width:60px;height:60px;position:absolute;top:50%;left:50%;z-index:1;margin:-30px 0 0 -30px;cursor:pointer;background:#000;background:rgba(0,0,0,.8);border-radius:3px;-webkit-transition:all 150ms}.galleria-videoicon i{width:0px;height:0px;border-style:solid;border-width:10px 0 10px 16px;display:block;border-color:transparent transparent transparent #ffffff;margin:20px 0 0 22px}.galleria-image:hover .galleria-videoicon{background:#000}";return U.insertStyleTag(i,"galleria-videoicon"),t(U.create("galleria-videoicon")).html("<i></i>").appendTo(e).click(function(){t(this).siblings("img").mouseup()})},R=function(){var e=function(e,i,n,a){var r=this.getOptions("easing"),s=this.getStageWidth(),o={left:s*(e.rewind?-1:1)},l={left:0};n?(o.opacity=0,l.opacity=1):o.opacity=1,t(e.next).css(o),U.animate(e.next,l,{duration:e.speed,complete:function(t){return function(){i(),t.css({left:0})}}(t(e.next).add(e.prev)),queue:!1,easing:r}),a&&(e.rewind=!e.rewind),e.prev&&(o={left:0},l={left:s*(e.rewind?1:-1)},n&&(o.opacity=1,l.opacity=0),t(e.prev).css(o),U.animate(e.prev,l,{duration:e.speed,queue:!1,easing:r,complete:function(){t(this).css("opacity",0)}}))};return{active:!1,init:function(t,e,i){R.effects.hasOwnProperty(t)&&R.effects[t].call(this,e,i)},effects:{fade:function(e,i){t(e.next).css({opacity:0,left:0}),U.animate(e.next,{opacity:1},{duration:e.speed,complete:i}),e.prev&&(t(e.prev).css("opacity",1).show(),U.animate(e.prev,{opacity:0},{duration:e.speed}))},flash:function(e,i){t(e.next).css({opacity:0,left:0}),e.prev?U.animate(e.prev,{opacity:0},{duration:e.speed/2,complete:function(){U.animate(e.next,{opacity:1},{duration:e.speed,complete:i})}}):U.animate(e.next,{opacity:1},{duration:e.speed,complete:i})},pulse:function(e,i){e.prev&&t(e.prev).hide(),t(e.next).css({opacity:0,left:0}).show(),U.animate(e.next,{opacity:1},{duration:e.speed,complete:i})},slide:function(t,i){e.apply(this,U.array(arguments))},fadeslide:function(t,i){e.apply(this,U.array(arguments).concat([!0]))},doorslide:function(t,i){e.apply(this,U.array(arguments).concat([!1,!0]))}}}}();A.listen(),t.event.special["click:fast"]={propagate:!0,add:function(e){this.propagate;i.TOUCH?t(this).on("touchstart.fast",function(i){var n,a,r=i.originalEvent,s=0;1==r.touches.length&&(n=r.touches[0].pageX,a=r.touches[0].pageY,t(this).on("touchmove.fast",function(t){var e=t.originalEvent.touches;1==e.length&&(s=g.max(g.abs(n-e[0].pageX),g.abs(a-e[0].pageY)))}),t(this).on("touchend.fast",function(){return s>4?t(this).off("touchend.fast touchmove.fast"):(e.handler.call(this,i),void t(this).off("touchend.fast touchmove.fast"))}))}):t(this).on("click.fast",e.handler)},remove:function(e){i.TOUCH?t(this).off("touchstart.fast touchmove.fast touchend.fast"):t(this).off("click.fast",e.handler)}},s.on("orientationchange",function(){t(this).resize()}),i=function(){var o=this;this._options={},this._playing=!1,this._playtime=5e3,this._active=null,this._queue={length:0},this._data=[],this._dom={},this._thumbnails=[],this._layers=[],this._initialized=!1,this._firstrun=!1,this._stageWidth=0,this._stageHeight=0,this._target=n,this._binds=[],this._id=parseInt(1e4*g.random(),10);var l="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",h="current total";t.each(l.split(" "),function(t,e){o._dom[e]=U.create("galleria-"+e)}),t.each(h.split(" "),function(t,e){o._dom[e]=U.create("galleria-"+e,"span")});var c=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(t){var e=t.keyCode||t.which;e in c.map&&"function"==typeof c.map[e]&&c.map[e].call(o,t)},attach:function(t){var e,i;for(e in t)t.hasOwnProperty(e)&&(i=e.toUpperCase(),i in c.keys?c.map[c.keys[i]]=t[e]:c.map[i]=t[e]);c.bound||(c.bound=!0,r.on("keydown",c.press))},detach:function(){c.bound=!1,c.map={},r.off("keydown",c.press)}},u=this._controls={0:n,1:n,active:0,swap:function(){u.active=u.active?0:1},getActive:function(){return o._options.swipe?u.slides[o._active]:u[u.active]},getNext:function(){return o._options.swipe?u.slides[o.getNext(o._active)]:u[1-u.active]},slides:[],frames:[],layers:[]},f=this._carousel={next:o.$("thumb-nav-right"),prev:o.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var e=0,i=0,n=[0];t.each(o._thumbnails,function(a,r){if(r.ready){e+=r.outerWidth||t(r.container).outerWidth(!0);var s=t(r.container).width();e+=s-g.floor(s),n[a+1]=e,i=g.max(i,r.outerHeight||t(r.container).outerHeight(!0))}}),o.$("thumbnails").css({width:e,height:i}),f.max=e,f.hooks=n,f.width=o.$("thumbnails-list").width(),f.setClasses(),o.$("thumbnails-container").toggleClass("galleria-carousel",e>f.width),f.width=o.$("thumbnails-list").width()},bindControls:function(){var t;f.next.on("click:fast",function(e){if(e.preventDefault(),"auto"===o._options.carouselSteps){for(t=f.current;t<f.hooks.length;t++)if(f.hooks[t]-f.hooks[f.current]>f.width){f.set(t-2);break}}else f.set(f.current+o._options.carouselSteps)}),f.prev.on("click:fast",function(e){if(e.preventDefault(),"auto"===o._options.carouselSteps)for(t=f.current;t>=0;t--){if(f.hooks[f.current]-f.hooks[t]>f.width){f.set(t+2);break}if(0===t){f.set(0);break}}else f.set(f.current-o._options.carouselSteps)})},set:function(t){for(t=g.max(t,0);f.hooks[t-1]+f.width>=f.max&&t>=0;)t--;f.current=t,f.animate()},getLast:function(t){return(t||f.current)-1},follow:function(t){if(0===t||t===f.hooks.length-2)return void f.set(t);for(var e=f.current;f.hooks[e]-f.hooks[f.current]<f.width&&e<=f.hooks.length;)e++;t-1<f.current?f.set(t-1):t+2>e&&f.set(t-e+f.current+2)},setClasses:function(){f.prev.toggleClass("disabled",!f.current),f.next.toggleClass("disabled",f.hooks[f.current]+f.width>=f.max)},animate:function(e){f.setClasses();var i=-1*f.hooks[f.current];isNaN(i)||(o.$("thumbnails").css("left",function(){return t(this).css("left")}),U.animate(o.get("thumbnails"),{left:i},{duration:o._options.carouselSpeed,easing:o._options.easing,queue:!1}))}},p=this._tooltip={initialized:!1,open:!1,timer:"tooltip"+o._id,swapTimer:"swap"+o._id,init:function(){p.initialized=!0;var t=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3;opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";U.insertStyleTag(t,"galleria-tooltip"),o.$("tooltip").css({opacity:.8,visibility:"visible",display:"none"})},move:function(t){var e=o.getMousePosition(t).x,i=o.getMousePosition(t).y,n=o.$("tooltip"),a=e,r=i,s=n.outerHeight(!0)+1,l=n.outerWidth(!0),h=s+15,c=o.$("container").width()-l-2,u=o.$("container").height()-s-2;isNaN(a)||isNaN(r)||(a+=10,r-=s+8,a=g.max(0,g.min(c,a)),r=g.max(0,g.min(u,r)),h>i&&(r=h),n.css({left:a,top:r}))},bind:function(e,n){if(!i.TOUCH){p.initialized||p.init();var a=function(){o.$("container").off("mousemove",p.move),o.clearTimer(p.timer),o.$("tooltip").stop().animate({opacity:0},200,function(){o.$("tooltip").hide(),o.addTimer(p.swapTimer,function(){p.open=!1},1e3)})},r=function(e,i){p.define(e,i),t(e).hover(function(){o.clearTimer(p.swapTimer),o.$("container").off("mousemove",p.move).on("mousemove",p.move).trigger("mousemove"),p.show(e),o.addTimer(p.timer,function(){o.$("tooltip").stop().show().animate({opacity:1}),p.open=!0},p.open?0:500)},a).click(a)};"string"==typeof n?r(e in o._dom?o.get(e):e,n):t.each(e,function(t,e){r(o.get(t),e)})}},show:function(i){i=t(i in o._dom?o.get(i):i);var n=i.data("tt"),a=function(t){e.setTimeout(function(t){return function(){p.move(t)}}(t),10),i.off("mouseup",a)};n="function"==typeof n?n():n,n&&(o.$("tooltip").html(n.replace(/\s/,"&#160;")),i.on("mouseup",a))},define:function(e,i){if("function"!=typeof i){var n=i;i=function(){return n}}e=t(e in o._dom?o.get(e):e).data("tt",i),p.show(e)}},m=this._fullscreen={scrolled:0,crop:n,active:!1,prev:t(),beforeEnter:function(t){t()},beforeExit:function(t){t()},keymap:o._keyboard.map,parseCallback:function(e,i){return R.active?function(){"function"==typeof e&&e.call(o);var n=o._controls.getActive(),a=o._controls.getNext();o._scaleImage(a),o._scaleImage(n),i&&o._options.trueFullscreen&&t(n.container).add(a.container).trigger("transitionend")}:e},enter:function(t){m.beforeEnter(function(){t=m.parseCallback(t,!0),o._options.trueFullscreen&&A.support?(m.active=!0,U.forceStyles(o.get("container"),{width:"100%",height:"100%"}),o.rescale(),i.MAC?i.SAFARI&&/version\/[1-5]/.test(d)?(o.$("stage").css("opacity",0),e.setTimeout(function(){m.scale(),o.$("stage").css("opacity",1)},4)):(o.$("container").css("opacity",0).addClass("fullscreen"),e.setTimeout(function(){m.scale(),o.$("container").css("opacity",1)},50)):o.$("container").addClass("fullscreen"),s.resize(m.scale),A.enter(o,t,o.get("container"))):(m.scrolled=s.scrollTop(),i.TOUCH||e.scrollTo(0,0),m._enter(t))})},_enter:function(r){m.active=!0,w&&(m.iframe=function(){var n,r=a.referrer,s=a.createElement("a"),o=e.location;return s.href=r,s.protocol!=o.protocol||s.hostname!=o.hostname||s.port!=o.port?(i.raise("Parent fullscreen not available. Iframe protocol, domains and ports must match."),!1):(m.pd=e.parent.document,t(m.pd).find("iframe").each(function(){var t=this.contentDocument||this.contentWindow.document;return t===a?(n=this,!1):void 0}),n)}()),U.hide(o.getActiveImage()),w&&m.iframe&&(m.iframe.scrolled=t(e.parent).scrollTop(),e.parent.scrollTo(0,0));var l=o.getData(),h=o._options,c=!o._options.trueFullscreen||!A.support,u={height:"100%",overflow:"hidden",margin:0,padding:0};if(c&&(o.$("container").addClass("fullscreen"),m.prev=o.$("container").prev(),m.prev.length||(m.parent=o.$("container").parent()),o.$("container").appendTo("body"),U.forceStyles(o.get("container"),{position:i.TOUCH?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e4}),U.forceStyles(b().html,u),U.forceStyles(b().body,u)),w&&m.iframe&&(U.forceStyles(m.pd.documentElement,u),U.forceStyles(m.pd.body,u),U.forceStyles(m.iframe,t.extend(u,{width:"100%",height:"100%",top:0,left:0,position:"fixed",zIndex:1e4,border:"none"}))),m.keymap=t.extend({},o._keyboard.map),o.attachKeyboard({escape:o.exitFullscreen,right:o.next,left:o.prev}),m.crop=h.imageCrop,h.fullscreenCrop!=n&&(h.imageCrop=h.fullscreenCrop),l&&l.big&&l.image!==l.big){var d=new i.Picture,f=d.isCached(l.big),p=o.getIndex(),g=o._thumbnails[p];o.trigger({type:i.LOADSTART,cached:f,rewind:!1,index:p,imageTarget:o.getActiveImage(),thumbTarget:g,galleriaData:l}),d.load(l.big,function(e){o._scaleImage(e,{complete:function(e){o.trigger({type:i.LOADFINISH,cached:f,index:p,rewind:!1,imageTarget:e.image,thumbTarget:g});var n=o._controls.getActive().image;n&&t(n).width(e.image.width).height(e.image.height).attr("style",t(e.image).attr("style")).attr("src",e.image.src)}})});var v=o.getNext(p),y=new i.Picture,_=o.getData(v);y.preload(o.isFullscreen()&&_.big?_.big:_.image)}o.rescale(function(){o.addTimer(!1,function(){c&&U.show(o.getActiveImage()),"function"==typeof r&&r.call(o),o.rescale()},100),o.trigger(i.FULLSCREEN_ENTER)}),c?s.resize(m.scale):U.show(o.getActiveImage())},scale:function(){o.rescale()},exit:function(t){m.beforeExit(function(){t=m.parseCallback(t),o._options.trueFullscreen&&A.support?A.exit(t):m._exit(t)})},_exit:function(t){m.active=!1;var n=!o._options.trueFullscreen||!A.support,a=o.$("container").removeClass("fullscreen");if(m.parent?m.parent.prepend(a):a.insertAfter(m.prev),n){U.hide(o.getActiveImage()),U.revertStyles(o.get("container"),b().html,b().body),i.TOUCH||e.scrollTo(0,m.scrolled);var r=o._controls.frames[o._controls.active];r&&r.image&&(r.image.src=r.image.src)}w&&m.iframe&&(U.revertStyles(m.pd.documentElement,m.pd.body,m.iframe),m.iframe.scrolled&&e.parent.scrollTo(0,m.iframe.scrolled)),o.detachKeyboard(),o.attachKeyboard(m.keymap),o._options.imageCrop=m.crop;var l=o.getData().big,h=o._controls.getActive().image;!o.getData().iframe&&h&&l&&l==h.src&&e.setTimeout(function(t){return function(){h.src=t}}(o.getData().image),1),o.rescale(function(){o.addTimer(!1,function(){n&&U.show(o.getActiveImage()),"function"==typeof t&&t.call(o),s.trigger("resize")},50),o.trigger(i.FULLSCREEN_EXIT)}),s.off("resize",m.scale)}},v=this._idle={trunk:[],bound:!1,active:!1,add:function(e,n,a,r){if(e&&!i.TOUCH){v.bound||v.addEvent(),e=t(e),"boolean"==typeof a&&(r=a,a={}),a=a||{};var s,o={};for(s in n)n.hasOwnProperty(s)&&(o[s]=e.css(s));e.data("idle",{from:t.extend(o,a),to:n,complete:!0,busy:!1}),r?e.css(n):v.addTimer(),v.trunk.push(e)}},remove:function(e){e=t(e),t.each(v.trunk,function(t,i){i&&i.length&&!i.not(e).length&&(e.css(e.data("idle").from),v.trunk.splice(t,1))}),v.trunk.length||(v.removeEvent(),o.clearTimer(v.timer))},addEvent:function(){v.bound=!0,o.$("container").on("mousemove click",v.showAll),"hover"==o._options.idleMode&&o.$("container").on("mouseleave",v.hide)},removeEvent:function(){v.bound=!1,o.$("container").on("mousemove click",v.showAll),"hover"==o._options.idleMode&&o.$("container").off("mouseleave",v.hide)},addTimer:function(){"hover"!=o._options.idleMode&&o.addTimer("idle",function(){v.hide()},o._options.idleTime)},hide:function(){if(o._options.idleMode&&o.getIndex()!==!1){o.trigger(i.IDLE_ENTER);var e=v.trunk.length;t.each(v.trunk,function(t,i){var n=i.data("idle");n&&(i.data("idle").complete=!1,U.animate(i,n.to,{duration:o._options.idleSpeed,complete:function(){t==e-1&&(v.active=!1)}}))})}},showAll:function(){o.clearTimer("idle"),t.each(v.trunk,function(t,e){v.show(e)})},show:function(e){var n=e.data("idle");v.active&&(n.busy||n.complete)||(n.busy=!0,o.trigger(i.IDLE_EXIT),o.clearTimer("idle"),U.animate(e,n.from,{duration:o._options.idleSpeed/2,complete:function(){v.active=!0,t(e).data("idle").busy=!1,t(e).data("idle").complete=!0}})),v.addTimer()}},_=this._lightbox={width:0,height:0,initialized:!1,active:null,image:null,elems:{},keymap:!1,init:function(){if(!_.initialized){_.initialized=!0;var e="overlay box content shadow title info close prevholder prev nextholder next counter image",n={},a=o._options,r="",s="position:absolute;",l="lightbox-",h={overlay:"position:fixed;display:none;opacity:"+a.overlayOpacity+";filter:alpha(opacity="+100*a.overlayOpacity+");top:0;left:0;width:100%;height:100%;background:"+a.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:s+"background:#000;width:100%;height:100%;",content:s+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:s+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:s+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:s+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:s+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:s+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:s+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:s+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},c=function(e){return e.hover(function(){t(this).css("color","#bbb")},function(){t(this).css("color","#444")})},u={},d="";d=y>7?9>y?"background:#000;filter:alpha(opacity=0);":"background:rgba(0,0,0,0);":"z-index:99999",h.nextholder+=d,h.prevholder+=d,t.each(h,function(t,e){r+=".galleria-"+l+t+"{"+e+"}"}),r+=".galleria-"+l+"box.iframe .galleria-"+l+"prevholder,.galleria-"+l+"box.iframe .galleria-"+l+"nextholder{width:100px;height:100px;top:50%;margin-top:-70px}",U.insertStyleTag(r,"galleria-lightbox"),t.each(e.split(" "),function(t,e){o.addElement("lightbox-"+e),n[e]=_.elems[e]=o.get("lightbox-"+e)}),_.image=new i.Picture,t.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(e,i){var n=[];t.each(i.split(" "),function(t,e){n.push(l+e)}),u[l+e]=n}),o.append(u),t(n.image).append(_.image.container),t(b().body).append(n.overlay,n.box),c(t(n.close).on("click:fast",_.hide).html("&#215;")),t.each(["Prev","Next"],function(e,a){var r=t(n[a.toLowerCase()]).html(/v/.test(a)?"&#8249;&#160;":"&#160;&#8250;"),s=t(n[a.toLowerCase()+"holder"]);return s.on("click:fast",function(){_["show"+a]()}),8>y||i.TOUCH?void r.show():void s.hover(function(){r.show()},function(t){r.stop().fadeOut(200)})}),t(n.overlay).on("click:fast",_.hide),i.IPAD&&(o._options.lightboxTransitionSpeed=0)}},rescale:function(e){var n=g.min(s.width()-40,_.width),a=g.min(s.height()-60,_.height),r=g.min(n/_.width,a/_.height),l=g.round(_.width*r)+40,h=g.round(_.height*r)+60,c={width:l,height:h,"margin-top":-1*g.ceil(h/2),"margin-left":-1*g.ceil(l/2)};e?t(_.elems.box).css(c):t(_.elems.box).animate(c,{duration:o._options.lightboxTransitionSpeed,easing:o._options.easing,complete:function(){var e=_.image,n=o._options.lightboxFadeSpeed;o.trigger({type:i.LIGHTBOX_IMAGE,imageTarget:e.image}),t(e.container).show(),t(e.image).animate({opacity:1},n),U.show(_.elems.info,n)}})},hide:function(){_.image.image=null,s.off("resize",_.rescale),t(_.elems.box).hide().find("iframe").remove(),U.hide(_.elems.info),o.detachKeyboard(),o.attachKeyboard(_.keymap),_.keymap=!1,U.hide(_.elems.overlay,200,function(){t(this).hide().css("opacity",o._options.overlayOpacity),o.trigger(i.LIGHTBOX_CLOSE)})},showNext:function(){_.show(o.getNext(_.active))},showPrev:function(){_.show(o.getPrev(_.active))},show:function(n){_.active=n="number"==typeof n?n:o.getIndex()||0,_.initialized||_.init(),o.trigger(i.LIGHTBOX_OPEN),_.keymap||(_.keymap=t.extend({},o._keyboard.map),o.attachKeyboard({escape:_.hide,right:_.showNext,left:_.showPrev})),s.off("resize",_.rescale);var a,r,l,h=o.getData(n),c=o.getDataLength(),u=o.getNext(n);U.hide(_.elems.info);try{for(l=o._options.preload;l>0;l--)r=new i.Picture,a=o.getData(u),r.preload(a.big?a.big:a.image),u=o.getNext(u)}catch(d){}_.image.isIframe=h.iframe&&!h.image,t(_.elems.box).toggleClass("iframe",_.image.isIframe),t(_.image.container).find(".galleria-videoicon").remove(),_.image.load(h.big||h.image||h.iframe,function(i){if(i.isIframe){var a=t(e).width(),r=t(e).height();if(i.video&&o._options.maxVideoSize){var l=g.min(o._options.maxVideoSize/a,o._options.maxVideoSize/r);1>l&&(a*=l,r*=l)}_.width=a,_.height=r}else _.width=i.original.width,_.height=i.original.height;if(t(i.image).css({width:i.isIframe?"100%":"100.1%",height:i.isIframe?"100%":"100.1%",top:0,bottom:0,zIndex:99998,opacity:0,visibility:"visible"}).parent().height("100%"),_.elems.title.innerHTML=h.title||"",_.elems.counter.innerHTML=n+1+" / "+c,s.resize(_.rescale),_.rescale(),h.image&&h.iframe){if(t(_.elems.box).addClass("iframe"),h.video){var u=z(i.container).hide();e.setTimeout(function(){u.fadeIn(200)},200)}t(i.image).css("cursor","pointer").mouseup(function(e,i){return function(n){t(_.image.container).find(".galleria-videoicon").remove(),n.preventDefault(),i.isIframe=!0,i.load(e.iframe+(e.video?"&autoplay=1":""),{width:"100%",height:8>y?t(_.image.container).height():"100%"})}}(h,i))}}),t(_.elems.overlay).show().css("visibility","visible"),t(_.elems.box).show()}},x=this._timer={trunk:{},add:function(t,i,n,a){
if(t=t||(new Date).getTime(),a=a||!1,this.clear(t),a){var r=i;i=function(){r(),x.add(t,i,n)}}this.trunk[t]=e.setTimeout(i,n)},clear:function(t){var i,n=function(t){e.clearTimeout(this.trunk[t]),delete this.trunk[t]};if(t&&t in this.trunk)n.call(this,t);else if("undefined"==typeof t)for(i in this.trunk)this.trunk.hasOwnProperty(i)&&n.call(this,i)}};return this},i.prototype={constructor:i,init:function(e,a){return a=k(a),this._original={target:e,options:a,data:null},this._target=this._dom.target=e.nodeName?e:t(e).get(0),this._original.html=this._target.innerHTML,E.push(this),this._target?(this._options={autoplay:!1,carousel:!0,carouselFollow:!0,carouselSpeed:400,carouselSteps:"auto",clicknext:!1,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(t){return{}},dataSelector:"img",dataSort:!1,dataSource:this._target,debug:n,dummy:n,easing:"galleria",extend:function(t){},fullscreenCrop:n,fullscreenDoubleTap:!0,fullscreenTransition:n,height:0,idleMode:!0,idleTime:3e3,idleSpeed:200,imageCrop:!1,imageMargin:0,imagePan:!1,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:n,initialTransition:n,keepSource:!1,layerFollow:!0,lightbox:!1,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:!0,maxScaleRatio:n,maxVideoSize:n,minScaleRatio:n,overlayOpacity:.85,overlayBackground:"#0b0b0b",pauseOnInteraction:!0,popupLinks:!1,preload:2,queue:!0,responsive:!0,show:0,showInfo:!0,showCounter:!0,showImagenav:!0,swipe:"auto",thumbCrop:!0,thumbEventType:"click:fast",thumbMargin:0,thumbQuality:"auto",thumbDisplayOrder:!0,thumbPosition:"50%",thumbnails:!0,touchTransition:n,transition:"fade",transitionInitial:n,transitionSpeed:400,trueFullscreen:!0,useCanvas:!1,variation:"",videoPoster:!0,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5e3,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}},this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial,a&&a.debug===!1&&(h=!1),a&&"number"==typeof a.imageTimeout&&(c=a.imageTimeout),a&&"string"==typeof a.dummy&&(u=a.dummy),t(this._target).children().hide(),i.QUIRK&&i.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML and add a correct doctype."),"object"==typeof i.theme?this._init():L.push(this),this):void i.raise("Target not found",!0)},_init:function(){var r=this,o=this._options;if(this._initialized)return i.raise("Init failed: Gallery instance already initialized."),this;if(this._initialized=!0,!i.theme)return i.raise("Init failed: No theme found.",!0),this;if(t.extend(!0,o,i.theme.defaults,this._original.options,i.configure.options),o.swipe=function(t){return"enforced"==t?!0:t===!1||"disabled"==t?!1:!!i.TOUCH}(o.swipe),o.swipe&&(o.clicknext=!1,o.imagePan=!1),function(t){return"getContext"in t?void(F=F||{elem:t,context:t.getContext("2d"),cache:{},length:0}):void(t=null)}(a.createElement("canvas")),this.bind(i.DATA,function(){e.screen&&e.screen.width&&Array.prototype.forEach&&this._data.forEach(function(t){var i="devicePixelRatio"in e?e.devicePixelRatio:1,n=g.max(e.screen.width,e.screen.height);1024>n*i&&(t.big=t.image)}),this._original.data=this._data,this.get("total").innerHTML=this.getDataLength();var t=this.$("container");r._options.height<2&&(r._userRatio=r._ratio=r._options.height);var n={width:0,height:0},a=function(){return r.$("stage").height()};U.wait({until:function(){return n=r._getWH(),t.width(n.width).height(n.height),a()&&n.width&&n.height>50},success:function(){r._width=n.width,r._height=n.height,r._ratio=r._ratio||n.height/n.width,i.WEBKIT?e.setTimeout(function(){r._run()},1):r._run()},error:function(){a()?i.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+n.width+"px, height: "+n.height+"px.",!0):i.raise("Could not extract a stage height from the CSS. Traced height: "+a()+"px.",!0)},timeout:"number"==typeof this._options.wait?this._options.wait:!1})}),this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]}),U.hide(this.$("counter").append(this.get("current"),a.createTextNode(" / "),this.get("total"))),this.setCounter("&#8211;"),U.hide(r.get("tooltip")),this.$("container").addClass((i.TOUCH?"touch":"notouch")+" "+this._options.variation),this._options.swipe||t.each(new Array(2),function(e){var n=new i.Picture;t(n.container).css({position:"absolute",top:0,left:0}).prepend(r._layers[e]=t(U.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]),r.$("images").append(n.container),r._controls[e]=n;var a=new i.Picture;a.isIframe=!0,t(a.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(n.container),r._controls.frames[e]=a}),this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"}),o.swipe&&(this.$("images").css({position:"absolute",top:0,left:0,width:0,height:"100%"}),this.finger=new i.Finger(this.get("stage"),{onchange:function(t){r.pause().show(t)},oncomplete:function(e){var i=g.max(0,g.min(parseInt(e,10),r.getDataLength()-1)),n=r.getData(i);t(r._thumbnails[i].container).addClass("active").siblings(".active").removeClass("active"),n&&(r.$("images").find("iframe").remove(),r.$("images").find(".galleria-frame").css("opacity",0).hide(),r._options.carousel&&r._options.carouselFollow&&r._carousel.follow(i))}}),this.bind(i.RESCALE,function(){this.finger.setup()}),this.$("stage").on("click",function(i){var a=r.getData();if(a){if(a.iframe){r.isPlaying()&&r.pause();var s=r._controls.frames[r._active],o=r._stageWidth,l=r._stageHeight;if(t(s.container).find("iframe").length)return;return t(s.container).css({width:o,height:l,opacity:0}).show().animate({opacity:1},200),void e.setTimeout(function(){s.load(a.iframe+(a.video?"&autoplay=1":""),{width:o,height:l},function(t){r.$("container").addClass("videoplay"),t.scale({width:r._stageWidth,height:r._stageHeight,iframelimit:a.video?r._options.maxVideoSize:n})})},100)}if(a.link)if(r._options.popupLinks){e.open(a.link,"_blank")}else e.location.href=a.link;else;}}),this.bind(i.IMAGE,function(e){r.setCounter(e.index),r.setInfo(e.index);var i=this.getNext(),n=this.getPrev(),a=[n,i];a.push(this.getNext(i),this.getPrev(n),r._controls.slides.length-1);var s=[];t.each(a,function(e,i){-1==t.inArray(i,s)&&s.push(i)}),t.each(s,function(e,i){var n=r.getData(i),a=r._controls.slides[i],s=r.isFullscreen()&&n.big?n.big:n.image||n.iframe;n.iframe&&!n.image&&(a.isIframe=!0),a.ready||r._controls.slides[i].load(s,function(e){e.isIframe||t(e.image).css("visibility","hidden"),r._scaleImage(e,{complete:function(e){e.isIframe||t(e.image).css({opacity:0,visibility:"visible"}).animate({opacity:1},200)}})})})})),this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"}),this.$("image-nav-right, image-nav-left").on("click:fast",function(t){o.pauseOnInteraction&&r.pause();var e=/right/.test(this.className)?"next":"prev";r[e]()}).on("click",function(t){t.preventDefault(),(o.clicknext||o.swipe)&&t.stopPropagation()}),t.each(["info","counter","image-nav"],function(t,e){o["show"+e.substr(0,1).toUpperCase()+e.substr(1).replace(/-/,"")]===!1&&U.moveOut(r.get(e.toLowerCase()))}),this.load(),o.keepSource||y||(this._target.innerHTML=""),this.get("errors")&&this.appendChild("target","errors"),this.appendChild("target","container"),o.carousel){var l=0,h=o.show;this.bind(i.THUMBNAIL,function(){this.updateCarousel(),++l==this.getDataLength()&&"number"==typeof h&&h>0&&this._carousel.follow(h)})}return o.responsive&&s.on("resize",function(){r.isFullscreen()||r.resize()}),o.fullscreenDoubleTap&&this.$("stage").on("touchstart",function(){var t,e,i,n,a,s,o=function(t){return t.originalEvent.touches?t.originalEvent.touches[0]:t};return r.$("stage").on("touchmove",function(){t=0}),function(l){if(!/(-left|-right)/.test(l.target.className)){if(s=U.timestamp(),e=o(l).pageX,i=o(l).pageY,l.originalEvent.touches.length<2&&300>s-t&&20>e-n&&20>i-a)return r.toggleFullscreen(),void l.preventDefault();t=s,n=e,a=i}}}()),t.each(i.on.binds,function(e,i){-1==t.inArray(i.hash,r._binds)&&r.bind(i.type,i.callback)}),this},addTimer:function(){return this._timer.add.apply(this._timer,U.array(arguments)),this},clearTimer:function(){return this._timer.clear.apply(this._timer,U.array(arguments)),this},_getWH:function(){var e,i=this.$("container"),n=this.$("target"),a=this,r={};return t.each(["width","height"],function(t,s){a._options[s]&&"number"==typeof a._options[s]?r[s]=a._options[s]:(e=[U.parseValue(i.css(s)),U.parseValue(n.css(s)),i[s](),n[s]()],a["_"+s]||e.splice(e.length,U.parseValue(i.css("min-"+s)),U.parseValue(n.css("min-"+s))),r[s]=g.max.apply(g,e))}),a._userRatio&&(r.height=r.width*a._userRatio),r},_createThumbnails:function(n){this.get("total").innerHTML=this.getDataLength();var r,s,o,l,h=this,c=this._options,u=n?this._data.length-n.length:0,d=u,f=[],p=0,g=8>y?"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",m=function(){var t=h.$("thumbnails").find(".active");return t.length?t.find("img").attr("src"):!1}(),v="string"==typeof c.thumbnails?c.thumbnails.toLowerCase():null,b=function(t){return a.defaultView&&a.defaultView.getComputedStyle?a.defaultView.getComputedStyle(s.container,null)[t]:l.css(t)},w=function(e,n,a){return function(){t(a).append(e),h.trigger({type:i.THUMBNAIL,thumbTarget:e,index:n,galleriaData:h.getData(n)})}},_=function(e){c.pauseOnInteraction&&h.pause();var i=t(e.currentTarget).data("index");h.getIndex()!==i&&h.show(i),e.preventDefault()},x=function(e,n){t(e.container).css("visibility","visible"),h.trigger({type:i.THUMBNAIL,thumbTarget:e.image,index:e.data.order,galleriaData:h.getData(e.data.order)}),"function"==typeof n&&n.call(h,e)},k=function(e,i){e.scale({width:e.data.width,height:e.data.height,crop:c.thumbCrop,margin:c.thumbMargin,canvas:c.useCanvas,position:c.thumbPosition,complete:function(e){var n,a,r=["left","top"],s=["Width","Height"];h.getData(e.index);t.each(s,function(i,s){n=s.toLowerCase(),(c.thumbCrop!==!0||c.thumbCrop===n)&&(a={},a[n]=e[n],t(e.container).css(a),a={},a[r[i]]=0,t(e.image).css(a)),e["outer"+s]=t(e.container)["outer"+s](!0)}),U.toggleQuality(e.image,c.thumbQuality===!0||"auto"===c.thumbQuality&&e.original.width<3*e.width),c.thumbDisplayOrder&&!e.lazy?t.each(f,function(t,e){return t===p&&e.ready&&!e.displayed?(p++,e.displayed=!0,void x(e,i)):void 0}):x(e,i)}})};for(n||(this._thumbnails=[],this.$("thumbnails").empty());this._data[u];u++)o=this._data[u],r=o.thumb||o.image,c.thumbnails!==!0&&"lazy"!=v||!o.thumb&&!o.image?o.iframe||"empty"===v||"numbers"===v?(s={container:U.create("galleria-image"),image:U.create("img","span"),ready:!0,data:{order:u}},"numbers"===v&&t(s.image).text(u+1),o.iframe&&t(s.image).addClass("iframe"),this.$("thumbnails").append(s.container),e.setTimeout(w(s.image,u,s.container),50+20*u)):s={container:null,image:null}:(s=new i.Picture(u),s.index=u,s.displayed=!1,s.lazy=!1,s.video=!1,this.$("thumbnails").append(s.container),l=t(s.container),l.css("visibility","hidden"),s.data={width:U.parseValue(b("width")),height:U.parseValue(b("height")),order:u,src:r},c.thumbCrop!==!0?l.css({width:"auto",height:"auto"}):l.css({width:s.data.width,height:s.data.height}),"lazy"==v?(l.addClass("lazy"),s.lazy=!0,s.load(g,{height:s.data.height,width:s.data.width})):s.load(r,k),"all"===c.preload&&s.preload(o.image)),t(s.container).add(c.keepSource&&c.linkSourceImages?o.original:null).data("index",u).on(c.thumbEventType,_).data("thumbload",k),m===r&&t(s.container).addClass("active"),this._thumbnails.push(s);return f=this._thumbnails.slice(d),this},lazyLoad:function(e,i){var n=e.constructor==Array?e:[e],a=this,r=0;return t.each(n,function(e,s){if(!(s>a._thumbnails.length-1)){var o=a._thumbnails[s],l=o.data,h=function(){++r==n.length&&"function"==typeof i&&i.call(a)},c=t(o.container).data("thumbload");o.video?c.call(a,o,h):o.load(l.src,function(t){c.call(a,t,h)})}}),this},lazyLoadChunks:function(t,i){var n=this.getDataLength(),a=0,r=0,s=[],o=[],l=this;for(i=i||0;n>a;a++)o.push(a),(++r==t||a==n-1)&&(s.push(o),r=0,o=[]);var h=function(t){var n=s.shift();n&&e.setTimeout(function(){l.lazyLoad(n,function(){h(!0)})},i&&t?i:0)};return h(!1),this},_run:function(){var a=this;a._createThumbnails(),U.wait({timeout:1e4,until:function(){return i.OPERA&&a.$("stage").css("display","inline-block"),a._stageWidth=a.$("stage").width(),a._stageHeight=a.$("stage").height(),a._stageWidth&&a._stageHeight>50},success:function(){if(I.push(a),a._options.swipe){var r=a.$("images").width(a.getDataLength()*a._stageWidth);t.each(new Array(a.getDataLength()),function(e){var n=new i.Picture,s=a.getData(e);t(n.container).css({position:"absolute",top:0,left:a._stageWidth*e}).prepend(a._layers[e]=t(U.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]).appendTo(r),s.video&&z(n.container),a._controls.slides.push(n);var o=new i.Picture;o.isIframe=!0,t(o.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(n.container),a._controls.frames.push(o)}),a.finger.setup()}return U.show(a.get("counter")),a._options.carousel&&a._carousel.bindControls(),a._options.autoplay&&(a.pause(),"number"==typeof a._options.autoplay&&(a._playtime=a._options.autoplay),a._playing=!0),a._firstrun?(a._options.autoplay&&a.trigger(i.PLAY),void("number"==typeof a._options.show&&a.show(a._options.show))):(a._firstrun=!0,i.History&&i.History.change(function(t){isNaN(t)?e.history.go(-1):a.show(t,n,!0)}),a.trigger(i.READY),i.theme.init.call(a,a._options),t.each(i.ready.callbacks,function(t,e){"function"==typeof e&&e.call(a,a._options)}),a._options.extend.call(a,a._options),/^[0-9]{1,4}$/.test(f)&&i.History?a.show(f,n,!0):a._data[a._options.show]&&a.show(a._options.show),void(a._options.autoplay&&a.trigger(i.PLAY)))},error:function(){i.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+a._stageWidth+"px, height: "+a._stageHeight+"px.",!0)}})},load:function(e,n,a){var r=this,s=this._options;return this._data=[],this._thumbnails=[],this.$("thumbnails").empty(),"function"==typeof n&&(a=n,n=null),e=e||s.dataSource,n=n||s.dataSelector,a=a||s.dataConfig,t.isPlainObject(e)&&(e=[e]),t.isArray(e)?this.validate(e)?this._data=e:i.raise("Load failed: JSON Array not valid."):(n+=",.video,.iframe",t(e).find(n).each(function(e,i){i=t(i);var n={},s=i.parent(),o=s.attr("href"),l=s.attr("rel");o&&("IMG"==i[0].nodeName||i.hasClass("video"))&&S(o)?n.video=o:o&&i.hasClass("iframe")?n.iframe=o:n.image=n.big=o,l&&(n.big=l),t.each("big title description link layer image".split(" "),function(t,e){i.data(e)&&(n[e]=i.data(e).toString())}),n.big||(n.big=n.image),r._data.push(t.extend({title:i.attr("title")||"",thumb:i.attr("src"),image:i.attr("src"),big:i.attr("src"),description:i.attr("alt")||"",link:i.attr("longdesc"),original:i.get(0)},n,a(i)))})),"function"==typeof s.dataSort?o.sort.call(this._data,s.dataSort):"random"==s.dataSort&&this._data.sort(function(){return g.round(g.random())-.5}),this.getDataLength()&&this._parseData(function(){this.trigger(i.DATA)}),this},_parseData:function(e){var i,a=this,r=!1,s=function(){var i=!0;t.each(a._data,function(t,e){return e.loading?(i=!1,!1):void 0}),i&&!r&&(r=!0,e.call(a))};return t.each(this._data,function(e,r){if(i=a._data[e],"thumb"in r==!1&&(i.thumb=r.image),r.big||(i.big=r.image),"video"in r){var o=S(r.video);o&&(i.iframe=new T(o.provider,o.id).embed()+function(){if("object"==typeof a._options[o.provider]){var e="?",i=[];return t.each(a._options[o.provider],function(t,e){i.push(t+"="+e)}),"youtube"==o.provider&&(i=["wmode=opaque"].concat(i)),e+i.join("&")}return""}(),i.thumb&&i.image||t.each(["thumb","image"],function(t,e){if("image"==e&&!a._options.videoPoster)return void(i.image=n);var r=new T(o.provider,o.id);i[e]||(i.loading=!0,r.getMedia(e,function(t,e){return function(i){t[e]=i,"image"!=e||t.big||(t.big=t.image),delete t.loading,s()}}(i,e)))}))}}),s(),this},destroy:function(){return this.$("target").data("galleria",null),this.$("container").off("galleria"),this.get("target").innerHTML=this._original.html,this.clearTimer(),U.removeFromArray(E,this),U.removeFromArray(I,this),i._waiters.length&&t.each(i._waiters,function(t,i){i&&e.clearTimeout(i)}),this},splice:function(){var t=this,i=U.array(arguments);return e.setTimeout(function(){o.splice.apply(t._data,i),t._parseData(function(){t._createThumbnails()})},2),t},push:function(){var t=this,i=U.array(arguments);return 1==i.length&&i[0].constructor==Array&&(i=i[0]),e.setTimeout(function(){o.push.apply(t._data,i),t._parseData(function(){t._createThumbnails(i)})},2),t},_getActive:function(){return this._controls.getActive()},validate:function(t){return!0},bind:function(t,e){return t=D(t),this.$("container").on(t,this.proxy(e)),this},unbind:function(t){return t=D(t),this.$("container").off(t),this},trigger:function(e){return e="object"==typeof e?t.extend(e,{scope:this}):{type:D(e),scope:this},this.$("container").trigger(e),this},addIdleState:function(t,e,i,n){return this._idle.add.apply(this._idle,U.array(arguments)),this},removeIdleState:function(t){return this._idle.remove.apply(this._idle,U.array(arguments)),this},enterIdleMode:function(){return this._idle.hide(),this},exitIdleMode:function(){return this._idle.showAll(),this},enterFullscreen:function(t){return this._fullscreen.enter.apply(this,U.array(arguments)),this},exitFullscreen:function(t){return this._fullscreen.exit.apply(this,U.array(arguments)),this},toggleFullscreen:function(t){return this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,U.array(arguments)),this},bindTooltip:function(t,e){return this._tooltip.bind.apply(this._tooltip,U.array(arguments)),this},defineTooltip:function(t,e){return this._tooltip.define.apply(this._tooltip,U.array(arguments)),this},refreshTooltip:function(t){return this._tooltip.show.apply(this._tooltip,U.array(arguments)),this},openLightbox:function(){return this._lightbox.show.apply(this._lightbox,U.array(arguments)),this},closeLightbox:function(){return this._lightbox.hide.apply(this._lightbox,U.array(arguments)),this},hasVariation:function(e){return t.inArray(e,this._options.variation.split(/\s+/))>-1},getActiveImage:function(){var t=this._getActive();return t?t.image:n},getActiveThumb:function(){return this._thumbnails[this._active].image||n},getMousePosition:function(t){return{x:t.pageX-this.$("container").offset().left,y:t.pageY-this.$("container").offset().top}},addPan:function(e){if(this._options.imageCrop!==!1){e=t(e||this.getActiveImage());var i=this,n=e.width()/2,a=e.height()/2,r=parseInt(e.css("left"),10),s=parseInt(e.css("top"),10),o=r||0,l=s||0,h=0,c=0,u=!1,d=U.timestamp(),f=0,p=0,m=function(t,i,n){if(t>0&&(p=g.round(g.max(-1*t,g.min(0,i))),f!==p))if(f=p,8===y)e.parent()["scroll"+n](-1*p);else{var a={};a[n.toLowerCase()]=p,e.css(a)}},v=function(t){U.timestamp()-d<50||(u=!0,n=i.getMousePosition(t).x,a=i.getMousePosition(t).y)},b=function(t){u&&(h=e.width()-i._stageWidth,c=e.height()-i._stageHeight,r=n/i._stageWidth*h*-1,s=a/i._stageHeight*c*-1,o+=(r-o)/i._options.imagePanSmoothness,l+=(s-l)/i._options.imagePanSmoothness,m(c,l,"Top"),m(h,o,"Left"))};return 8===y&&(e.parent().scrollTop(-1*l).scrollLeft(-1*o),e.css({top:0,left:0})),this.$("stage").off("mousemove",v).on("mousemove",v),this.addTimer("pan"+i._id,b,50,!0),this}},proxy:function(t,e){return"function"!=typeof t?m:(e=e||this,function(){return t.apply(e,U.array(arguments))})},removePan:function(){return this.$("stage").off("mousemove"),this.clearTimer("pan"+this._id),this},addElement:function(e){var i=this._dom;return t.each(U.array(arguments),function(t,e){i[e]=U.create("galleria-"+e)}),this},attachKeyboard:function(t){return this._keyboard.attach.apply(this._keyboard,U.array(arguments)),this},detachKeyboard:function(){return this._keyboard.detach.apply(this._keyboard,U.array(arguments)),this},appendChild:function(t,e){return this.$(t).append(this.get(e)||e),this},prependChild:function(t,e){return this.$(t).prepend(this.get(e)||e),this},remove:function(t){return this.$(U.array(arguments).join(",")).remove(),this},append:function(t){var e,i;for(e in t)if(t.hasOwnProperty(e))if(t[e].constructor===Array)for(i=0;t[e][i];i++)this.appendChild(e,t[e][i]);else this.appendChild(e,t[e]);return this},_scaleImage:function(e,i){if(e=e||this._controls.getActive()){var n,a=function(e){t(e.container).children(":first").css({top:g.max(0,U.parseValue(e.image.style.top)),left:g.max(0,U.parseValue(e.image.style.left)),width:U.parseValue(e.image.width),height:U.parseValue(e.image.height)})};return i=t.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition,iframelimit:this._options.maxVideoSize},i),this._options.layerFollow&&this._options.imageCrop!==!0?"function"==typeof i.complete?(n=i.complete,i.complete=function(){n.call(e,e),a(e)}):i.complete=a:t(e.container).children(":first").css({top:0,left:0}),e.scale(i),this}},updateCarousel:function(){return this._carousel.update(),this},resize:function(e,i){"function"==typeof e&&(i=e,e=n),e=t.extend({width:0,height:0},e);var a=this,r=this.$("container");return t.each(e,function(t,i){i||(r[t]("auto"),e[t]=a._getWH()[t])}),t.each(e,function(t,e){r[t](e)}),this.rescale(i)},rescale:function(e,a,r){var s=this;"function"==typeof e&&(r=e,e=n);var o=function(){s._stageWidth=e||s.$("stage").width(),s._stageHeight=a||s.$("stage").height(),s._options.swipe?(t.each(s._controls.slides,function(e,i){s._scaleImage(i),t(i.container).css("left",s._stageWidth*e)}),s.$("images").css("width",s._stageWidth*s.getDataLength())):s._scaleImage(),s._options.carousel&&s.updateCarousel();var n=s._controls.frames[s._controls.active];n&&s._controls.frames[s._controls.active].scale({width:s._stageWidth,height:s._stageHeight,iframelimit:s._options.maxVideoSize}),s.trigger(i.RESCALE),"function"==typeof r&&r.call(s)};return o.call(s),this},refreshImage:function(){return this._scaleImage(),this._options.imagePan&&this.addPan(),this},_preload:function(){if(this._options.preload){var t,e,n,a=this.getNext();try{for(e=this._options.preload;e>0;e--)t=new i.Picture,n=this.getData(a),t.preload(this.isFullscreen()&&n.big?n.big:n.image),a=this.getNext(a)}catch(r){}}},show:function(n,a,r){var s=this._options.swipe;if(s||!(this._queue.length>3||n===!1||!this._options.queue&&this._queue.stalled)){if(n=g.max(0,g.min(parseInt(n,10),this.getDataLength()-1)),a="undefined"!=typeof a?!!a:n<this.getIndex(),r=r||!1,!r&&i.History)return void i.History.set(n.toString());if(this.finger&&n!==this._active&&(this.finger.to=-(n*this.finger.width),this.finger.index=n),this._active=n,s){var l=this.getData(n),h=this;if(!l)return;var c=this.isFullscreen()&&l.big?l.big:l.image||l.iframe,u=this._controls.slides[n],d=u.isCached(c),f=this._thumbnails[n],p={cached:d,index:n,rewind:a,imageTarget:u.image,thumbTarget:f.image,galleriaData:l};this.trigger(t.extend(p,{type:i.LOADSTART})),h.$("container").removeClass("videoplay");var m=function(){h._layers[n].innerHTML=h.getData().layer||"",h.trigger(t.extend(p,{type:i.LOADFINISH})),h._playCheck()};h._preload(),e.setTimeout(function(){u.ready&&t(u.image).attr("src")==c?(h.trigger(t.extend(p,{type:i.IMAGE})),m()):(l.iframe&&!l.image&&(u.isIframe=!0),u.load(c,function(e){h._scaleImage(e,m).trigger(t.extend(p,{type:i.IMAGE})),m()}))},100)}else o.push.call(this._queue,{index:n,rewind:a}),this._queue.stalled||this._show();return this}},_show:function(){var a=this,r=this._queue[0],s=this.getData(r.index);if(s){var l=this.isFullscreen()&&s.big?s.big:s.image||s.iframe,h=this._controls.getActive(),c=this._controls.getNext(),u=c.isCached(l),d=this._thumbnails[r.index],f=function(){t(c.image).trigger("mouseup")};a.$("container").toggleClass("iframe",!!s.isIframe).removeClass("videoplay");var p=function(r,s,l,h,c){return function(){var u;R.active=!1,U.toggleQuality(s.image,a._options.imageQuality),a._layers[a._controls.active].innerHTML="",t(l.container).css({zIndex:0,opacity:0}).show(),t(l.container).find("iframe, .galleria-videoicon").remove(),t(a._controls.frames[a._controls.active].container).hide(),t(s.container).css({zIndex:1,left:0,top:0}).show(),a._controls.swap(),a._options.imagePan&&a.addPan(s.image),(r.iframe&&r.image||r.link||a._options.lightbox||a._options.clicknext)&&t(s.image).css({cursor:"pointer"}).on("mouseup",function(s){if(!("number"==typeof s.which&&s.which>1)){if(r.iframe){a.isPlaying()&&a.pause();var o=a._controls.frames[a._controls.active],l=a._stageWidth,h=a._stageHeight;return t(o.container).css({width:l,height:h,opacity:0}).show().animate({opacity:1},200),void e.setTimeout(function(){o.load(r.iframe+(r.video?"&autoplay=1":""),{width:l,height:h},function(t){a.$("container").addClass("videoplay"),t.scale({width:a._stageWidth,height:a._stageHeight,iframelimit:r.video?a._options.maxVideoSize:n})})},100)}return a._options.clicknext&&!i.TOUCH?(a._options.pauseOnInteraction&&a.pause(),void a.next()):r.link?void(a._options.popupLinks?u=e.open(r.link,"_blank"):e.location.href=r.link):void(a._options.lightbox&&a.openLightbox())}}),a._playCheck(),a.trigger({type:i.IMAGE,index:h.index,imageTarget:s.image,thumbTarget:c.image,galleriaData:r}),o.shift.call(a._queue),a._queue.stalled=!1,a._queue.length&&a._show()}}(s,c,h,r,d);this._options.carousel&&this._options.carouselFollow&&this._carousel.follow(r.index),a._preload(),U.show(c.container),c.isIframe=s.iframe&&!s.image,t(a._thumbnails[r.index].container).addClass("active").siblings(".active").removeClass("active"),a.trigger({type:i.LOADSTART,cached:u,index:r.index,rewind:r.rewind,imageTarget:c.image,thumbTarget:d.image,galleriaData:s}),a._queue.stalled=!0,c.load(l,function(e){var o=t(a._layers[1-a._controls.active]).html(s.layer||"").hide();a._scaleImage(e,{complete:function(e){"image"in h&&U.toggleQuality(h.image,!1),U.toggleQuality(e.image,!1),a.removePan(),a.setInfo(r.index),a.setCounter(r.index),s.layer&&(o.show(),(s.iframe&&s.image||s.link||a._options.lightbox||a._options.clicknext)&&o.css("cursor","pointer").off("mouseup").mouseup(f)),s.video&&s.image&&z(e.container);var l=a._options.transition;if(t.each({initial:null===h.image,touch:i.TOUCH,fullscreen:a.isFullscreen()},function(t,e){return e&&a._options[t+"Transition"]!==n?(l=a._options[t+"Transition"],!1):void 0}),l in R.effects==!1)p();else{var c={prev:h.container,next:e.container,rewind:r.rewind,speed:a._options.transitionSpeed||400};R.active=!0,R.init.call(a,l,c,p)}a.trigger({type:i.LOADFINISH,cached:u,index:r.index,rewind:r.rewind,imageTarget:e.image,thumbTarget:a._thumbnails[r.index].image,galleriaData:a.getData(r.index)})}})})}},getNext:function(t){return t="number"==typeof t?t:this.getIndex(),t===this.getDataLength()-1?0:t+1},getPrev:function(t){return t="number"==typeof t?t:this.getIndex(),0===t?this.getDataLength()-1:t-1},next:function(){return this.getDataLength()>1&&this.show(this.getNext(),!1),this},prev:function(){return this.getDataLength()>1&&this.show(this.getPrev(),!0),this},get:function(t){return t in this._dom?this._dom[t]:null},getData:function(t){return t in this._data?this._data[t]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return"number"==typeof this._active?this._active:!1},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(t){return"undefined"==typeof t?this._options:this._options[t]},setOptions:function(e,i){return"object"==typeof e?t.extend(this._options,e):this._options[e]=i,this},play:function(t){return this._playing=!0,this._playtime=t||this._playtime,this._playCheck(),this.trigger(i.PLAY),this},pause:function(){return this._playing=!1,this.trigger(i.PAUSE),this},playToggle:function(t){return this._playing?this.pause():this.play(t)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active},_playCheck:function(){var t=this,e=0,n=20,a=U.timestamp(),r="play"+this._id;if(this._playing){this.clearTimer(r);var s=function(){return e=U.timestamp()-a,e>=t._playtime&&t._playing?(t.clearTimer(r),void t.next()):void(t._playing&&(t.trigger({type:i.PROGRESS,percent:g.ceil(e/t._playtime*100),seconds:g.floor(e/1e3),milliseconds:e}),t.addTimer(r,s,n)))};t.addTimer(r,s,n)}},setPlaytime:function(t){return this._playtime=t,this},setIndex:function(t){return this._active=t,this},setCounter:function(t){if("number"==typeof t?t++:"undefined"==typeof t&&(t=this.getIndex()+1),this.get("current").innerHTML=t,y){var e=this.$("counter"),i=e.css("opacity");1===parseInt(i,10)?U.removeAlpha(e[0]):this.$("counter").css("opacity",i)}return this},setInfo:function(e){var i=this,n=this.getData(e);return t.each(["title","description"],function(t,e){var a=i.$("info-"+e);n[e]?a[n[e].length?"show":"hide"]().html(n[e]):a.empty().hide()}),this},hasInfo:function(t){var e,i="title description".split(" ");for(e=0;i[e];e++)if(this.getData(t)[i[e]])return!0;return!1},jQuery:function(e){var i=this,n=[];t.each(e.split(","),function(e,a){a=t.trim(a),i.get(a)&&n.push(a)});var a=t(i.get(n.shift()));return t.each(n,function(t,e){a=a.add(i.get(e))}),a},$:function(t){return this.jQuery.apply(this,U.array(arguments))}},t.each(x,function(t,e){var n=/_/.test(e)?e.replace(/_/g,""):e;i[e.toUpperCase()]="galleria."+n}),t.extend(i,{IE9:9===y,IE8:8===y,IE7:7===y,IE6:6===y,IE:y,WEBKIT:/webkit/.test(d),CHROME:/chrome/.test(d),SAFARI:/safari/.test(d)&&!/chrome/.test(d),QUIRK:y&&a.compatMode&&"BackCompat"===a.compatMode,MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!e.opera,IPHONE:/iphone/.test(d),IPAD:/ipad/.test(d),ANDROID:/android/.test(d),TOUCH:"ontouchstart"in a}),i.addTheme=function(n){n.name||i.raise("No theme name specified"),"object"!=typeof n.defaults?n.defaults={}:n.defaults=k(n.defaults);var a,r=!1;return"string"==typeof n.css?(t("link").each(function(t,e){return a=new RegExp(n.css),a.test(e.href)?(r=!0,$(n),!1):void 0}),r||t(function(){var s=0,o=function(){t("script").each(function(t,i){a=new RegExp("galleria\\."+n.name.toLowerCase()+"\\."),a.test(i.src)&&(r=i.src.replace(/[^\/]*$/,"")+n.css,e.setTimeout(function(){U.loadCSS(r,"galleria-theme",function(){$(n)})},1))}),r||(s++>5?i.raise("No theme CSS loaded"):e.setTimeout(o,500))};o()})):$(n),n},i.loadTheme=function(n,a){if(!t("script").filter(function(){return t(this).attr("src")==n}).length){var r,s=!1;return t(e).load(function(){s||(r=e.setTimeout(function(){s||i.theme||i.raise("Galleria had problems loading theme at "+n+". Please check theme path or load manually.",!0)},2e4))}),i.unloadTheme(),U.loadScript(n,function(){s=!0,e.clearTimeout(r)}),i}},i.unloadTheme=function(){return"object"==typeof i.theme&&(t("script").each(function(e,n){new RegExp("galleria\\."+i.theme.name+"\\.").test(n.src)&&t(n).remove()}),i.theme=n),i},i.get=function(t){return E[t]?E[t]:"number"!=typeof t?E:void i.raise("Gallery index "+t+" not found")},i.configure=function(e,n){var a={};return"string"==typeof e&&n?(a[e]=n,e=a):t.extend(a,e),i.configure.options=a,t.each(i.get(),function(t,e){e.setOptions(a)}),i},i.configure.options={},i.on=function(e,n){if(e){n=n||m;var a=e+n.toString().replace(/\s/g,"")+U.timestamp();return t.each(i.get(),function(t,i){i._binds.push(a),i.bind(e,n)}),i.on.binds.push({type:e,callback:n,hash:a}),i}},i.on.binds=[],i.run=function(e,n){return t.isFunction(n)&&(n={extend:n}),t(e||"#galleria").galleria(n),i},i.addTransition=function(t,e){return R.effects[t]=e,i},i.utils=U,i.log=function(){var i=U.array(arguments);if(!("console"in e&&"log"in e.console))return e.alert(i.join("<br>"));try{return e.console.log.apply(e.console,i)}catch(n){t.each(i,function(){e.console.log(this)})}},i.ready=function(e){return"function"!=typeof e?i:(t.each(I,function(t,i){e.call(i,i._options)}),i.ready.callbacks.push(e),i)},i.ready.callbacks=[],i.raise=function(e,i){var n=i?"Fatal error":"Error",a={color:"#fff",position:"absolute",top:0,left:0,zIndex:1e5},r=function(e){var r='<div style="padding:4px;margin:0 0 2px;background:#'+(i?"811":"222")+';">'+(i?"<strong>"+n+": </strong>":"")+e+"</div>";t.each(E,function(){var t=this.$("errors"),e=this.$("target");t.length||(e.css("position","relative"),t=this.addElement("errors").appendChild("target","errors").$("errors").css(a)),
t.append(r)}),E.length||t("<div>").css(t.extend(a,{position:"fixed"})).append(r).appendTo(b().body)};if(h){if(r(e),i)throw new Error(n+": "+e)}else if(i){if(M)return;M=!0,i=!1,r("Gallery could not load.")}},i.version=l,i.requires=function(t,e){return e=e||"You need to upgrade Galleria to version "+t+" to use one or more components.",i.version<t&&i.raise(e,!0),i},i.Picture=function(e){this.id=e||null,this.image=null,this.container=U.create("galleria-image"),t(this.container).css({overflow:"hidden",position:"relative"}),this.original={width:0,height:0},this.ready=!1,this.isIframe=!1},i.Picture.prototype={cache:{},show:function(){U.show(this.image)},hide:function(){U.moveOut(this.image)},clear:function(){this.image=null},isCached:function(t){return!!this.cache[t]},preload:function(e){t(new Image).load(function(t,e){return function(){e[t]=t}}(e,this.cache)).attr("src",e)},load:function(n,a,r){if("function"==typeof a&&(r=a,a=null),this.isIframe){var s="if"+(new Date).getTime(),o=this.image=t("<iframe>",{src:n,frameborder:0,id:s,allowfullscreen:!0,css:{visibility:"hidden"}})[0];return a&&t(o).css(a),t(this.container).find("iframe,img").remove(),this.container.appendChild(this.image),t("#"+s).load(function(i,n){return function(){e.setTimeout(function(){t(i.image).css("visibility","visible"),"function"==typeof n&&n.call(i,i)},10)}}(this,r)),this.container}this.image=new Image,i.IE8&&t(this.image).css("filter","inherit");var l=!1,h=!1,c=t(this.container),d=t(this.image),f=function(){l?u?t(this).attr("src",u):i.raise("Image not found: "+n):(l=!0,e.setTimeout(function(t,e){return function(){t.attr("src",e+(e.indexOf("?")>-1?"&":"?")+U.timestamp())}}(t(this),n),50))},p=function(n,r,s){return function(){var o=function(){t(this).off("load"),n.original=a||{height:this.height,width:this.width},i.HAS3D&&(this.style.MozTransform=this.style.webkitTransform="translate3d(0,0,0)"),c.append(this),n.cache[s]=s,"function"==typeof r&&e.setTimeout(function(){r.call(n,n)},1)};this.width&&this.height?o.call(this):!function(e){U.wait({until:function(){return e.width&&e.height},success:function(){o.call(e)},error:function(){h?i.raise("Could not extract width/height from image: "+e.src+". Traced measures: width:"+e.width+"px, height: "+e.height+"px."):(t(new Image).load(p).attr("src",e.src),h=!0)},timeout:100})}(this)}}(this,r,n);return c.find("iframe,img").remove(),d.css("display","block"),U.hide(this.image),t.each("minWidth minHeight maxWidth maxHeight".split(" "),function(t,e){d.css(e,/min/.test(e)?"0":"none")}),d.load(p).on("error",f).attr("src",n),this.container},scale:function(e){var a=this;if(e=t.extend({width:0,height:0,min:n,max:n,margin:0,complete:m,position:"center",crop:!1,canvas:!1,iframelimit:n},e),this.isIframe){var r,s,o=e.width,l=e.height;if(e.iframelimit){var h=g.min(e.iframelimit/o,e.iframelimit/l);1>h?(r=o*h,s=l*h,t(this.image).css({top:l/2-s/2,left:o/2-r/2,position:"absolute"})):t(this.image).css({top:0,left:0})}t(this.image).width(r||o).height(s||l).removeAttr("width").removeAttr("height"),t(this.container).width(o).height(l),e.complete.call(a,a);try{this.image.contentWindow&&t(this.image.contentWindow).trigger("resize")}catch(c){}return this.container}if(!this.image)return this.container;var u,d,f,p=t(a.container);return U.wait({until:function(){return u=e.width||p.width()||U.parseValue(p.css("width")),d=e.height||p.height()||U.parseValue(p.css("height")),u&&d},success:function(){var i=(u-2*e.margin)/a.original.width,n=(d-2*e.margin)/a.original.height,r=g.min(i,n),s=g.max(i,n),o={"true":s,width:i,height:n,"false":r,landscape:a.original.width>a.original.height?s:r,portrait:a.original.width<a.original.height?s:r},l=o[e.crop.toString()],h="";e.max&&(l=g.min(e.max,l)),e.min&&(l=g.max(e.min,l)),t.each(["width","height"],function(e,i){t(a.image)[i](a[i]=a.image[i]=g.round(a.original[i]*l))}),t(a.container).width(u).height(d),e.canvas&&F&&(F.elem.width=a.width,F.elem.height=a.height,h=a.image.src+":"+a.width+"x"+a.height,a.image.src=F.cache[h]||function(t){F.context.drawImage(a.image,0,0,a.original.width*l,a.original.height*l);try{return f=F.elem.toDataURL(),F.length+=f.length,F.cache[t]=f,f}catch(e){return a.image.src}}(h));var c={},p={},m=function(e,i,n){var r=0;if(/\%/.test(e)){var s=parseInt(e,10)/100,o=a.image[i]||t(a.image)[i]();r=g.ceil(-1*o*s+n*s)}else r=U.parseValue(e);return r},v={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};t.each(e.position.toLowerCase().split(" "),function(t,e){"center"===e&&(e="50%"),c[t?"top":"left"]=e}),t.each(c,function(e,i){v.hasOwnProperty(i)&&t.extend(p,v[i])}),c=c.top?t.extend(c,p):p,c=t.extend({top:"50%",left:"50%"},c),t(a.image).css({position:"absolute",top:m(c.top,"height",d),left:m(c.left,"width",u)}),a.show(),a.ready=!0,e.complete.call(a,a)},error:function(){i.raise("Could not scale image: "+a.image.src)},timeout:1e3}),this}},t.extend(t.easing,{galleria:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},galleriaIn:function(t,e,i,n,a){return n*(e/=a)*e+i},galleriaOut:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i}}),i.Finger=function(){var n=(g.abs,i.HAS3D=function(){var e,i,n=a.createElement("p"),r=["webkit","O","ms","Moz",""],s=0,o="transform";for(b().html.insertBefore(n,null);r[s];s++)i=r[s]?r[s]+"Transform":o,void 0!==n.style[i]&&(n.style[i]="translate3d(1px,1px,1px)",e=t(n).css(r[s]?"-"+r[s].toLowerCase()+"-"+o:o));return b().html.removeChild(n),void 0!==e&&e.length>0&&"none"!==e}()),s=function(){var t="RequestAnimationFrame";return e.requestAnimationFrame||e["webkit"+t]||e["moz"+t]||e["o"+t]||e["ms"+t]||function(t){e.setTimeout(t,1e3/60)}}(),o=function(i,a){if(this.config={start:0,duration:500,onchange:function(){},oncomplete:function(){},easing:function(t,e,i,n,a){return-n*((e=e/a-1)*e*e*e-1)+i}},this.easeout=function(t,e,i,n,a){return n*((e=e/a-1)*e*e*e*e+1)+i},i.children.length){var r=this;t.extend(this.config,a),this.elem=i,this.child=i.children[0],this.to=this.pos=0,this.touching=!1,this.start={},this.index=this.config.start,this.anim=0,this.easing=this.config.easing,n||(this.child.style.position="absolute",this.elem.style.position="relative"),t.each(["ontouchstart","ontouchmove","ontouchend","setup"],function(t,e){r[e]=function(t){return function(){t.apply(r,arguments)}}(r[e])}),this.setX=function(){var t=r.child.style;return n?void(t.MozTransform=t.webkitTransform="translate3d("+r.pos+"px,0,0)"):void(t.left=r.pos+"px")},t(i).on("touchstart",this.ontouchstart),t(e).on("resize",this.setup),t(e).on("orientationchange",this.setup),this.setup(),function o(){s(o),r.loop.call(r)}()}};return o.prototype={constructor:o,setup:function(){this.width=t(this.elem).width(),this.length=g.ceil(t(this.child).width()/this.width),0!==this.index&&(this.index=g.max(0,g.min(this.index,this.length-1)),this.pos=this.to=-this.width*this.index)},setPosition:function(t){this.pos=t,this.to=t},ontouchstart:function(t){var e=t.originalEvent.touches;this.start={pageX:e[0].pageX,pageY:e[0].pageY,time:+new Date},this.isScrolling=null,this.touching=!0,this.deltaX=0,r.on("touchmove",this.ontouchmove),r.on("touchend",this.ontouchend)},ontouchmove:function(t){var e=t.originalEvent.touches;e&&e.length>1||t.scale&&1!==t.scale||(this.deltaX=e[0].pageX-this.start.pageX,null===this.isScrolling&&(this.isScrolling=!!(this.isScrolling||g.abs(this.deltaX)<g.abs(e[0].pageY-this.start.pageY))),this.isScrolling||(t.preventDefault(),this.deltaX/=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?g.abs(this.deltaX)/this.width+1.8:1,this.to=this.deltaX-this.index*this.width),t.stopPropagation())},ontouchend:function(t){this.touching=!1;var e=+new Date-this.start.time<250&&g.abs(this.deltaX)>40||g.abs(this.deltaX)>this.width/2,i=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.show(this.index+(e&&!i?this.deltaX<0?1:-1:0)),r.off("touchmove",this.ontouchmove),r.off("touchend",this.ontouchend)},show:function(t){t!=this.index?this.config.onchange.call(this,t):this.to=-(t*this.width)},moveTo:function(t){t!=this.index&&(this.pos=this.to=-(t*this.width),this.index=t)},loop:function(){var t=this.to-this.pos,e=1;if(this.width&&t&&(e=g.max(.5,g.min(1.5,g.abs(t/this.width)))),this.touching||g.abs(t)<=1)this.pos=this.to,t=0,this.anim&&!this.touching&&this.config.oncomplete(this.index),this.anim=0,this.easing=this.config.easing;else{this.anim||(this.anim={start:this.pos,time:+new Date,distance:t,factor:e,destination:this.to});var i=+new Date-this.anim.time,n=this.config.duration*this.anim.factor;if(i>n||this.anim.destination!=this.to)return this.anim=0,void(this.easing=this.easeout);this.pos=this.easing(null,i,this.anim.start,this.anim.distance,n)}this.setX()}},o}(),t.fn.galleria=function(e){var n=this.selector;return t(this).length?this.each(function(){t.data(this,"galleria")&&(t.data(this,"galleria").destroy(),t(this).find("*").hide()),t.data(this,"galleria",(new i).init(this,e))}):(t(function(){t(n).length?t(n).galleria(e):i.utils.wait({until:function(){return t(n).length},success:function(){t(n).galleria(e)},error:function(){i.raise('Init failed: Galleria could not find the element "'+n+'".')},timeout:5e3})}),this)},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.Galleria=i,"function"==typeof define&&define.amd&&define("galleria",["jquery"],function(){return i}))}(jQuery,this),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function r(t){return function(){return this[t].apply(this,arguments)}}function s(e,i){function n(t,e){return e.toLowerCase()}var a,r=t(e).data(),s={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in r)i.test(l)&&(a=l.replace(o,n),s[a]=r[l]);return s}function o(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var n=g[e];return t.each(p,function(t,e){e in n&&(i[e]=n[e])}),i}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(a){this._o=t.extend({},this._o,a);var r=this.o=t.extend({},this._o),s=r.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=f.language)),r.language=s,r.startView){case 2:case"decade":r.startView=2;break;case 1:case"year":r.startView=1;break;default:r.startView=0}switch(r.minViewMode){case 1:case"months":r.minViewMode=1;break;case 2:case"years":r.minViewMode=2;break;default:r.minViewMode=0}r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var o=m.parseFormat(r.format);if(r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=m.parseDate(r.startDate,o,r.language):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=m.parseDate(r.endDate,o,r.language):r.endDate=1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],t.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=t.map(r.daysOfWeekDisabled,function(t){return parseInt(t,10)}),r.datesDisabled=r.datesDisabled||[],!t.isArray(r.datesDisabled)){var l=[];l.push(m.parseDate(r.datesDisabled,o,r.language)),r.datesDisabled=l}r.datesDisabled=t.map(r.datesDisabled,function(t){return m.parseDate(t,o,r.language)});var h=String(r.orientation).toLowerCase().split(/\s+/g),c=r.orientation.toLowerCase();if(h=t.grep(h,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===h.length)switch(h[0]){case"top":case"bottom":r.orientation.y=h[0];break;case"left":case"right":r.orientation.x=h[0]}else c=t.grep(h,function(t){return/^left|right$/.test(t)}),r.orientation.x=c[0]||"auto",c=t.grep(h,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=c[0]||"auto";else;if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),d=r.defaultViewDate.month||0,p=r.defaultViewDate.day||1;r.defaultViewDate=i(u,d,p)}else r.defaultViewDate=n();r.showOnFocus=r.showOnFocus!==e?r.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,a,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(n=e,a=t[r][1]):3===t[r].length&&(n=t[r][1],a=t[r][2]),i.on(a,n)},_unapplyEvents:function(t){for(var i,n,a,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(a=e,n=t[r][1]):3===t[r].length&&(a=t[r][1],n=t[r][2]),i.off(n,a)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),a=this._utc_to_local(n);this.element.trigger({type:e,date:a,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,a=t(this.o.container).width(),r=t(this.o.container).height(),s=t(this.o.container).scrollTop(),o=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var h=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=c.left-o.left,p=c.top-o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=e-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),f-=c.left-n):f+e>a?(this.picker.addClass("datepicker-orient-right"),f=c.left+d-e):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-s+p-i,m=s+r-(p+u+i),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?p+=u:p-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=a-(f+d);this.picker.css({top:p,right:y,zIndex:h})}else this.picker.css({top:p,left:f,zIndex:h});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var i='<th class="cw">&#160;</th>';e+=i}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<r?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>r)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,a=new Date(this.viewDate),r=a.getUTCFullYear(),s=a.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",d=g[this.o.language].clear||g.en.clear||"";if(!isNaN(r)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[s]+" "+r),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=i(r,s-1,28),p=m.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(p),f.setUTCDate(p-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),_=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),x=new Date(Number(x=i(_.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),k=(_-x)/864e5/7+1;b.push('<td class="cw">'+k+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==t.noop){var D=this.o.beforeShowDay(this._utc_to_local(f));D===e?D={}:"boolean"==typeof D?D={enabled:D}:"string"==typeof D&&(D={classes:D}),D.enabled===!1&&y.push("disabled"),D.classes&&(y=y.concat(D.classes.split(/\s+/))),D.tooltip&&(n=D.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+f.getUTCDate()+"</td>"),n=null,f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var C=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&C.eq(e.getUTCMonth()).addClass("active")}),(o>r||r>h)&&C.addClass("disabled"),r===o&&C.slice(0,l).addClass("disabled"),r===h&&C.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var T=this;t.each(C,function(e,i){if(!t(i).hasClass("disabled")){var n=new Date(r,e,1),a=T.o.beforeShowMonth(n);a===!1&&t(i).addClass("disabled")}})}b="",r=10*parseInt(r/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var A,I=t.map(this.dates,function(t){return t.getUTCFullYear()}),E=-1;11>E;E++)A=["year"],-1===E?A.push("old"):10===E&&A.push("new"),-1!==t.inArray(r,I)&&A.push("active"),(o>r||r>h)&&A.push("disabled"),b+='<span class="'+A.join(" ")+'">'+r+"</span>",r+=1;S.html(b)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var n,a,r,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(r=1,a=s.parent().find("span").index(s),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,a,r))):(r=1,a=0,n=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,a,r))),this.showMode(-1),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(r=parseInt(s.text(),10)||1,n=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s.hasClass("old")?0===a?(a=11,n-=1):a-=1:s.hasClass("new")&&(11===a?(a=0,n+=1):a+=1),this._setDate(i(n,a,r)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var n,a,r=new Date(t.valueOf()),s=r.getUTCDate(),o=r.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)a=-1===i?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==n},n=o+i,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var h=0;l>h;h++)r=this.moveMonth(r,i);n=r.getUTCMonth(),r.setUTCDate(s),a=function(){return n!==r.getUTCMonth()}}for(;a();)r.setUTCDate(--s),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(27===t.keyCode&&this.show());var e,i,a,r=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),a=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),a=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+e),a=new Date(s),a.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),a=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),a=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*e),a=new Date(s),a.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,d.call(t(this.inputs),i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),n=i.getUTCDate(),a=t.inArray(e.target,this.inputs),r=a-1,s=a+1,o=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[r])for(;r>=0&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[s])for(;o>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var u=t.fn.datepicker,d=function(i){var n=Array.apply(null,arguments);n.shift();var a;return this.each(function(){var r=t(this),l=r.data("datepicker"),u="object"==typeof i&&i;if(!l){var d=s(this,"date"),p=t.extend({},f,d,u),g=o(p.language),m=t.extend({},f,g,d,u);if(r.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||r.find("input").toArray()};r.data("datepicker",l=new c(this,t.extend(m,v)))}else r.data("datepicker",l=new h(this,m))}return"string"==typeof i&&"function"==typeof l[i]&&(a=l[i].apply(l,n),a!==e)?!1:void 0}),a!==e?a:this};t.fn.datepicker=d;var f=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(n,a,r){function s(){var t=this.slice(0,d[c].length),e=d[c].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;"string"==typeof a&&(a=m.parseFormat(a));var o,l,c,u=/([\-+]\d+)([dmwy])/,d=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,c=0;c<d.length;c++)switch(o=u.exec(d[c]),l=parseInt(o[1]),o[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=h.prototype.moveMonth.call(h.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=h.prototype.moveYear.call(h.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}d=n&&n.match(this.nonpunctuation)||[],n=new Date;var f,p,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var w=a.parts.slice();if(d.length!==w.length&&(w=t(w).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),d.length===w.length){var _;for(c=0,_=w.length;_>c;c++){if(f=parseInt(d[c],10),o=w[c],isNaN(f))switch(o){case"MM":p=t(g[r].months).filter(s),f=t.inArray(p[0],g[r].months)+1;break;case"M":p=t(g[r].monthsShort).filter(s),f=t.inArray(p[0],g[r].monthsShort)+1}v[o]=f}var x,k;for(c=0;c<y.length;c++)k=y[c],k in v&&!isNaN(v[k])&&(x=new Date(n),b[k](x,v[k]),isNaN(x)||(n=x))}return n},formatDate:function(e,i,n){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var a={d:e.getUTCDate(),D:g[n].daysShort[e.getUTCDay()],DD:g[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[n].monthsShort[e.getUTCMonth()],MM:g[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var r=t.extend([],i.separators),s=0,o=i.parts.length;o>=s;s++)r.length&&e.push(r.shift()),e.push(a[i.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t.fn.datepicker.version="1.4.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),d.call(i,"show"))}),t(function(){d.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,a=e.createElement("style"),r=[];for(e.documentElement.firstChild.appendChild(a),e._qsa=[],a.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),a.parentNode.removeChild(a);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),r.push(n);return e._qsa=null,r}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,a=[],r=0,s=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),r=r<<6|i,s+=6,24===s&&(a.push(String.fromCharCode(r>>16&255)),a.push(String.fromCharCode(r>>8&255)),a.push(String.fromCharCode(255&r)),s=0,r=0),n+=1;return 12===s?(r>>=4,a.push(String.fromCharCode(255&r))):18===s&&(r>>=2,a.push(String.fromCharCode(r>>8&255)),a.push(String.fromCharCode(255&r))),a.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,a,r,s,o,l,h=0,c=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),a=t.charCodeAt(h++),r=i>>2,s=(3&i)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,h===t.length+2?(o=64,l=64):h===t.length+1&&(l=64),c.push(e.charAt(r),e.charAt(s),e.charAt(o),e.charAt(l));return c.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var r=a(i.substr(i.lastIndexOf(t.domain)),t);r&&s({mode:null,el:n,flags:r,engineSettings:e})}function a(t,e){var i={theme:D(E.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return r(t,i)}function r(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var a=n[1],r=a.match(/([\d]+p?)x([\d]+p?)/);if(!r)return!1;if(e.fluid=-1!==a.indexOf("p"),e.dimensions={width:r[1].replace("p","%"),height:r[2].replace("p","%")},2===i.length){var s=y.parse(i[1]);if(s.bg&&(e.theme.background=(-1===s.bg.indexOf("#")?"#":"")+s.bg),s.fg&&(e.theme.foreground=(-1===s.fg.indexOf("#")?"#":"")+s.fg),s.bg&&!s.fg&&(e.autoFg=!0),s.theme&&e.instanceOptions.themes.hasOwnProperty(s.theme)&&(e.theme=D(e.instanceOptions.themes[s.theme],null)),s.text&&(e.text=s.text),s.textmode&&(e.textmode=s.textmode),s.size&&(e.size=s.size),s.font&&(e.font=s.font),s.align&&(e.align=s.align),e.nowrap=w.truthy(s.nowrap),e.auto=w.truthy(s.auto),e.outline=w.truthy(s.outline),w.truthy(s.random)){E.vars.cache.themeKeys=E.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var o=E.vars.cache.themeKeys[0|Math.random()*E.vars.cache.themeKeys.length];e.theme=D(e.instanceOptions.themes[o],null)}}return e}function s(t){var e=t.mode,i=t.el,n=t.flags,a=t.engineSettings,r=n.dimensions,s=n.theme,l=r.width+"x"+r.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(s.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=s.text.split("\\n"),d=0;d<h.length;d++)h[d]=w.encodeHtmlEntity(h[d]);s.text=h.join("\\n")}var f=n.holderURL,p=D(a,null);if(n.font&&(s.font=n.font,!p.noFontFallback&&"img"===i.nodeName.toLowerCase()&&E.setup.supportsCanvas&&"svg"===p.renderer&&(p=D(p,{renderer:"canvas"}))),n.font&&"canvas"==p.renderer&&(p.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&x.setAttr(i,{"data-background-src":f});else{var g={};g[E.vars.dataAttr]=f,x.setAttr(i,g)}n.theme=s,i.holderData={flags:n,engineSettings:p},("image"==e||"fluid"==e)&&x.setAttr(i,{alt:s.text?s.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:r,theme:s,flags:n},engineSettings:p};"image"==e?("html"!=p.renderer&&n.auto||(i.style.width=r.width+"px",i.style.height=r.height+"px"),"html"==p.renderer?i.style.backgroundColor=s.background:(o(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,E.vars.resizableImages.push(i),c(i)))):"background"==e&&"html"!=p.renderer?o(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==r.height.slice(-1)?i.style.height=r.height:null!=n.auto&&n.auto||(i.style.height=r.height+"px"),"%"==r.width.slice(-1)?i.style.width=r.width:null!=n.auto&&n.auto||(i.style.width=r.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),u(i),"html"==p.renderer?i.style.backgroundColor=s.background:(E.vars.resizableImages.push(i),c(i)))}function o(t){function i(){var e=null;switch(o.renderer){case"canvas":e=F(c,t);break;case"svg":e=L(c,t);break;default:throw"Holder: invalid renderer: "+o.renderer}return e}var n=null,a=t.mode,r=t.el,s=t.holderSettings,o=t.engineSettings;switch(o.renderer){case"svg":if(!E.setup.supportsSVG)return;break;case"canvas":if(!E.setup.supportsCanvas)return;break;default:return}var h={width:s.dimensions.width,height:s.dimensions.height,theme:s.theme,flags:s.flags},c=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==a?(r.style.backgroundImage="url("+n+")",r.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===r.nodeName.toLowerCase()?x.setAttr(r,{src:n}):"object"===r.nodeName.toLowerCase()&&(x.setAttr(r,{data:n}),x.setAttr(r,{type:"image/svg+xml"})),o.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===r.nodeName.toLowerCase()?x.setAttr(r,{src:t}):"object"===r.nodeName.toLowerCase()&&(x.setAttr(r,{data:t}),x.setAttr(r,{type:"image/svg+xml"}))},150)),x.setAttr(r,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=E.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:E.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new b({width:t.width,height:t.height}),a=n.Shape,r=new a.Rect("holderBg",{fill:t.theme.background});if(r.resize(t.width,t.height),n.root.add(r),t.flags.outline){var s=new k(r.properties.fill);s=s.lighten(s.lighterThan("7f7f7f")?-.1:.1),r.properties.outline={fill:s.toHex(!0),width:2}}var o=t.theme.foreground;if(t.flags.autoFg){var l=new k(r.properties.fill),c=new k("fff"),u=new k("000",{alpha:.285714});o=l.blendAlpha(l.lighterThan("7f7f7f")?u:c).toHex(!0)}var d=new a.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:o});d.moveTo(null,null,1),n.root.add(d);var f=d.textPositionData=M(n);if(!f)throw"Holder: staging fallback not supported yet.";d.properties.leading=f.boundingBox.height;var p=null,g=null,m=t.width*E.vars.lineWrapRatio,v=m;if(f.lineCount>1){var y,w=0,_=0,x=0;g=new a.Group("line"+x),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-E.vars.lineWrapRatio)));for(var D=0;D<f.words.length;D++){var C=f.words[D];p=new a.Text(C.text);var T="\\n"==C.text;!t.noWrap&&(w+C.width>=v||T===!0)&&(e(d,g,w,d.properties.leading),d.add(g),w=0,_+=d.properties.leading,x+=1,g=new a.Group("line"+x),g.y=_),T!==!0&&(p.moveTo(w,0),w+=f.spaceWidth+C.width,g.add(p))}if(e(d,g,w,d.properties.leading),d.add(g),"left"===t.align)d.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in d.children)g=d.children[y],g.moveTo(t.width-g.width,null,null);d.moveTo(0-(t.width-m),null,null)}else{for(y in d.children)g=d.children[y],g.moveTo((d.width-g.width)/2,null,null);d.moveTo((t.width-d.width)/2,null,null)}d.moveTo(null,(t.height-d.height)/2,null),(t.height-d.height)/2<0&&d.moveTo(null,0,null)}else p=new a.Text(t.text),g=new a.Group("line0"),g.add(p),d.add(g),"left"===t.align?d.moveTo(t.width-m,null,null):"right"===t.align?d.moveTo(0-(t.width-m),null,null):d.moveTo((t.width-f.boundingBox.width)/2,null,null),d.moveTo(null,(t.height-f.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),a=parseInt(e,10),r=Math.max(n,a),s=Math.min(n,a),o=.8*Math.min(s,r*E.defaults.scale);return Math.round(Math.max(i,o))}function c(t){var e;e=null==t||null==t.nodeType?E.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var a=e[i];if(a.holderData){var r=a.holderData.flags,s=C(a);if(s){if(!a.holderData.resizeUpdate)continue;if(r.fluid&&r.auto){var l=a.holderData.fluidConfig;switch(l.mode){case"width":s.height=s.width/l.ratio;break;case"height":s.width=s.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:s,theme:r.theme,flags:r},el:a,engineSettings:a.holderData.engineSettings};"exact"==r.textmode&&(r.exactDimensions=s,h.holderSettings.dimensions=r.dimensions),o(h)}else p(a)}}}function u(t){if(t.holderData){var e=C(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else p(t)}}function d(){for(var t,i=[],n=Object.keys(E.vars.invisibleImages),a=0,r=n.length;r>a;a++)t=E.vars.invisibleImages[n[a]],C(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete E.vars.invisibleImages[n[a]]);i.length&&I.run({images:i}),e.requestAnimationFrame(d)}function f(){E.vars.visibilityCheckStarted||(e.requestAnimationFrame(d),E.vars.visibilityCheckStarted=!0)}function p(t){t.holderData.invisibleId||(E.vars.invisibleId+=1,E.vars.invisibleImages["i"+E.vars.invisibleId]=t,t.holderData.invisibleId=E.vars.invisibleId)}function g(t){E.vars.debounceTimer||t.call(this),E.vars.debounceTimer&&e.clearTimeout(E.vars.debounceTimer),E.vars.debounceTimer=e.setTimeout(function(){E.vars.debounceTimer=null,t.call(this)},E.setup.debounce)}function m(){g(function(){c(null)})}var v=i(3),y=i(2),b=i(4),w=i(5),_=i(6),x=i(7),k=i(8),D=w.extend,C=w.dimensionCheck,T="http://www.w3.org/2000/svg",S="2.8.0",A="\nCreated with Holder.js "+S+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",I={version:S,addTheme:function(t,e){return null!=t&&null!=e&&(E.settings.themes[t]=e),delete E.vars.cache.themeKeys,this},addImage:function(t,e){var i=x.getNodeArray(e);if(i.length)for(var n=0,a=i.length;a>n;n++){var r=x.newEl("img"),s={};s[E.setup.dataAttr]=t,x.setAttr(r,s),i[n].appendChild(r)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&c(t))},run:function(t){t=t||{};var i={},r=D(E.settings,t);E.vars.preempted=!0,E.vars.dataAttr=r.dataAttr||E.setup.dataAttr,E.vars.lineWrapRatio=r.lineWrapRatio||E.setup.lineWrapRatio,i.renderer=r.renderer?r.renderer:E.setup.renderer,-1===E.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=E.setup.supportsSVG?"svg":E.setup.supportsCanvas?"canvas":"html");var o=x.getNodeArray(r.images),l=x.getNodeArray(r.bgnodes),h=x.getNodeArray(r.stylenodes),c=x.getNodeArray(r.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=r.noFontFallback?r.noFontFallback:!1;for(var u=0;u<h.length;u++){var d=h[u];if(d.attributes.rel&&d.attributes.href&&"stylesheet"==d.attributes.rel.value){var f=d.attributes.href.value,p=x.newEl("a");p.href=f;var g=p.protocol+"//"+p.host+p.pathname+p.search;i.stylesheets.push(g)}}for(u=0;u<l.length;u++)if(e.getComputedStyle){var m=e.getComputedStyle(l[u],null).getPropertyValue("background-image"),v=l[u].getAttribute("data-background-src"),y=v||m,b=null,_="?"+r.domain+"/";if(0===y.indexOf(_))b=y.slice(1);else if(-1!=y.indexOf(_)){var k=y.substr(y.indexOf(_)).slice(1),C=k.match(/([^\"]*)"?\)/);null!=C&&(b=C[1])}if(null!=b){var T=a(b,r);T&&s({mode:"background",el:l[u],flags:T,engineSettings:i})}}for(u=0;u<c.length;u++){var S=c[u],A={};try{A.data=S.getAttribute("data"),A.dataSrc=S.getAttribute(E.vars.dataAttr)}catch(I){}var M=null!=A.data&&0===A.data.indexOf(r.domain),F=null!=A.dataSrc&&0===A.dataSrc.indexOf(r.domain);M?n(r,i,A.data,S):F&&n(r,i,A.dataSrc,S)}for(u=0;u<o.length;u++){var L=o[u],$={};try{$.src=L.getAttribute("src"),$.dataSrc=L.getAttribute(E.vars.dataAttr),$.rendered=L.getAttribute("data-holder-rendered")}catch(I){}var U=null!=$.src,z=null!=$.dataSrc&&0===$.dataSrc.indexOf(r.domain),R=null!=$.rendered&&"true"==$.rendered;U?0===$.src.indexOf(r.domain)?n(r,i,$.src,L):z&&(R?n(r,i,$.dataSrc,L):!function(t,e,i,a,r){w.imageExists(t,function(t){t||n(e,i,a,r)})}($.src,r,i,$.dataSrc,L)):z&&n(r,i,$.dataSrc,L)}return this}},E={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},M=function(){var t=null,e=null,i=null;return function(n){var a=n.root;if(E.setup.supportsSVG){var r=!1,s=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(r=!0),t=_.initSVG(t,a.properties.width,a.properties.height),t.style.display="block",r&&(e=x.newEl("text",T),i=s(null),x.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var o=a.children.holderTextGroup,l=o.properties;x.setAttr(e,{y:l.font.size,style:w.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),c=Math.ceil(h.width/(a.properties.width*E.vars.lineWrapRatio)),u=l.text.split(" "),d=l.text.match(/\\n/g);c+=null==d?0:d.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var f=e.getComputedTextLength(),p=h.width-f,g=Math.round(p/Math.max(1,u.length-1)),m=[];if(c>1){i.nodeValue="";for(var v=0;v<u.length;v++)if(0!==u[v].length){i.nodeValue=w.decodeHtmlEntity(u[v]);var y=e.getBBox();m.push({text:u[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:c,boundingBox:h,words:m}}return!1}}(),F=function(){var t=x.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=E.dpr(n.properties.width),t.height=E.dpr(n.properties.height),e.textBaseline="middle";var a=n.children.holderBg,r=E.dpr(a.width),s=E.dpr(a.height),o=2,l=o/2;e.fillStyle=a.properties.fill,e.fillRect(0,0,r,s),a.properties.outline&&(e.strokeStyle=a.properties.outline.fill,e.lineWidth=a.properties.outline.width,e.moveTo(l,l),e.lineTo(r-l,l),e.lineTo(r-l,s-l),e.lineTo(l,s-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(r,s-l),e.moveTo(0,s-l),e.lineTo(r,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+E.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var c in h.children){var u=h.children[c];for(var d in u.children){var f=u.children[d],p=E.dpr(h.x+u.x+f.x),g=E.dpr(h.y+u.y+f.y+h.properties.leading/2);e.fillText(f.properties.text,p,g)}}return t.toDataURL("image/png")}}(),L=function(){if(e.XMLSerializer){var t=x.createXML(),i=_.initSVG(null,0,0),n=x.newEl("rect",T);return i.appendChild(n),function(e,a){var r=e.root;_.initSVG(i,r.properties.width,r.properties.height);for(var s=i.querySelectorAll("g"),o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o]);var l=a.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),c=x.newEl("g",T),u=r.children.holderTextGroup,d=u.properties,f=x.newEl("g",T),p=u.textPositionData,g="#"+h+" text { "+w.cssProps({fill:d.fill,"font-weight":d.font.weight,"font-family":d.font.family+", monospace","font-size":d.font.size+d.font.units})+" } ",m=t.createComment("\nSource URL: "+l+A),v=t.createCDATASection(g),y=i.querySelector("style"),b=r.children.holderBg;if(x.setAttr(c,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),c.appendChild(n),b.properties.outline){var k=x.newEl("path",T),D=b.properties.outline.width,C=D/2;x.setAttr(k,{d:["M",C,C,"H",b.width-C,"V",b.height-C,"H",C,"V",0,"M",0,C,"L",b.width,b.height-C,"M",0,b.height-C,"L",b.width,C].join(" "),"stroke-width":b.properties.outline.width,stroke:b.properties.outline.fill,fill:"none"}),c.appendChild(k)}c.appendChild(f),i.appendChild(c),x.setAttr(n,{width:b.width,height:b.height,fill:b.properties.fill}),u.y+=.8*p.boundingBox.height;for(var S in u.children){var I=u.children[S];for(var E in I.children){var M=I.children[E],F=u.x+I.x+M.x,L=u.y+I.y+M.y,$=x.newEl("text",T),U=document.createTextNode(null);x.setAttr($,{x:F,y:L}),U.nodeValue=M.properties.text,$.appendChild(U),f.appendChild($)}}var z=_.svgStringToDataURI(_.serializeSVG(i,a.engineSettings),"background"===a.mode);return z}}}();for(var $ in E.flags)E.flags.hasOwnProperty($)&&(E.flags[$].match=function(t){return t.match(this.regex)});E.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},E.dpr=function(t){return t*E.setup.ratio},E.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=x.newEl("canvas"),a=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(E.setup.renderer="canvas",a=n.getContext("2d"),E.setup.supportsCanvas=!0),E.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),E.setup.ratio=t/i,document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(E.setup.renderer="svg",E.setup.supportsSVG=!0)}(),f(),v&&v(function(){E.vars.preempted||I.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){I.run()})}),t.exports=I}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,a=decodeURIComponent,r=i(10),s=i(9),o=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=r(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var s,h,c,u=i[n].split("="),d=a(u[0]);if(s=o.exec(d))e[s[1]]=e[s[1]]||[],e[s[1]][s[2]]=a(u[1]);else if(s=l.test(d)){for(s=d.split("."),h=e;s.length;)if(c=s.shift(),c.length){if(h[c]){if(h[c]&&"object"!=typeof h[c])break}else h[c]={};s.length||(h[c]=a(u[1])),h=h[c]}}else e[u[0]]=null==u[1]?"":a(u[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var a=t[i];if("array"!=s(a))e.push(n(i)+"="+n(t[i]));else for(var r=0;r<a.length;++r)e.push(n(i+"["+r+"]")+"="+n(a[r]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!_){if(!s.body)return a(e);for(_=!0;t=x.shift();)a(t)}}function i(t){(b||t.type===l||s[d]===u)&&(n(),e())}function n(){b?(s[y](m,i,h),t[y](l,i,h)):(s[p](v,i),t[p](c,i))}function a(t,e){setTimeout(t,+e>=0?e:1)}function r(t){_?a(t):x.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function D(){document.removeEventListener("DOMContentLoaded",D,!1),document.readyState="complete"},!1),document.readyState="loading");var s=t.document,o=s.documentElement,l="load",h=!1,c="on"+l,u="complete",d="readyState",f="attachEvent",p="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",b=g in s,w=h,_=h,x=[];if(s[d]===u)a(e);else if(b)s[g](m,i,h),t[g](l,i,h);else{s[f](v,i),t[f](c,i);try{w=null==t.frameElement&&o}catch(k){}w&&w.doScroll&&!function C(){if(!_){try{w.doScroll("left")}catch(t){return a(C,50)}n(),e()}}()}return r.version="1.4.0",r.isReady=function(){return _},r}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var a=function(){n.call(this,"root"),this.properties=t};a.prototype=new n;var r=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};r.prototype=new n;var s=function(){r.apply(this,arguments),this.type="group"};s.prototype=new r;var o=function(){r.apply(this,arguments),this.type="rect"};o.prototype=new r;var l=function(t){r.call(this),this.type="text",this.properties.text=t};l.prototype=new r;var h=new a;return this.Shape={Rect:o,Text:l,Group:s},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),a="http://www.w3.org/2000/svg",r=8;e.initSVG=function(t,e,i){var s,o,l=!1;t&&t.querySelector?(o=t.querySelector("style"),null===o&&(l=!0)):(t=n.newEl("svg",a),l=!0),l&&(s=n.newEl("defs",a),o=n.newEl("style",a),n.setAttr(o,{type:"text/css"}),s.appendChild(o),t.appendChild(s)),t.webkitMatchesSelector&&t.setAttribute("xmlns",a);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===r&&t.removeChild(t.childNodes[h]);for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var a=new XMLSerializer,r="",s=i.stylesheets;if(i.svgXMLStylesheet){for(var o=n.createXML(),l=s.length-1;l>=0;l--){var h=o.createProcessingInstruction("xml-stylesheet",'href="'+s[l]+'" rel="stylesheet"');o.insertBefore(h,o.firstChild)}o.removeChild(o.documentElement),r=a.serializeToString(o)}var c=a.serializeToString(e);return c=c.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),r+c}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var a=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};a.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},a.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,r=255*t|0;return new a(a.rgbToHex(e+r,i+r,n+r))},a.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},a.prototype.lighterThan=function(t){return t instanceof a||(t=new a(t)),this.yuv.y>t.yuv.y},a.prototype.blendAlpha=function(t){t instanceof a||(t=new a(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,r=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,s=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new a(a.rgbToHex(n,r,s))},t.exports=a},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),function(){var t,e,i,n,a,r,s;s=void 0,t=void 0,e={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},a=function(){t=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),t.addListener("place_changed",i)},i=function(){var i,n,a,r,s;r=t.getPlace(),$("#lat").length>0&&$("#lng").length>0&&($("#lat").val(r.geometry.location.lat()),$("#lng").val(r.geometry.location.lng()));for(n in e)document.getElementById(n).value="",document.getElementById(n).disabled=!1;for(a=0;a<r.address_components.length;)i=r.address_components[a].types[0],e[i]&&(s=r.address_components[a][e[i]],document.getElementById(i).value=s),a++},n=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var i,n;n={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:n,radius:e.coords.accuracy}),t.setBounds(i.getBounds())})},r=function(){var t,e,i;i={lat:parseFloat($("#lat").val()),lng:parseFloat($("#long").val())},t=new google.maps.Map(document.getElementById("map"),{center:i,zoom:15,scrollwheel:!1}),e=new google.maps.Marker({map:t,position:i})},$(document).ready(function(){return $("#autocomplete").length>0&&a(),$("#map").length>0?r():void 0})}.call(this),/*!
 * jQuery Validation Plugin v1.14.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2015 Jrn Zaefferer
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,a;return i.settings.submitHandler?(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),a=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==a?a:!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e,n=n.concat(i.errorList)}),i.errorList=n),e},rules:function(e,i){var n,a,r,s,o,l,h=this[0];if(e)switch(n=t.data(h.form,"validator").settings,a=n.rules,r=t.validator.staticRules(h),e){case"add":t.extend(r,t.validator.normalizeRule(i)),delete r.messages,a[h.name]=r,i.messages&&(n.messages[h.name]=t.extend(n.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=r[i],delete r[i],"required"===i&&t(h).removeAttr("aria-required")}),l):(delete a[h.name],r)}return s=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h),s.required&&(o=s.required,delete s.required,s=t.extend({required:o},s),t(h).attr("aria-required","true")),s.remote&&(o=s.remote,delete s.remote,s=t.extend(s,{remote:o})),s}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),a=i.settings;a[n]&&!t(this).is(a.ignore)&&a[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),a=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),a=this.check(n)!==!1,a?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!a),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;i[e];e++)this.settings.unhighlight.call(this,i[e],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),a=e.type;return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&"undefined"!=typeof e.validity?e.validity.badInput?!1:n.val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,a,r=t(e).rules(),s=t.map(r,function(t,e){return e}).length,o=!1,l=this.elementValue(e);for(n in r){a={method:n,parameters:r[n]};try{if(i=t.validator.methods[n].call(this,l,e,a.parameters),"dependency-mismatch"===i&&1===s){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,a),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+a.method+"' method.",h),h instanceof TypeError&&(h.message+=".  Exception occurred when checking element "+e.id+", check the '"+a.method+"' method."),h}}if(!o)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),a=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):a.test(n)&&(n=t.validator.format(n.replace(a,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,a,r,s=this.errorsFor(e),o=this.idOrName(e),l=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(i||""),n=s,this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),s.is("label")?s.attr("for",o):0===s.parents("label[for='"+o+"']").length&&(r=s.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+r+"\\b"))||(l+=" "+r):l=r,t(e).attr("aria-describedby",l),a=this.groups[e.name],a&&t.each(this.groups,function(e,i){i===a&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e),n=t(e).attr("aria-describedby"),a="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(a=a+", #"+n.replace(/\s+/g,", #")),this.errors().filter(a)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,a={},r=t(e),s=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=r.attr(i),this.normalizeAttributeRule(a,s,i,n);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var i,n,a={},r=t(e),s=e.getAttribute("type");for(i in t.validator.methods)n=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(a,s,i,n);return a},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,a){if(a===!1)return void delete e[n];if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!t(a.depends,i.form).length;break;case"function":r=a.depends.call(i,i)}r?e[n]=void 0!==a.param?a.param:!0:delete e[n]}}),t.each(e,function(n,a){e[n]=t.isFunction(a)?a(i):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var a=t(i).val();return a&&a.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){
// Copyright (c) 2010-2013 Diego Perini, MIT licensed
return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,a=0,r=0,s=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),r=parseInt(n,10),s&&(r*=2)>9&&(r-=9),a+=r,s=!s;return a%10===0},minlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||a>=n},maxlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=a},rangelength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var a=t(n);return this.settings.onfocusout&&a.off(".validate-equalTo").on("blur.validate-equalTo",function(){t(i).valid()}),e===a.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var a,r,s=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,s.old===e?s.valid:(s.old=e,a=this,this.startRequest(i),r={},r[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:r,context:a.currentForm,success:function(n){var r,o,l,h=n===!0||"true"===n;a.settings.messages[i.name].remote=s.originalMessage,h?(l=a.formSubmitted,a.prepareElement(i),a.formSubmitted=l,a.successList.push(i),delete a.invalid[i.name],a.showErrors()):(r={},o=n||a.defaultMessage(i,"remote"),r[i.name]=s.message=t.isFunction(o)?o(e):o,a.invalid[i.name]=!0,a.showErrors(r)),s.valid=h,a.stopRequest(i,h)}},n)),"pending")}}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var a=t.port;"abort"===t.mode&&(i[a]&&i[a].abort(),i[a]=n)}):(e=t.ajax,t.ajax=function(n){var a=("mode"in n?n:t.ajaxSettings).mode,r=("port"in n?n:t.ajaxSettings).port;return"abort"===a?(i[r]&&i[r].abort(),i[r]=e.apply(this,arguments),i[r]):e.apply(this,arguments)})}),function(){var t,e,i,n,a,r,s,o,l;e=55505,t="5fd6485clmp3oogs8gfb43p2uf",o="http://images.travelnow.com",n=function(t){var e,i,n,a;return e=t.getDate(),n=t.getMonth()+1,a=t.getFullYear(),i=[n,e,a].join("/")},s=n(new Date),i=function(){$("#searchDealsForm").on("keyup keypress",function(t){var e;return e=t.keyCode||t.which,13===e?(t.preventDefault(),!1):void 0})},l=function(){$("#searchDealsForm").validate({ignore:".ignore",rules:{autocomplete:"required"},messages:{autocomplete:"Please enter your destination"}})},$(function(){$("input#search_deals_arrival_date").datepicker({startDate:s}).on("changeDate",function(t){return $("input#search_deals_departure_date").datepicker("remove"),$("input#search_deals_departure_date").datepicker({startDate:n(t.date)})}),$("input#search_deals_departure_date").datepicker({startDate:s})}),a=function(i,n){var a;$("div.deals-image").removeClass("lazy"),a="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+e+"&minorRev=28&apiKey="+t+"&locale=en_US&cacheKey="+i+"&cacheLocation="+n+"&supplierType=E",$.ajax({url:a,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(t){return console.log(t),$("#loading").fadeOut("slow"),$.each(t.HotelListResponse.HotelList.HotelSummary,function(t,e){var i;return i=$('<div class="col-xs-6 col-md-4 col-deals">'),i.append($("<a href='/deals/"+e.hotelId+"/show' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+o+e.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),i.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+e.hotelId+"' data-toggle='tooltip' data-placement='top' data-title='"+e.name+"' data-no-turbolink='true'>"+e.name.substring(0,16)+"</a></p><p class='text-center'><strong>Nightly Price: $"+e.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]+"</strong></p></div>")),i.append($("<div class='col-md-2'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+e.hotelId+"like'><span class='glyphicon glyphicon-heart-empty' style='font-size: 38px' id='like-"+e.hotelId+"'></span></a></p></div>")),$("#dealsHotelsList").append(i)}),$("div.lazy").lazyload({effect:"fadeIn"})}})},r=function(){var i,n,a,r,s;a=$("#lat").val(),r=$("#lng").val(),i=$("#search_deals_arrival_date").val(),n=$("#search_deals_departure_date").val(),s="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+e+"&minorRev=28&apiKey="+t+"&locale=en_US&currencyCode=USD&latitude="+a+"&longitude="+r+"&arrivalDate="+i+"&departureDate="+n+"&options=HOTEL_SUMMARY,ROOM_RATE_DETAILS&searchRadius=80&numberOfResults=21",$.ajax({url:s,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(t){var e,a;return $("#dealsHotelsList").html(""),$("#loadMore").show(),$("#loadMore").attr("data-cache-key",t.HotelListResponse.cacheKey),$("#loadMore").attr("data-cache-Location",t.HotelListResponse.cacheLocation),$("#destinationLabel").text($("#autocomplete").val().split(",")[0]),console.log(window.hotel=t.HotelListResponse.HotelList.HotelSummary),$.each(t.HotelListResponse.HotelList.HotelSummary,function(t,e){var i;return i=$('<div class="col-xs-6 col-md-4 col-deals">'),i.append($("<a href='/deals/"+e.hotelId+"/show' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+o+e.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),i.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+e.hotelId+"' data-toggle='tooltip' data-placement='top' data-title='"+e.name+"' data-no-turbolink='true'>"+e.name.substring(0,16)+"</a></p><p class='text-center'><strong>Nightly Price: $"+e.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]+"</strong></p></div>")),i.append($("<div class='col-md-2'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+e.hotelId+"like'><span class='glyphicon glyphicon-heart-empty' style='font-size: 38px' id='like-"+e.hotelId+"'></span></a></p></div>")),$("#dealsHotelsList").append(i)}),e=new Date($("#search_deals_arrival_date").val()),a=new Date($("#search_deals_departure_date").val()),i=[e.getFullYear(),e.getMonth()+1,e.getDate()].join("/"),n=[a.getFullYear(),a.getMonth()+1,a.getDate()].join("/"),$.ajax({url:"/deals/create_destination",type:"POST",data:{destinationString:$("#autocomplete").val(),city:$("#locality").val(),stateProvinceCode:$("#administrative_area_level_1").val(),countryCode:$("#country").val(),lat:$("#lat").val(),lng:$("#lng").val(),arrivalDate:i,departureDate:n},success:function(t){return $("#loading").fadeOut("slow")}}),$("div.lazy").lazyload({effect:"fadeIn"})}})},$(document).ready(function(){return i(),l(),$("#destinationLabel").click(function(){return $("#collapseDeals").slideToggle()}),$("#galleria").length>0&&(Galleria.loadTheme(window.galleria_theme_path),Galleria.configure({dummy:"/assets/default-no-image.png"}),Galleria.configure({showInfo:!1}),Galleria.run("#galleria")),$('[data-toggle="tooltip"]').length>0&&$('[data-toggle="tooltip"]').tooltip(),$("div.lazy").length>0&&$("div.lazy").lazyload({effect:"fadeIn"}),$("#loadMore").length>0&&$("#loadMore").on("click",function(){return a($("#loadMore").data("cache-key"),$("#loadMore").data("cache-location"))}),$("form#searchDealsForm").length>0?$("form#searchDealsForm").submit(function(t){return r(),t.preventDefault()}):void 0})}.call(this);