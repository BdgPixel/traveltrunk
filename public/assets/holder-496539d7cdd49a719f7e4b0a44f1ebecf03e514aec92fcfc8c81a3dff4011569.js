/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
Â© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
!function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,a=e.createElement("style"),s=[];for(e.documentElement.firstChild.appendChild(a),e._qsa=[],a.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),a.parentNode.removeChild(a);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),s.push(n);return e._qsa=null,s}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,a=[],s=0,o=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),s=s<<6|i,o+=6,24===o&&(a.push(String.fromCharCode(s>>16&255)),a.push(String.fromCharCode(s>>8&255)),a.push(String.fromCharCode(255&s)),o=0,s=0),n+=1;return 12===o?(s>>=4,a.push(String.fromCharCode(255&s))):18===o&&(s>>=2,a.push(String.fromCharCode(s>>8&255)),a.push(String.fromCharCode(255&s))),a.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,a,s,o,r,l,h=0,c=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),a=t.charCodeAt(h++),s=i>>2,o=(3&i)<<4|n>>4,r=(15&n)<<2|a>>6,l=63&a,h===t.length+2?(r=64,l=64):h===t.length+1&&(l=64),c.push(e.charAt(s),e.charAt(o),e.charAt(r),e.charAt(l));return c.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var s=a(i.substr(i.lastIndexOf(t.domain)),t);s&&o({mode:null,el:n,flags:s,engineSettings:e})}function a(t,e){var i={theme:D(O.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return s(t,i)}function s(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var a=n[1],s=a.match(/([\d]+p?)x([\d]+p?)/);if(!s)return!1;if(e.fluid=-1!==a.indexOf("p"),e.dimensions={width:s[1].replace("p","%"),height:s[2].replace("p","%")},2===i.length){var o=y.parse(i[1]);if(o.bg&&(e.theme.background=(-1===o.bg.indexOf("#")?"#":"")+o.bg),o.fg&&(e.theme.foreground=(-1===o.fg.indexOf("#")?"#":"")+o.fg),o.bg&&!o.fg&&(e.autoFg=!0),o.theme&&e.instanceOptions.themes.hasOwnProperty(o.theme)&&(e.theme=D(e.instanceOptions.themes[o.theme],null)),o.text&&(e.text=o.text),o.textmode&&(e.textmode=o.textmode),o.size&&(e.size=o.size),o.font&&(e.font=o.font),o.align&&(e.align=o.align),e.nowrap=b.truthy(o.nowrap),e.auto=b.truthy(o.auto),e.outline=b.truthy(o.outline),b.truthy(o.random)){O.vars.cache.themeKeys=O.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var r=O.vars.cache.themeKeys[0|Math.random()*O.vars.cache.themeKeys.length];e.theme=D(e.instanceOptions.themes[r],null)}}return e}function o(t){var e=t.mode,i=t.el,n=t.flags,a=t.engineSettings,s=n.dimensions,o=n.theme,l=s.width+"x"+s.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(o.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=o.text.split("\\n"),u=0;u<h.length;u++)h[u]=b.encodeHtmlEntity(h[u]);o.text=h.join("\\n")}var p=n.holderURL,f=D(a,null);if(n.font&&(o.font=n.font,!f.noFontFallback&&"img"===i.nodeName.toLowerCase()&&O.setup.supportsCanvas&&"svg"===f.renderer&&(f=D(f,{renderer:"canvas"}))),n.font&&"canvas"==f.renderer&&(f.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&x.setAttr(i,{"data-background-src":p});else{var g={};g[O.vars.dataAttr]=p,x.setAttr(i,g)}n.theme=o,i.holderData={flags:n,engineSettings:f},("image"==e||"fluid"==e)&&x.setAttr(i,{alt:o.text?o.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:s,theme:o,flags:n},engineSettings:f};"image"==e?("html"!=f.renderer&&n.auto||(i.style.width=s.width+"px",i.style.height=s.height+"px"),"html"==f.renderer?i.style.backgroundColor=o.background:(r(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,O.vars.resizableImages.push(i),c(i)))):"background"==e&&"html"!=f.renderer?r(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==s.height.slice(-1)?i.style.height=s.height:null!=n.auto&&n.auto||(i.style.height=s.height+"px"),"%"==s.width.slice(-1)?i.style.width=s.width:null!=n.auto&&n.auto||(i.style.width=s.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),d(i),"html"==f.renderer?i.style.backgroundColor=o.background:(O.vars.resizableImages.push(i),c(i)))}function r(t){function i(){var e=null;switch(r.renderer){case"canvas":e=F(c,t);break;case"svg":e=I(c,t);break;default:throw"Holder: invalid renderer: "+r.renderer}return e}var n=null,a=t.mode,s=t.el,o=t.holderSettings,r=t.engineSettings;switch(r.renderer){case"svg":if(!O.setup.supportsSVG)return;break;case"canvas":if(!O.setup.supportsCanvas)return;break;default:return}var h={width:o.dimensions.width,height:o.dimensions.height,theme:o.theme,flags:o.flags},c=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==a?(s.style.backgroundImage="url("+n+")",s.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===s.nodeName.toLowerCase()?x.setAttr(s,{src:n}):"object"===s.nodeName.toLowerCase()&&(x.setAttr(s,{data:n}),x.setAttr(s,{type:"image/svg+xml"})),r.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===s.nodeName.toLowerCase()?x.setAttr(s,{src:t}):"object"===s.nodeName.toLowerCase()&&(x.setAttr(s,{data:t}),x.setAttr(s,{type:"image/svg+xml"}))},150)),x.setAttr(s,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=O.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:O.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new w({width:t.width,height:t.height}),a=n.Shape,s=new a.Rect("holderBg",{fill:t.theme.background});if(s.resize(t.width,t.height),n.root.add(s),t.flags.outline){var o=new k(s.properties.fill);o=o.lighten(o.lighterThan("7f7f7f")?-.1:.1),s.properties.outline={fill:o.toHex(!0),width:2}}var r=t.theme.foreground;if(t.flags.autoFg){var l=new k(s.properties.fill),c=new k("fff"),d=new k("000",{alpha:.285714});r=l.blendAlpha(l.lighterThan("7f7f7f")?d:c).toHex(!0)}var u=new a.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:r});u.moveTo(null,null,1),n.root.add(u);var p=u.textPositionData=M(n);if(!p)throw"Holder: staging fallback not supported yet.";u.properties.leading=p.boundingBox.height;var f=null,g=null,m=t.width*O.vars.lineWrapRatio,v=m;if(p.lineCount>1){var y,b=0,C=0,x=0;g=new a.Group("line"+x),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-O.vars.lineWrapRatio)));for(var D=0;D<p.words.length;D++){var _=p.words[D];f=new a.Text(_.text);var T="\\n"==_.text;!t.noWrap&&(b+_.width>=v||T===!0)&&(e(u,g,b,u.properties.leading),u.add(g),b=0,C+=u.properties.leading,x+=1,g=new a.Group("line"+x),g.y=C),T!==!0&&(f.moveTo(b,0),b+=p.spaceWidth+_.width,g.add(f))}if(e(u,g,b,u.properties.leading),u.add(g),"left"===t.align)u.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in u.children)g=u.children[y],g.moveTo(t.width-g.width,null,null);u.moveTo(0-(t.width-m),null,null)}else{for(y in u.children)g=u.children[y],g.moveTo((u.width-g.width)/2,null,null);u.moveTo((t.width-u.width)/2,null,null)}u.moveTo(null,(t.height-u.height)/2,null),(t.height-u.height)/2<0&&u.moveTo(null,0,null)}else f=new a.Text(t.text),g=new a.Group("line0"),g.add(f),u.add(g),"left"===t.align?u.moveTo(t.width-m,null,null):"right"===t.align?u.moveTo(0-(t.width-m),null,null):u.moveTo((t.width-p.boundingBox.width)/2,null,null),u.moveTo(null,(t.height-p.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),a=parseInt(e,10),s=Math.max(n,a),o=Math.min(n,a),r=.8*Math.min(o,s*O.defaults.scale);return Math.round(Math.max(i,r))}function c(t){var e;e=null==t||null==t.nodeType?O.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var a=e[i];if(a.holderData){var s=a.holderData.flags,o=_(a);if(o){if(!a.holderData.resizeUpdate)continue;if(s.fluid&&s.auto){var l=a.holderData.fluidConfig;switch(l.mode){case"width":o.height=o.width/l.ratio;break;case"height":o.width=o.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:o,theme:s.theme,flags:s},el:a,engineSettings:a.holderData.engineSettings};"exact"==s.textmode&&(s.exactDimensions=o,h.holderSettings.dimensions=s.dimensions),r(h)}else f(a)}}}function d(t){if(t.holderData){var e=_(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else f(t)}}function u(){for(var t,i=[],n=Object.keys(O.vars.invisibleImages),a=0,s=n.length;s>a;a++)t=O.vars.invisibleImages[n[a]],_(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete O.vars.invisibleImages[n[a]]);i.length&&E.run({images:i}),e.requestAnimationFrame(u)}function p(){O.vars.visibilityCheckStarted||(e.requestAnimationFrame(u),O.vars.visibilityCheckStarted=!0)}function f(t){t.holderData.invisibleId||(O.vars.invisibleId+=1,O.vars.invisibleImages["i"+O.vars.invisibleId]=t,t.holderData.invisibleId=O.vars.invisibleId)}function g(t){O.vars.debounceTimer||t.call(this),O.vars.debounceTimer&&e.clearTimeout(O.vars.debounceTimer),O.vars.debounceTimer=e.setTimeout(function(){O.vars.debounceTimer=null,t.call(this)},O.setup.debounce)}function m(){g(function(){c(null)})}var v=i(3),y=i(2),w=i(4),b=i(5),C=i(6),x=i(7),k=i(8),D=b.extend,_=b.dimensionCheck,T="http://www.w3.org/2000/svg",S="2.8.0",A="\nCreated with Holder.js "+S+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",E={version:S,addTheme:function(t,e){return null!=t&&null!=e&&(O.settings.themes[t]=e),delete O.vars.cache.themeKeys,this},addImage:function(t,e){var i=x.getNodeArray(e);if(i.length)for(var n=0,a=i.length;a>n;n++){var s=x.newEl("img"),o={};o[O.setup.dataAttr]=t,x.setAttr(s,o),i[n].appendChild(s)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&c(t))},run:function(t){t=t||{};var i={},s=D(O.settings,t);O.vars.preempted=!0,O.vars.dataAttr=s.dataAttr||O.setup.dataAttr,O.vars.lineWrapRatio=s.lineWrapRatio||O.setup.lineWrapRatio,i.renderer=s.renderer?s.renderer:O.setup.renderer,-1===O.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=O.setup.supportsSVG?"svg":O.setup.supportsCanvas?"canvas":"html");var r=x.getNodeArray(s.images),l=x.getNodeArray(s.bgnodes),h=x.getNodeArray(s.stylenodes),c=x.getNodeArray(s.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=s.noFontFallback?s.noFontFallback:!1;for(var d=0;d<h.length;d++){var u=h[d];if(u.attributes.rel&&u.attributes.href&&"stylesheet"==u.attributes.rel.value){var p=u.attributes.href.value,f=x.newEl("a");f.href=p;var g=f.protocol+"//"+f.host+f.pathname+f.search;i.stylesheets.push(g)}}for(d=0;d<l.length;d++)if(e.getComputedStyle){var m=e.getComputedStyle(l[d],null).getPropertyValue("background-image"),v=l[d].getAttribute("data-background-src"),y=v||m,w=null,C="?"+s.domain+"/";if(0===y.indexOf(C))w=y.slice(1);else if(-1!=y.indexOf(C)){var k=y.substr(y.indexOf(C)).slice(1),_=k.match(/([^\"]*)"?\)/);null!=_&&(w=_[1])}if(null!=w){var T=a(w,s);T&&o({mode:"background",el:l[d],flags:T,engineSettings:i})}}for(d=0;d<c.length;d++){var S=c[d],A={};try{A.data=S.getAttribute("data"),A.dataSrc=S.getAttribute(O.vars.dataAttr)}catch(E){}var M=null!=A.data&&0===A.data.indexOf(s.domain),F=null!=A.dataSrc&&0===A.dataSrc.indexOf(s.domain);M?n(s,i,A.data,S):F&&n(s,i,A.dataSrc,S)}for(d=0;d<r.length;d++){var I=r[d],U={};try{U.src=I.getAttribute("src"),U.dataSrc=I.getAttribute(O.vars.dataAttr),U.rendered=I.getAttribute("data-holder-rendered")}catch(E){}var R=null!=U.src,N=null!=U.dataSrc&&0===U.dataSrc.indexOf(s.domain),$=null!=U.rendered&&"true"==U.rendered;R?0===U.src.indexOf(s.domain)?n(s,i,U.src,I):N&&($?n(s,i,U.dataSrc,I):!function(t,e,i,a,s){b.imageExists(t,function(t){t||n(e,i,a,s)})}(U.src,s,i,U.dataSrc,I)):N&&n(s,i,U.dataSrc,I)}return this}},O={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},M=function(){var t=null,e=null,i=null;return function(n){var a=n.root;if(O.setup.supportsSVG){var s=!1,o=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(s=!0),t=C.initSVG(t,a.properties.width,a.properties.height),t.style.display="block",s&&(e=x.newEl("text",T),i=o(null),x.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var r=a.children.holderTextGroup,l=r.properties;x.setAttr(e,{y:l.font.size,style:b.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),c=Math.ceil(h.width/(a.properties.width*O.vars.lineWrapRatio)),d=l.text.split(" "),u=l.text.match(/\\n/g);c+=null==u?0:u.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var p=e.getComputedTextLength(),f=h.width-p,g=Math.round(f/Math.max(1,d.length-1)),m=[];if(c>1){i.nodeValue="";for(var v=0;v<d.length;v++)if(0!==d[v].length){i.nodeValue=b.decodeHtmlEntity(d[v]);var y=e.getBBox();m.push({text:d[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:c,boundingBox:h,words:m}}return!1}}(),F=function(){var t=x.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=O.dpr(n.properties.width),t.height=O.dpr(n.properties.height),e.textBaseline="middle";var a=n.children.holderBg,s=O.dpr(a.width),o=O.dpr(a.height),r=2,l=r/2;e.fillStyle=a.properties.fill,e.fillRect(0,0,s,o),a.properties.outline&&(e.strokeStyle=a.properties.outline.fill,e.lineWidth=a.properties.outline.width,e.moveTo(l,l),e.lineTo(s-l,l),e.lineTo(s-l,o-l),e.lineTo(l,o-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(s,o-l),e.moveTo(0,o-l),e.lineTo(s,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+O.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var c in h.children){var d=h.children[c];for(var u in d.children){var p=d.children[u],f=O.dpr(h.x+d.x+p.x),g=O.dpr(h.y+d.y+p.y+h.properties.leading/2);e.fillText(p.properties.text,f,g)}}return t.toDataURL("image/png")}}(),I=function(){if(e.XMLSerializer){var t=x.createXML(),i=C.initSVG(null,0,0),n=x.newEl("rect",T);return i.appendChild(n),function(e,a){var s=e.root;C.initSVG(i,s.properties.width,s.properties.height);for(var o=i.querySelectorAll("g"),r=0;r<o.length;r++)o[r].parentNode.removeChild(o[r]);var l=a.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),c=x.newEl("g",T),d=s.children.holderTextGroup,u=d.properties,p=x.newEl("g",T),f=d.textPositionData,g="#"+h+" text { "+b.cssProps({fill:u.fill,"font-weight":u.font.weight,"font-family":u.font.family+", monospace","font-size":u.font.size+u.font.units})+" } ",m=t.createComment("\nSource URL: "+l+A),v=t.createCDATASection(g),y=i.querySelector("style"),w=s.children.holderBg;if(x.setAttr(c,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),c.appendChild(n),w.properties.outline){var k=x.newEl("path",T),D=w.properties.outline.width,_=D/2;x.setAttr(k,{d:["M",_,_,"H",w.width-_,"V",w.height-_,"H",_,"V",0,"M",0,_,"L",w.width,w.height-_,"M",0,w.height-_,"L",w.width,_].join(" "),"stroke-width":w.properties.outline.width,stroke:w.properties.outline.fill,fill:"none"}),c.appendChild(k)}c.appendChild(p),i.appendChild(c),x.setAttr(n,{width:w.width,height:w.height,fill:w.properties.fill}),d.y+=.8*f.boundingBox.height;for(var S in d.children){var E=d.children[S];for(var O in E.children){var M=E.children[O],F=d.x+E.x+M.x,I=d.y+E.y+M.y,U=x.newEl("text",T),R=document.createTextNode(null);x.setAttr(U,{x:F,y:I}),R.nodeValue=M.properties.text,U.appendChild(R),p.appendChild(U)}}var N=C.svgStringToDataURI(C.serializeSVG(i,a.engineSettings),"background"===a.mode);return N}}}();for(var U in O.flags)O.flags.hasOwnProperty(U)&&(O.flags[U].match=function(t){return t.match(this.regex)});O.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},O.dpr=function(t){return t*O.setup.ratio},O.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=x.newEl("canvas"),a=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(O.setup.renderer="canvas",a=n.getContext("2d"),O.setup.supportsCanvas=!0),O.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),O.setup.ratio=t/i,document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(O.setup.renderer="svg",O.setup.supportsSVG=!0)}(),p(),v&&v(function(){O.vars.preempted||E.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){E.run()})}),t.exports=E}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,a=decodeURIComponent,s=i(10),o=i(9),r=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=s(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var o,h,c,d=i[n].split("="),u=a(d[0]);if(o=r.exec(u))e[o[1]]=e[o[1]]||[],e[o[1]][o[2]]=a(d[1]);else if(o=l.test(u)){for(o=u.split("."),h=e;o.length;)if(c=o.shift(),c.length){if(h[c]){if(h[c]&&"object"!=typeof h[c])break}else h[c]={};o.length||(h[c]=a(d[1])),h=h[c]}}else e[d[0]]=null==d[1]?"":a(d[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var a=t[i];if("array"!=o(a))e.push(n(i)+"="+n(t[i]));else for(var s=0;s<a.length;++s)e.push(n(i+"["+s+"]")+"="+n(a[s]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!C){if(!o.body)return a(e);for(C=!0;t=x.shift();)a(t)}}function i(t){(w||t.type===l||o[u]===d)&&(n(),e())}function n(){w?(o[y](m,i,h),t[y](l,i,h)):(o[f](v,i),t[f](c,i))}function a(t,e){setTimeout(t,+e>=0?e:1)}function s(t){C?a(t):x.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function D(){document.removeEventListener("DOMContentLoaded",D,!1),document.readyState="complete"},!1),document.readyState="loading");var o=t.document,r=o.documentElement,l="load",h=!1,c="on"+l,d="complete",u="readyState",p="attachEvent",f="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",w=g in o,b=h,C=h,x=[];if(o[u]===d)a(e);else if(w)o[g](m,i,h),t[g](l,i,h);else{o[p](v,i),t[p](c,i);try{b=null==t.frameElement&&r}catch(k){}b&&b.doScroll&&!function _(){if(!C){try{b.doScroll("left")}catch(t){return a(_,50)}n(),e()}}()}return s.version="1.4.0",s.isReady=function(){return C},s}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var a=function(){n.call(this,"root"),this.properties=t};a.prototype=new n;var s=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};s.prototype=new n;var o=function(){s.apply(this,arguments),this.type="group"};o.prototype=new s;var r=function(){s.apply(this,arguments),this.type="rect"};r.prototype=new s;var l=function(t){s.call(this),this.type="text",this.properties.text=t};l.prototype=new s;var h=new a;return this.Shape={Rect:r,Text:l,Group:o},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),a="http://www.w3.org/2000/svg",s=8;e.initSVG=function(t,e,i){var o,r,l=!1;t&&t.querySelector?(r=t.querySelector("style"),null===r&&(l=!0)):(t=n.newEl("svg",a),l=!0),l&&(o=n.newEl("defs",a),r=n.newEl("style",a),n.setAttr(r,{type:"text/css"}),o.appendChild(r),t.appendChild(o)),t.webkitMatchesSelector&&t.setAttribute("xmlns",a);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===s&&t.removeChild(t.childNodes[h]);for(;r.childNodes.length;)r.removeChild(r.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var a=new XMLSerializer,s="",o=i.stylesheets;if(i.svgXMLStylesheet){for(var r=n.createXML(),l=o.length-1;l>=0;l--){var h=r.createProcessingInstruction("xml-stylesheet",'href="'+o[l]+'" rel="stylesheet"');r.insertBefore(h,r.firstChild)}r.removeChild(r.documentElement),s=a.serializeToString(r)}var c=a.serializeToString(e);return c=c.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),s+c}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var a=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};a.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},a.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,s=255*t|0;return new a(a.rgbToHex(e+s,i+s,n+s))},a.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},a.prototype.lighterThan=function(t){return t instanceof a||(t=new a(t)),this.yuv.y>t.yuv.y},a.prototype.blendAlpha=function(t){t instanceof a||(t=new a(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,s=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,o=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new a(a.rgbToHex(n,s,o))},t.exports=a},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);