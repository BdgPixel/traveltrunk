/*
 * jQuery Plugin: Tokenizing Autocomplete Text Entry
 * Version 1.6.0
 *
 * Copyright (c) 2009 James Smith (http://loopj.com)
 * Licensed jointly under the GPL and MIT licenses,
 * choose which one suits your project best!
 *
 */
!function(e){var t={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",prePopulate:null,processPrePopulate:!1,idPrefix:"token-input-",resultsFormatter:function(e){return"<li>"+e[this.propertyToSearch]+"</li>"},tokenFormatter:function(e){return"<li><p>"+e[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null},n={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},i={BEFORE:0,AFTER:1,END:2},a={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},r={init:function(n,i){var a=e.extend({},t,i||{});return this.each(function(){e(this).data("tokenInputObject",new e.TokenList(this,n,a))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(e){return this.data("tokenInputObject").add(e),this},remove:function(e){return this.data("tokenInputObject").remove(e),this},get:function(){return this.data("tokenInputObject").getTokens()}};e.fn.tokenInput=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):r.init.apply(this,arguments)},e.TokenList=function(t,r,o){function s(){return null!==o.tokenLimit&&L>=o.tokenLimit?(F.hide(),void m()):void 0}function l(){if(R!==(R=F.val())){var e=R.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");H.html(e),F.width(H.width()+30)}}function u(t){var n=o.tokenFormatter(t);n=e(n).addClass(o.classes.token).insertBefore(_),e("<span>"+o.deleteText+"</span>").addClass(o.classes.tokenDelete).appendTo(n).click(function(){return g(e(this).parent()),$.change(),!1});var i={id:t.id};return i[o.propertyToSearch]=t[o.propertyToSearch],e.data(n.get(0),"tokeninput",t),P=P.slice(0,j).concat([i]).concat(P.slice(j)),j++,f(P,$),L+=1,null!==o.tokenLimit&&L>=o.tokenLimit&&(F.hide(),m()),n}function c(t){var n=o.onAdd;if(L>0&&o.preventDuplicates){var i=null;if(I.children().each(function(){var n=e(this),a=e.data(n.get(0),"tokeninput");return a&&a.id===t.id?(i=n,!1):void 0}),i)return p(i),_.insertAfter(i),void F.focus()}(null==o.tokenLimit||L<o.tokenLimit)&&(u(t),s()),F.val(""),m(),e.isFunction(n)&&n.call($,t)}function p(e){e.addClass(o.classes.selectedToken),B=e.get(0),F.val(""),m()}function h(e,t){e.removeClass(o.classes.selectedToken),B=null,t===i.BEFORE?(_.insertBefore(e),j--):t===i.AFTER?(_.insertAfter(e),j++):(_.appendTo(I),j=L),F.focus()}function d(t){var n=B;B&&h(e(B),i.END),n===t.get(0)?h(t,i.END):p(t)}function g(t){var n=e.data(t.get(0),"tokeninput"),i=o.onDelete,a=t.prevAll().length;a>j&&a--,t.remove(),B=null,F.focus(),P=P.slice(0,a).concat(P.slice(a+1)),j>a&&j--,f(P,$),L-=1,null!==o.tokenLimit&&F.show().val("").focus(),e.isFunction(i)&&i.call($,n)}function f(t,n){var i=e.map(t,function(e){return e[o.tokenValue]});n.val(i.join(o.tokenDelimiter))}function m(){z.hide().empty(),M=null}function v(){z.css({position:"absolute",top:e(I).offset().top+e(I).outerHeight(),left:e(I).offset().left,zindex:999}).show()}function y(){o.searchingText&&(z.html("<p>"+o.searchingText+"</p>"),v())}function k(){o.hintText&&(z.html("<p>"+o.hintText+"</p>"),v())}function S(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function D(e,t,n){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","g"),S(t,n))}function N(t,n){if(n&&n.length){z.empty();var i=e("<ul>").appendTo(z).mouseover(function(t){w(e(t.target).closest("li"))}).mousedown(function(t){return c(e(t.target).closest("li").data("tokeninput")),$.change(),!1}).hide();e.each(n,function(n,a){var r=o.resultsFormatter(a);r=D(r,a[o.propertyToSearch],t),r=e(r).appendTo(i),n%2?r.addClass(o.classes.dropdownItem):r.addClass(o.classes.dropdownItem2),0===n&&w(r),e.data(r.get(0),"tokeninput",a)}),v(),o.animateDropdown?i.slideDown("fast"):i.show()}else o.noResultsText&&(z.html("<p>"+o.noResultsText+"</p>"),v())}function w(t){t&&(M&&C(e(M)),t.addClass(o.classes.selectedDropdownItem),M=t.get(0))}function C(e){e.removeClass(o.classes.selectedDropdownItem),M=null}function x(){var t=F.val().toLowerCase();t&&t.length&&(B&&h(e(B),i.AFTER),t.length>=o.minChars?(y(),clearTimeout(b),b=setTimeout(function(){A(t)},o.searchDelay)):m())}function A(t){var n=t+E(),i=O.get(n);if(i)N(t,i);else if(o.url){var a=E(),r={};if(r.data={},a.indexOf("?")>-1){var s=a.split("?");r.url=s[0];var l=s[1].split("&");e.each(l,function(e,t){var n=t.split("=");r.data[n[0]]=n[1]})}else r.url=a;r.data[o.queryParam]=t,r.type=o.method,r.dataType=o.contentType,o.crossDomain&&(r.dataType="jsonp"),r.success=function(i){e.isFunction(o.onResult)&&(i=o.onResult.call($,i)),O.add(n,o.jsonContainer?i[o.jsonContainer]:i),F.val().toLowerCase()===t&&N(t,o.jsonContainer?i[o.jsonContainer]:i)},e.ajax(r)}else if(o.local_data){var u=e.grep(o.local_data,function(e){return e[o.propertyToSearch].toLowerCase().indexOf(t.toLowerCase())>-1});e.isFunction(o.onResult)&&(u=o.onResult.call($,u)),O.add(n,u),N(t,u)}}function E(){var e=o.url;return"function"==typeof o.url&&(e=o.url.call()),e}if("string"===e.type(r)||"function"===e.type(r)){o.url=r;var T=E();void 0===o.crossDomain&&(-1===T.indexOf("://")?o.crossDomain=!1:o.crossDomain=location.href.split(/\/+/g)[1]!==T.split(/\/+/g)[1])}else"object"==typeof r&&(o.local_data=r);o.classes?o.classes=e.extend({},n,o.classes):o.theme?(o.classes={},e.each(n,function(e,t){o.classes[e]=t+"-"+o.theme})):o.classes=n;var b,R,P=[],L=0,O=new e.TokenList.Cache,F=e('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",o.idPrefix+t.id).focus(function(){(null===o.tokenLimit||o.tokenLimit!==L)&&k()}).blur(function(){m(),e(this).val("")}).bind("keyup keydown blur update",l).keydown(function(t){var n,r;switch(t.keyCode){case a.LEFT:case a.RIGHT:case a.UP:case a.DOWN:if(e(this).val()){var o=null;return o=t.keyCode===a.DOWN||t.keyCode===a.RIGHT?e(M).next():e(M).prev(),o.length&&w(o),!1}n=_.prev(),r=_.next(),n.length&&n.get(0)===B||r.length&&r.get(0)===B?t.keyCode===a.LEFT||t.keyCode===a.UP?h(e(B),i.BEFORE):h(e(B),i.AFTER):t.keyCode!==a.LEFT&&t.keyCode!==a.UP||!n.length?t.keyCode!==a.RIGHT&&t.keyCode!==a.DOWN||!r.length||p(e(r.get(0))):p(e(n.get(0)));break;case a.BACKSPACE:if(n=_.prev(),!e(this).val().length)return B?(g(e(B)),$.change()):n.length&&p(e(n.get(0))),!1;1===e(this).val().length?m():setTimeout(function(){x()},5);break;case a.TAB:case a.ENTER:case a.NUMPAD_ENTER:case a.COMMA:if(M)return c(e(M).data("tokeninput")),$.change(),!1;break;case a.ESCAPE:return m(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){x()},5)}}),$=e(t).hide().val("").focus(function(){F.focus()}).blur(function(){F.blur()}),B=null,j=0,M=null,I=e("<ul />").addClass(o.classes.tokenList).click(function(t){var n=e(t.target).closest("li");n&&n.get(0)&&e.data(n.get(0),"tokeninput")?d(n):(B&&h(e(B),i.END),F.focus())}).mouseover(function(t){var n=e(t.target).closest("li");n&&B!==this&&n.addClass(o.classes.highlightedToken)}).mouseout(function(t){var n=e(t.target).closest("li");n&&B!==this&&n.removeClass(o.classes.highlightedToken)}).insertBefore($),_=e("<li />").addClass(o.classes.inputToken).appendTo(I).append(F),z=e("<div>").addClass(o.classes.dropdown).appendTo("body").hide(),H=e("<tester/>").insertAfter(F).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:F.css("fontSize"),fontFamily:F.css("fontFamily"),fontWeight:F.css("fontWeight"),letterSpacing:F.css("letterSpacing"),whiteSpace:"nowrap"});$.val("");var K=o.prePopulate||$.data("pre");o.processPrePopulate&&e.isFunction(o.onResult)&&(K=o.onResult.call($,K)),K&&K.length&&e.each(K,function(e,t){u(t),s()}),e.isFunction(o.onReady)&&o.onReady.call(),this.clear=function(){I.children("li").each(function(){0===e(this).children("input").length&&g(e(this))})},this.add=function(e){c(e)},this.remove=function(t){I.children("li").each(function(){if(0===e(this).children("input").length){var n=e(this).data("tokeninput"),i=!0;for(var a in t)if(t[a]!==n[a]){i=!1;break}i&&g(e(this))}})},this.getTokens=function(){return P}},e.TokenList.Cache=function(t){var n=e.extend({max_size:500},t),i={},a=0,r=function(){i={},a=0};this.add=function(e,t){a>n.max_size&&r(),i[e]||(a+=1),i[e]=t},this.get=function(e){return i[e]}}}(jQuery),$("#formAddToSavings").on("submit",function(e){var t;return t=void 0,t=null,$("#update_credit_amount").val()||($(".payment-errors").html("Amount cannot be blank or zero or negative"),t=!1),0==$("#update_credit_amount").val()&&($(".payment-errors").html("Amount cannot be blank or zero or negative"),t=!1),$("#update_credit_amount").val()<0&&($(".payment-errors").html("Amount cannot be blank or zero or negative"),t=!1),t}),/**
* autoNumeric.js
* @author: Bob Knothe
* @author: Sokolov Yura
* @version: 1.9.26 - 2014-10-07 GMT 2:00 PM
*
* Created by Robert J. Knothe on 2010-10-25. Please report any bugs to https://github.com/BobKnothe/autoNumeric
* Created by Sokolov Yura on 2010-11-07
*
* Copyright (c) 2011 Robert J. Knothe http://www.decorplanit.com/plugin/
*
* The MIT License (http://www.opensource.org/licenses/mit-license.php)
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
function(e){"use strict";function t(e){var t={};if(void 0===e.selectionStart){e.focus();var n=document.selection.createRange();t.length=n.text.length,n.moveStart("character",-e.value.length),t.end=n.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}function n(e,t,n){if(void 0===e.selectionStart){e.focus();var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select()}else e.selectionStart=t,e.selectionEnd=n}function i(t,n){e.each(n,function(e,i){"function"==typeof i?n[e]=i(t,n,e):"function"==typeof t.autoNumeric[i]&&(n[e]=t.autoNumeric[i](t,n,e))})}function a(e,t){"string"==typeof e[t]&&(e[t]*=1)}function r(e,t){i(e,t),t.oEvent=null,t.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var n=t.vMax.toString().split("."),r=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];if(a(t,"vMax"),a(t,"vMin"),a(t,"mDec"),t.mDec="CHF"===t.mRound?"2":t.mDec,t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",n[0]=n[0].replace("-",""),r[0]=r[0].replace("-",""),t.mInt=Math.max(n[0].length,r[0].length,1),null===t.mDec){var o=0,s=0;n[1]&&(o=n[1].length),r[1]&&(s=r[1].length),t.mDec=Math.max(o,s)}null===t.altDec&&t.mDec>0&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var l=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=l,t.skipFirstAutoStrip=new RegExp(l+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var u="-"+t.aNum+"\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+u+"]","gi"),t.numRegAutoStrip=new RegExp(l+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function o(e,t,n){if(t.aSign)for(;e.indexOf(t.aSign)>-1;)e=e.replace(t.aSign,"");e=e.replace(t.skipFirstAutoStrip,"$1$2"),e=e.replace(t.skipLastAutoStrip,"$1"),e=e.replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var i=e.match(t.numRegAutoStrip);if(e=i?[i[1],i[2],i[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==n){var a=[],r="";a=e.split(t.aDec),-1!==a[0].indexOf("-")&&(r="-",a[0]=a[0].replace("-","")),a[0].length>t.mInt&&"0"===a[0].charAt(0)&&(a[0]=a[0].slice(1)),e=r+a.join(t.aDec)}if(n&&"deny"===t.lZero||n&&"allow"===t.lZero&&t.allowLeading===!1){var o="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");o=new RegExp(o),e=e.replace(o,"$1$2")}return e}function s(e,t,n){return t=t.split(","),"set"===n||"focusout"===n?(e=e.replace("-",""),e=t[0]+e+t[1]):"get"!==n&&"focusin"!==n&&"pageLoad"!==n||e.charAt(0)!==t[0]||(e=e.replace(t[0],"-"),e=e.replace(t[1],"")),e}function l(e,t,n){if(t&&n){var i=e.split(t);i[1]&&i[1].length>n&&(n>0?(i[1]=i[1].substring(0,n),e=i.join(t)):e=i[0])}return e}function u(e,t,n){return t&&"."!==t&&(e=e.replace(t,".")),n&&"-"!==n&&(e=e.replace(n,"-")),e.match(/\d/)||(e+="0"),e}function c(e,t){if(e){var n=+e;if(1e-6>n&&n>-1)e=+e,1e-6>e&&e>0&&(e=(e+10).toString(),e=e.substring(1)),0>e&&e>-1&&(e=(e-10).toString(),e="-"+e.substring(2)),e=e.toString();else{var i=e.split(".");void 0!==i[1]&&(0===+i[1]?e=i[0]:(i[1]=i[1].replace(/0*$/,""),e=i.join(".")))}}return"keep"===t.lZero?e:e.replace(/^0*(\d)/,"$1")}function p(e,t,n){return n&&"-"!==n&&(e=e.replace("-",n)),t&&"."!==t&&(e=e.replace(".",t)),e}function h(t,n){t=o(t,n),t=l(t,n.aDec,n.mDec),t=u(t,n.aDec,n.aNeg);var i=+t;return"set"===n.oEvent&&(i<n.vMin||i>n.vMax)&&e.error("The value ("+i+") from the 'set' method falls outside of the vMin / vMax range"),i>=n.vMin&&i<=n.vMax}function d(e,t,n){return""===e||e===t.aNeg?"zero"===t.wEmpty?e+"0":"sign"===t.wEmpty||n?e+t.aSign:e:null}function g(e,t){e=o(e,t);var n=e.replace(",","."),i=d(e,t,!0);if(null!==i)return i;var a="";a=2===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var r=e.split(t.aDec);t.altDec&&1===r.length&&(r=e.split(t.altDec));var l=r[0];if(t.aSep)for(;a.test(l);)l=l.replace(a,"$1"+t.aSep+"$2");if(0!==t.mDec&&r.length>1?(r[1].length>t.mDec&&(r[1]=r[1].substring(0,t.mDec)),e=l+t.aDec+r[1]):e=l,t.aSign){var u=-1!==e.indexOf(t.aNeg);e=e.replace(t.aNeg,""),e="p"===t.pSign?t.aSign+e:e+t.aSign,u&&(e=t.aNeg+e)}return"set"===t.oEvent&&0>n&&null!==t.nBracket&&(e=s(e,t.nBracket,t.oEvent)),e}function f(e,t){e=""===e?"0":e.toString(),a(t,"mDec"),"CHF"===t.mRound&&(e=(Math.round(20*e)/20).toString());var n="",i=0,r="",o="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,s=function(e){var t=0===o?/(\.(?:\d*[1-9])?)0*$/:1===o?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+o+"}(?:\\d*[1-9])?)0*$");return e=e.replace(t,"$1"),0===o&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(r="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===r&&0===+e&&(r=""),(+e>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var l=e.lastIndexOf("."),u=-1===l?e.length-1:l,c=e.length-1-u;if(c<=t.mDec){if(n=e,o>c){-1===l&&(n+=".");for(var p="000000";o>c;)p=p.substring(0,o-c),n+=p,c+=p.length}else c>o?n=s(n):0===c&&0===o&&(n=n.replace(/\.$/,""));if("CHF"!==t.mRound)return 0===+n?n:r+n;"CHF"===t.mRound&&(l=n.lastIndexOf("."),e=n)}var h=l+t.mDec,d=+e.charAt(h+1),g=e.substring(0,h+1).split(""),f="."===e.charAt(h)?e.charAt(h-1)%2:e.charAt(h)%2,m=!0;if(1!==f&&(f=0===f&&e.substring(h+2,e.length)>0?1:0),d>4&&"S"===t.mRound||d>4&&"A"===t.mRound&&""===r||d>5&&"A"===t.mRound&&"-"===r||d>5&&"s"===t.mRound||d>5&&"a"===t.mRound&&""===r||d>4&&"a"===t.mRound&&"-"===r||d>5&&"B"===t.mRound||5===d&&"B"===t.mRound&&1===f||d>0&&"C"===t.mRound&&""===r||d>0&&"F"===t.mRound&&"-"===r||d>0&&"U"===t.mRound||"CHF"===t.mRound)for(i=g.length-1;i>=0;i-=1)if("."!==g[i]){if("CHF"===t.mRound&&g[i]<=2&&m){g[i]=0,m=!1;break}if("CHF"===t.mRound&&g[i]<=7&&m){g[i]=5,m=!1;break}if("CHF"===t.mRound&&m?(g[i]=10,m=!1):g[i]=+g[i]+1,g[i]<10)break;i>0&&(g[i]="0")}return g=g.slice(0,h+1),n=s(g.join("")),0===+n?n:r+n}function m(t,n){this.settings=n,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=r(this.$that,this.settings),this.value=t.value}function v(t){return"string"==typeof t&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),e(t)}function y(e,t,n){var i=e.data("autoNumeric");i||(i={},e.data("autoNumeric",i));var a=i.holder;return(void 0===a&&t||n)&&(a=new m(e.get(0),t),i.holder=a),a}m.prototype={init:function(e){this.value=this.that.value,this.settingsClone=r(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=t(this.that),("keydown"===e.type||"keyup"===e.type)&&(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,i){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(void 0===i||i)&&n(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),n=e.substring(this.selection.end,e.length);return[t,n]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=o(e[0],this.settingsClone),e[1]=o(e[1],this.settingsClone),e},normalizeParts:function(e,t){var n=this.settingsClone;t=o(t,n);var i=t.match(/^\d/)?!0:"leading";e=o(e,n,i),""!==e&&e!==n.aNeg||"deny"!==n.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1"));var a=e+t;if(n.aDec){var r=a.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));r&&(e=e.replace(r[1],r[1]+"0"),a=e+t)}return"zero"!==n.wEmpty||a!==n.aNeg&&""!==a||(e+="0"),[e,t]},setValueParts:function(e,t){var n=this.settingsClone,i=this.normalizeParts(e,t),a=i.join(""),r=i[0].length;return h(a,n)?(a=l(a,n.aDec,n.mDec),r>a.length&&(r=a.length),this.value=a,this.setPosition(r,!1),!0):!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,n=this.that;if(t){var i=t.length;if("p"===e.pSign){var a=e.aNeg&&n.value&&n.value.charAt(0)===e.aNeg;return a?[1,i+1]:[0,i]}var r=n.value.length;return[r-i,r]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),n=this.selection;n.start<t[1]&&n.end>t[0]&&((n.start<t[0]||n.end>t[1])&&this.value.substring(Math.max(n.start,t[0]),Math.min(n.end,t[1])).match(/^\s*$/)?n.start<t[0]?this.setSelection(n.start,t[0],e):this.setSelection(t[1],n.end,e):this.setSelection(Math.min(n.start,t[0]),Math.max(n.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+o(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1])||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,n=this.which,i=this.ctrlKey,a=this.cmdKey,r=this.shiftKey;if((i||a)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||r&&45===t)return this.checkPaste(),!1;if(t>=112&&123>=t||t>=91&&93>=t||t>=9&&31>=t||8>t&&(0===n||n===t)||144===t||145===t||45===t)return!0;if((i||a)&&65===t)return!0;if((i||a)&&(67===t||86===t||88===t))return"keydown"===e.type&&this.expandSelectionOnSign(),(86===t||45===t)&&("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||67===t;if(i||a)return!0;if(37===t||39===t){var o=this.settingsClone.aSep,s=this.selection.start,l=this.that.value;return"keydown"===e.type&&o&&!this.shiftKey&&(37===t&&l.charAt(s-2)===o?this.setPosition(s-1):39===t&&l.charAt(s+1)===o&&this.setPosition(s+1)),!0}return t>=34&&40>=t?!0:!1},processAllways:function(){var e;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped(),this.setValueParts(e[0],e[1])):(e=this.getBeforeAfterStriped(),8===this.kdCode?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length),this.setValueParts(e[0],e[1])),!0):!1},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],a=n[1];return t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&110===this.kdCode?e.mDec&&e.aDec?e.aNeg&&a.indexOf(e.aNeg)>-1?!0:i.indexOf(e.aDec)>-1?!0:a.indexOf(e.aDec)>0?!0:(0===a.indexOf(e.aDec)&&(a=a.substr(1)),this.setValueParts(i+e.aDec,a),!0):!0:"-"===t||"+"===t?e.aNeg?(""===i&&a.indexOf(e.aNeg)>-1&&(i=e.aNeg,a=a.substring(1,a.length)),i=i.charAt(0)===e.aNeg?i.substring(1,i.length):"-"===t?e.aNeg+i:i,this.setValueParts(i,a),!0):!0:t>="0"&&"9">=t?(e.aNeg&&""===i&&a.indexOf(e.aNeg)>-1&&(i=e.aNeg,a=a.substring(1,a.length)),e.vMax<=0&&e.vMin<e.vMax&&-1===this.value.indexOf(e.aNeg)&&"0"!==t&&(i=e.aNeg+i),this.setValueParts(i+t,a),!0):!0},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),n=this.value;if((""===e.aSep||""!==e.aSep&&-1===n.indexOf(e.aSep))&&(""===e.aSign||""!==e.aSign&&-1===n.indexOf(e.aSign))){var i=[],a="";i=n.split(e.aDec),i[0].indexOf("-")>-1&&(a="-",i[0]=i[0].replace("-",""),t[0]=t[0].replace("-","")),i[0].length>e.mInt&&"0"===t[0].charAt(0)&&(t[0]=t[0].slice(1)),t[0]=a+t[0]}var r=g(this.value,this.settingsClone),o=r.length;if(r){var s=t[0].split(""),l=0;for(l;l<s.length;l+=1)s[l].match("\\d")||(s[l]="\\"+s[l]);var u=new RegExp("^.*?"+s.join(".*?")),c=r.match(u);c?(o=c[0].length,(0===o&&r.charAt(0)!==e.aNeg||1===o&&r.charAt(0)===e.aNeg)&&e.aSign&&"p"===e.pSign&&(o=this.settingsClone.aSign.length+("-"===r.charAt(0)?1:0))):e.aSign&&"s"===e.pSign&&(o-=e.aSign.length)}this.that.value=r,this.setPosition(o),this.formatted=!0}};var k={init:function(t){return this.each(function(){var i=e(this),a=i.data("autoNumeric"),r=i.data();if("object"==typeof a)return this;var l={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}};if(a=e.extend({},l,r,t),a.aDec===a.aSep)return e.error("autoNumeric will not function properly when the decimal character aDec: '"+a.aDec+"' and thousand separator aSep: '"+a.aSep+"' are the same character"),this;i.data("autoNumeric",a),a.runOnce=!1;var c=y(i,a);if(-1===e.inArray(i.prop("tagName").toLowerCase(),a.tagList)&&"input"!==i.prop("tagName").toLowerCase())return e.error("The <"+i.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),this;if(a.runOnce===!1&&a.aForm){if(i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){var m=!0;""===i[0].value&&"empty"===a.wEmpty&&(i[0].value="",m=!1),""===i[0].value&&"sign"===a.wEmpty&&(i[0].value=a.aSign,m=!1),m&&i.autoNumeric("set",i.val())}-1!==e.inArray(i.prop("tagName").toLowerCase(),a.tagList)&&""!==i.text()&&i.autoNumeric("set",i.text())}a.runOnce=!0,i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(i.on("keydown.autoNumeric",function(t){return c=y(i),c.settings.aDec===c.settings.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+c.settings.aDec+"' and thousand separator aSep: '"+c.settings.aSep+"' are the same character"),this):c.that.readOnly?(c.processed=!0,!0):(c.init(t),c.settings.oEvent="keydown",c.skipAllways(t)?(c.processed=!0,!0):c.processAllways()?(c.processed=!0,c.formatQuick(),t.preventDefault(),!1):(c.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(e){var t=y(i),n=t.processed;return t.init(e),t.settings.oEvent="keypress",t.skipAllways(e)?!0:n?(e.preventDefault(),!1):t.processAllways()||t.processKeypress()?(t.formatQuick(),e.preventDefault(),!1):void(t.formatted=!1)}),i.on("keyup.autoNumeric",function(e){var t=y(i);t.init(e),t.settings.oEvent="keyup";var a=t.skipAllways(e);return t.kdCode=0,delete t.valuePartsBeforePaste,i[0].value===t.settings.aSign&&("s"===t.settings.pSign?n(this,0,0):n(this,t.settings.aSign.length,t.settings.aSign.length)),a?!0:""===this.value?!0:void(t.formatted||t.formatQuick())}),i.on("focusin.autoNumeric",function(){var e=y(i);if(e.settingsClone.oEvent="focusin",null!==e.settingsClone.nBracket){var t=i.val();i.val(s(t,e.settingsClone.nBracket,e.settingsClone.oEvent))}e.inVal=i.val();var a=d(e.inVal,e.settingsClone,!0);null!==a&&(i.val(a),"s"===e.settings.pSign?n(this,0,0):n(this,e.settings.aSign.length,e.settings.aSign.length))}),i.on("focusout.autoNumeric",function(){var e=y(i),t=e.settingsClone,n=i.val(),a=n;e.settingsClone.oEvent="focusout";var r="";"allow"===t.lZero&&(t.allowLeading=!1,r="leading"),""!==n&&(n=o(n,t,r),null===d(n,t)&&h(n,t,i[0])?(n=u(n,t.aDec,t.aNeg),n=f(n,t),n=p(n,t.aDec,t.aNeg)):n="");var l=d(n,t,!1);null===l&&(l=g(n,t)),l!==a&&i.val(l),l!==e.inVal&&(i.change(),delete e.inVal),null!==t.nBracket&&i.autoNumeric("get")<0&&(e.settingsClone.oEvent="focusout",i.val(s(i.val(),t.nBracket,t.oEvent)))}))})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var n=v(e(this)),i=n.data("autoNumeric");if("object"!=typeof i)return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var a=n.autoNumeric("get");return i=e.extend(i,t),y(n,i,!0),i.aDec===i.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),this):(n.data("autoNumeric",i),""!==n.val()||""!==n.text()?n.autoNumeric("set",a):void 0)})},set:function(t){return null!==t?e(this).each(function(){var n=v(e(this)),i=n.data("autoNumeric"),a=t.toString(),r=t.toString();return"object"!=typeof i?(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(r!==n.attr("value")&&"input"===n.prop("tagName").toLowerCase()&&i.runOnce===!1&&(a=null!==i.nBracket?s(n.val(),i.nBracket,"pageLoad"):a,a=o(a,i)),r!==n.attr("value")&&r!==n.text()||i.runOnce!==!1||(a=a.replace(",",".")),e.isNumeric(+a)?(a=c(a,i),i.oEvent="set",a.toString(),""!==a&&(a=f(a,i)),a=p(a,i.aDec,i.aNeg),h(a,i)||(a=f("",i)),a=g(a,i),n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?n.val(a):-1!==e.inArray(n.prop("tagName").toLowerCase(),i.tagList)?n.text(a):(e.error("The <"+n.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),!1)):"")}):void 0},get:function(){var t=v(e(this)),n=t.data("autoNumeric");if("object"!=typeof n)return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;n.oEvent="get";var i="";if(t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"))i=t.eq(0).val();else{if(-1===e.inArray(t.prop("tagName").toLowerCase(),n.tagList))return e.error("The <"+t.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),!1;i=t.eq(0).text()}return""===i&&"empty"===n.wEmpty||i===n.aSign&&("sign"===n.wEmpty||"empty"===n.wEmpty)?"":(null!==n.nBracket&&""!==i&&(i=s(i,n.nBracket,n.oEvent)),(n.runOnce||n.aForm===!1)&&(i=o(i,n)),i=u(i,n.aDec,n.aNeg),0===+i&&"keep"!==n.lZero&&(i="0"),"keep"===n.lZero?i:i=c(i,n))},getString:function(){var t=!1,n=v(e(this)),i=n.serialize(),a=i.split("&"),r=e("form").index(n),o=0;for(o;o<a.length;o+=1){var s=a[o].split("="),l=e("form:eq("+r+') input[name="'+decodeURIComponent(s[0])+'"]'),u=l.data("autoNumeric");"object"==typeof u&&null!==s[1]&&(s[1]=l.autoNumeric("get"),a[o]=s.join("="),t=!0)}return t===!0?a.join("&"):i},getArray:function(){var t=!1,n=v(e(this)),i=n.serializeArray(),a=e("form").index(n);return e.each(i,function(n,i){var r=e("form:eq("+a+') input[name="'+decodeURIComponent(i.name)+'"]'),o=r.data("autoNumeric");"object"==typeof o&&(""!==i.value&&(i.value=r.autoNumeric("get").toString()),t=!0)}),t===!0?i:this},getSettings:function(){var t=v(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){return k[t]?k[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Method "'+t+'" is not supported by autoNumeric()'):k.init.apply(this,arguments)}}(jQuery),function(){var e;e=function(){$("#invitationForm").validate({ignore:".ignore",rules:{autocomplete:"required"},messages:{autocomplete:"Please enter your email invitation"}})},$(document).ready(function(){return e(),$("#invite_user_id").tokenInput("/group/users_collection.json",{allowCustomEntry:!0,preventDuplicates:!1,zindex:9999,resultsFormatter:function(e){return"<li><img src='"+e.image_url+"' title='"+e.name+"' height='50px' width='50px' /><div style='display: inline-block; padding-left: 10px;'><div class='full_name'>"+e.name+"</div><div class='email'>"+e.email+"</div></div></li>"},tokenFormatter:function(e){return"<li><p><img src='"+e.image_url+"' title='"+e.name+"' height='25px' width='25px' />&nbsp;"+e.name+"&nbsp;<b style='color: red'>"+e.email+"</b></p></li>"}}),$("#slideToggleLink").click(function(){return $("#slideToggle").slideToggle()})})}.call(this);