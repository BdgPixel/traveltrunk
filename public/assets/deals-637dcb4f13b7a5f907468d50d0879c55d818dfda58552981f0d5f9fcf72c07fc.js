/*
 * blueimp Gallery JS 2.11.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Swipe implementation based on
 * https://github.com/bradbirdsall/Swipe
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(t){"use strict";function e(t,i){return t&&t.length&&void 0!==document.body.style.maxHeight?this&&this.options===e.prototype.options?(this.list=t,this.num=t.length,this.initOptions(i),void this.initialize()):new e(t,i):!1}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},support:function(e){var i,n,s,a={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},r={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},o=function(){document.body.appendChild(e),n&&(i=n.name.slice(0,-9)+"ransform",void 0!==e.style[i]&&(e.style[i]="translateZ(0)",s=window.getComputedStyle(e).getPropertyValue(n.prefix+"transform"),a.transform={prefix:n.prefix,name:i,translate:!0,translateZ:!!s&&"none"!==s})),void 0!==e.style.backgroundSize&&(a.backgroundSize={},e.style.backgroundSize="contain",a.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",a.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)};for(i in r)if(r.hasOwnProperty(i)&&void 0!==e.style[i]){n=r[i],n.name=i,a.transition=n;break}return document.body?o():t(document).on("DOMContentLoaded",o),a}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(t,e){window.clearTimeout(this.timeout);var i,n,s,a=this.index;if(a!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transition){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(a-t)/(a-t),this.options.continuous&&(n=i,i=-this.positions[this.circle(t)]/this.slideWidth,i!==n&&(t=-i*this.num+t)),s=Math.abs(a-t)-1;s;)s-=1,this.move(this.circle((t>a?t:a)-s-1),this.slideWidth*i,0);t=this.circle(t),this.move(a,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-(this.slideWidth*i),0)}else t=this.circle(t),this.animate(a*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this,e=function(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,e),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,n){var s=this.slides[t].style,a=this.support.transition,r=this.support.transform;s[a.name+"Duration"]=n+"ms",s[r.name]="translate("+e+"px, "+i+"px)"+(r.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(!i)return void(this.slidesContainer[0].style.left=e+"px");var n=this,s=(new Date).getTime(),a=window.setInterval(function(){var r=(new Date).getTime()-s;return r>i?(n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(a)):void(n.slidesContainer[0].style.left=(e-t)*(Math.floor(r/i*100)/100)+t+"px")},4)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,n=e.relatedTarget;(!n||n!==i&&!t.contains(i,n))&&this.onmouseup(e)}},ontouchstart:function(t){var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){var e,i,n=(t.originalEvent||t).touches[0],s=(t.originalEvent||t).scale,a=this.index;if(!(n.length>1||s&&1!==s))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(a,this.touchDelta.y+this.positions[a],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(a+1),a,this.circle(a-1)]:(this.touchDelta.x=e/=!a&&e>0||a===this.num-1&&0>e?Math.abs(e)/this.slideWidth+1:1,i=[a],a&&i.push(a-1),a<this.num-1&&i.unshift(a+1));i.length;)a=i.pop(),this.translateX(a,e+this.positions[a],0)},ontouchend:function(){var t,e,i,n,s,a=this.index,r=this.options.transitionSpeed,o=this.slideWidth,l=Number(Date.now()-this.touchStart.time)<250,h=l&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>o/2,d=!a&&this.touchDelta.x>0||a===this.num-1&&this.touchDelta.x<0,c=!h&&this.options.closeOnSwipeUpOrDown&&(l&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(d=!1),t=this.touchDelta.x<0?-1:1,this.isScrolling?c?this.close():this.translateY(a,0,r):h&&!d?(e=a+t,i=a-t,n=o*t,s=-o*t,this.options.continuous?(this.move(this.circle(e),n,0),this.move(this.circle(a-2*t),s,0)):e>=0&&e<this.num&&this.move(e,n,0),this.move(a,this.positions[a]+n,r),this.move(this.circle(i),this.positions[this.circle(i)]+n,r),a=this.circle(i),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-o,r),this.move(a,0,r),this.move(this.circle(a+1),o,r)):(a&&this.move(a-1,-o,r),this.move(a,0,r),a<this.num-1&&this.move(a+1,o,r))},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,n=e.target||e.srcElement,s=n&&n.parentNode;n&&s&&(i=this.getNodeIndex(s),t(s).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(s).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===s&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,s]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){var i=this.options,n=e.target||e.srcElement,s=n.parentNode,a=function(e){return t(n).hasClass(e)||t(s).hasClass(e)};s===this.slidesContainer[0]?(this.preventDefault(e),i.closeOnSlideClick?this.close():this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]?(this.preventDefault(e),this.toggleControls()):a(i.toggleClass)?(this.preventDefault(e),this.toggleControls()):a(i.prevClass)?(this.preventDefault(e),this.prev()):a(i.nextClass)?(this.preventDefault(e),this.next()):a(i.closeClass)?(this.preventDefault(e),this.close()):a(i.playPauseClass)&&(this.preventDefault(e),this.toggleSlideshow())},onclick:function(t){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(t)},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var n=this;return t&&window.setTimeout(function(){t.apply(n,e||[])},i||0)},imageFactory:function(e,i){var n,s,a,r=this,o=this.imagePrototype.cloneNode(!1),l=e,h=this.options.stretchImages,d=function(e){if(!n){if(e={type:e.type,target:s},!s.parentNode)return r.setTimeout(d,[e]);n=!0,t(o).off("load error",d),h&&"load"===e.type&&(s.style.background='url("'+l+'") center no-repeat',s.style.backgroundSize=h),i(e)}};return"string"!=typeof l&&(l=this.getItemProperty(e,this.options.urlProperty),a=this.getItemProperty(e,this.options.titleProperty)),h===!0&&(h="contain"),h=this.support.backgroundSize&&this.support.backgroundSize[h]&&h,h?s=this.elementPrototype.cloneNode(!1):(s=o,o.draggable=!1),a&&(s.title=a),t(o).on("load error",d),o.src=l,s},createElement:function(e,i){var n=e&&this.getItemProperty(e,this.options.typeProperty),s=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,a=e&&s.call(this,e,i);return a||(a=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:a}])),t(a).addClass(this.options.slideContentClass),a},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),n=t;for(e=0;i>e;e+=1)n+=e*(e%2===0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(t){var e,i,n;for(e in this.elements)this.elements.hasOwnProperty(e)&&(n=Math.abs(t-e),n>this.options.preloadRange&&n+this.options.preloadRange<this.num&&(i=this.slides[e],i.removeChild(i.firstChild),delete this.elements[e]))},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transition&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,n;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transition||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,n,s,a){var r=a||i||n||s&&parseInt(s,10);e&&t&&(t=t[r])}),t},getDataProperty:function(e,i){if(e.getAttribute){var n=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof n){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(n))try{return t.parseJSON(n)}catch(s){}return n}}},getItemProperty:function(t,e){var i=t[e];return void 0===i&&(i=this.getDataProperty(t,e),void 0===i&&(i=this.getNestedProperty(t,e))),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){var e=this,i=this.slidesContainer,n=function(t){var i=e.support.transition&&e.support.transition.end===t.type?"transitionend":t.type;e["on"+i](t)};t(window).on("resize",n),t(document.body).on("keydown",n),this.container.on("click",n),this.support.touch?i.on("touchstart touchmove touchend",n):this.options.emulateTouchEvents&&this.support.transition&&i.on("mousedown mousemove mouseup mouseout",n),this.support.transition&&i.on(this.support.transition.end,n),this.proxyListener=n},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this,i=function(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleOpen())};return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,i):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):!1):!1},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||e.carousel!==!1))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),/*
 * blueimp Gallery Indicator JS 1.1.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=e.prototype.initSlides,n=e.prototype.addSlide,s=e.prototype.resetSlides,a=e.prototype.handleClick,r=e.prototype.handleSlide,o=e.prototype.handleClose;return t.extend(e.prototype,{createIndicator:function(e){var i,n,s=this.indicatorPrototype.cloneNode(!1),a=this.getItemProperty(e,this.options.titleProperty),r=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(n=e.getElementsByTagName&&t(e).find("img")[0],n?i=n.src:r&&(i=this.getItemProperty(e,r)),i&&(s.style.backgroundImage='url("'+i+'")')),a&&(s.title=a),s},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){n.call(this,t),this.addIndicator(t)},resetSlides:function(){s.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return a.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t){r.call(this,t),this.setActiveIndicator(t)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),o.call(this)}}),e}),/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(t,e,i,n){var s=t(e);t.fn.lazyload=function(a){function r(){var e=0;l.each(function(){var i=t(this);if(!h.skip_invisible||i.is(":visible"))if(t.abovethetop(this,h)||t.leftofbegin(this,h));else if(t.belowthefold(this,h)||t.rightoffold(this,h)){if(++e>h.failure_limit)return!1}else i.trigger("appear"),e=0})}var o,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return a&&(n!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),n!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),t.extend(h,a)),o=h.container===n||h.container===e?s:t(h.container),0===h.event.indexOf("scroll")&&o.bind(h.event,function(){return r()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var n=l.length;h.appear.call(e,n,h)}t("<img />").bind("load",function(){var n=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[h.effect](h.effect_speed),e.loaded=!0;var s=t.grep(l,function(t){return!t.loaded});if(l=t(s),h.load){var a=l.length;h.load.call(e,a,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){e.loaded||i.trigger("appear")})}),s.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&s.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){r()}),this},t.belowthefold=function(i,a){var r;return r=a.container===n||a.container===e?(e.innerHeight?e.innerHeight:s.height())+s.scrollTop():t(a.container).offset().top+t(a.container).height(),r<=t(i).offset().top-a.threshold},t.rightoffold=function(i,a){var r;return r=a.container===n||a.container===e?s.width()+s.scrollLeft():t(a.container).offset().left+t(a.container).width(),r<=t(i).offset().left-a.threshold},t.abovethetop=function(i,a){var r;return r=a.container===n||a.container===e?s.scrollTop():t(a.container).offset().top,r>=t(i).offset().top+a.threshold+t(i).height()},t.leftofbegin=function(i,a){var r;return r=a.container===n||a.container===e?s.scrollLeft():t(a.container).offset().left,r>=t(i).offset().left+a.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function s(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function a(t){return function(){return this[t].apply(this,arguments)}}function r(e,i){function n(t,e){return e.toLowerCase()}var s,a=t(e).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in a)i.test(l)&&(s=l.replace(o,n),r[s]=a[l]);return r}function o(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var n=g[e];return t.each(f,function(t,e){e in n&&(i[e]=n[e])}),i}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(s){this._o=t.extend({},this._o,s);var a=this.o=t.extend({},this._o),r=a.language;switch(g[r]||(r=r.split("-")[0],g[r]||(r=p.language)),a.language=r,a.startView){case 2:case"decade":a.startView=2;break;case 1:case"year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case"months":a.minViewMode=1;break;case 2:case"years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode),a.multidate!==!0&&(a.multidate=Number(a.multidate)||!1,a.multidate!==!1&&(a.multidate=Math.max(0,a.multidate))),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var o=m.parseFormat(a.format);if(a.startDate!==-(1/0)&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=m.parseDate(a.startDate,o,a.language):a.startDate=-(1/0)),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=m.parseDate(a.endDate,o,a.language):a.endDate=1/0),a.daysOfWeekDisabled=a.daysOfWeekDisabled||[],t.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)),a.daysOfWeekDisabled=t.map(a.daysOfWeekDisabled,function(t){return parseInt(t,10)}),a.datesDisabled=a.datesDisabled||[],!t.isArray(a.datesDisabled)){var l=[];l.push(m.parseDate(a.datesDisabled,o,a.language)),a.datesDisabled=l}a.datesDisabled=t.map(a.datesDisabled,function(t){return m.parseDate(t,o,a.language)});var h=String(a.orientation).toLowerCase().split(/\s+/g),d=a.orientation.toLowerCase();if(h=t.grep(h,function(t){return/^auto|left|right|top|bottom$/.test(t)}),a.orientation={x:"auto",y:"auto"},d&&"auto"!==d)if(1===h.length)switch(h[0]){case"top":case"bottom":a.orientation.y=h[0];break;case"left":case"right":a.orientation.x=h[0]}else d=t.grep(h,function(t){return/^left|right$/.test(t)}),a.orientation.x=d[0]||"auto",d=t.grep(h,function(t){return/^top|bottom$/.test(t)}),a.orientation.y=d[0]||"auto";else;if(a.defaultViewDate){var c=a.defaultViewDate.year||(new Date).getFullYear(),u=a.defaultViewDate.month||0,f=a.defaultViewDate.day||1;a.defaultViewDate=i(c,u,f)}else a.defaultViewDate=n();a.showOnFocus=a.showOnFocus!==e?a.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,s,a=0;a<t.length;a++)i=t[a][0],2===t[a].length?(n=e,s=t[a][1]):3===t[a].length&&(n=t[a][1],s=t[a][2]),i.on(s,n)},_unapplyEvents:function(t){for(var i,n,s,a=0;a<t.length;a++)i=t[a][0],2===t[a].length?(s=e,n=t[a][1]):3===t[a].length&&(s=t[a][1],n=t[a][2]),i.off(n,s)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),s=this._utc_to_local(n);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:a("setDates"),setUTCDate:a("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,s=t(this.o.container).width(),a=t(this.o.container).height(),r=t(this.o.container).scrollTop(),o=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var h=Math.max.apply(Math,l)+10,d=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left-o.left,f=d.top-o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-u)):d.left<0?(this.picker.addClass("datepicker-orient-left"),p-=d.left-n):p+e>s?(this.picker.addClass("datepicker-orient-right"),p=d.left+u-e):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-r+f-i,m=r+a-(f+c+i),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=c:f-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=s-(p+u);this.picker.css({top:f,right:y,zIndex:h})}else this.picker.css({top:f,left:p,zIndex:h});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var i='<th class="cw">&#160;</th>';e+=i}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<a?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>a)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return s(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,s=new Date(this.viewDate),a=s.getUTCFullYear(),r=s.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=g[this.o.language].today||g.en.today||"",u=g[this.o.language].clear||g.en.clear||"";if(!isNaN(a)&&!isNaN(r)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[r]+" "+a),this.picker.find("tfoot .today").text(c).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(u).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=i(a,r-1,28),f=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,w=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),C=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),D=new Date(Number(D=i(C.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864e5),x=(C-D)/864e5/7+1;w.push('<td class="cw">'+x+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==t.noop){var k=this.o.beforeShowDay(this._utc_to_local(p));k===e?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(n=k.tooltip)}y=t.unique(y),w.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+p.getUTCDate()+"</td>"),n=null,p.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&S.eq(e.getUTCMonth()).addClass("active")}),(o>a||a>h)&&S.addClass("disabled"),a===o&&S.slice(0,l).addClass("disabled"),a===h&&S.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var T=this;t.each(S,function(e,i){if(!t(i).hasClass("disabled")){var n=new Date(a,e,1),s=T.o.beforeShowMonth(n);s===!1&&t(i).addClass("disabled")}})}w="",a=10*parseInt(a/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var A,E=t.map(this.dates,function(t){return t.getUTCFullYear()}),M=-1;11>M;M++)A=["year"],-1===M?A.push("old"):10===M&&A.push("new"),-1!==t.inArray(a,E)&&A.push("active"),(o>a||a>h)&&A.push("disabled"),w+='<span class="'+A.join(" ")+'">'+a+"</span>",a+=1;_.html(w)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var n,s,a,r=t(e.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":this.clearDates()}break;case"span":r.hasClass("disabled")||(this.viewDate.setUTCDate(1),r.hasClass("month")?(a=1,s=r.parent().find("span").index(r),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,s,a))):(a=1,s=0,n=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,s,a))),this.showMode(-1),this.fill());break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(a=parseInt(r.text(),10)||1,n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r.hasClass("old")?0===s?(s=11,n-=1):s-=1:r.hasClass("new")&&(11===s?(s=0,n+=1):s+=1),this._setDate(i(n,s,a)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var n,s,a=new Date(t.valueOf()),r=a.getUTCDate(),o=a.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)s=-1===i?function(){return a.getUTCMonth()===o}:function(){return a.getUTCMonth()!==n},n=o+i,a.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var h=0;l>h;h++)a=this.moveMonth(a,i);n=a.getUTCMonth(),a.setUTCDate(r),s=function(){return n!==a.getUTCMonth()}}for(;s();)a.setUTCDate(--r),a.setUTCMonth(n);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(27===t.keyCode&&this.show());var e,i,s,a=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+e),s=new Date(r),s.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*e),s=new Date(r),s.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),a=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,u.call(t(this.inputs),i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),n=i.getUTCDate(),s=t.inArray(e.target,this.inputs),a=s-1,r=s+1,o=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[a])for(;a>=0&&n<this.dates[a];)this.pickers[a--].setUTCDate(n);else if(n>this.dates[r])for(;o>r&&n>this.dates[r];)this.pickers[r++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var c=t.fn.datepicker,u=function(i){var n=Array.apply(null,arguments);n.shift();var s;return this.each(function(){var a=t(this),l=a.data("datepicker"),c="object"==typeof i&&i;if(!l){var u=r(this,"date"),f=t.extend({},p,u,c),g=o(f.language),m=t.extend({},p,g,u,c);if(a.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||a.find("input").toArray()};a.data("datepicker",l=new d(this,t.extend(m,v)))}else a.data("datepicker",l=new h(this,m))}return"string"==typeof i&&"function"==typeof l[i]&&(s=l[i].apply(l,n),s!==e)?!1:void 0}),s!==e?s:this};t.fn.datepicker=u;var p=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(n,s,a){function r(){var t=this.slice(0,u[d].length),e=u[d].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;"string"==typeof s&&(s=m.parseFormat(s));var o,l,d,c=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,d=0;d<u.length;d++)switch(o=c.exec(u[d]),l=parseInt(o[1]),o[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=h.prototype.moveMonth.call(h.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=h.prototype.moveYear.call(h.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}u=n&&n.match(this.nonpunctuation)||[],n=new Date;var p,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var b=s.parts.slice();if(u.length!==b.length&&(b=t(b).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),u.length===b.length){var C;for(d=0,C=b.length;C>d;d++){if(p=parseInt(u[d],10),o=b[d],isNaN(p))switch(o){case"MM":f=t(g[a].months).filter(r),p=t.inArray(f[0],g[a].months)+1;break;case"M":f=t(g[a].monthsShort).filter(r),p=t.inArray(f[0],g[a].monthsShort)+1}v[o]=p}var D,x;for(d=0;d<y.length;d++)x=y[d],x in v&&!isNaN(v[x])&&(D=new Date(n),w[x](D,v[x]),isNaN(D)||(n=D))}return n},formatDate:function(e,i,n){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var s={d:e.getUTCDate(),D:g[n].daysShort[e.getUTCDay()],DD:g[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[n].monthsShort[e.getUTCMonth()],MM:g[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var a=t.extend([],i.separators),r=0,o=i.parts.length;o>=r;r++)a.length&&e.push(a.shift()),e.push(s[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t.fn.datepicker.version="1.4.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),u.call(i,"show"))}),t(function(){u.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,s=e.createElement("style"),a=[];for(e.documentElement.firstChild.appendChild(s),e._qsa=[],s.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),s.parentNode.removeChild(s);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),a.push(n);return e._qsa=null,a}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,s=[],a=0,r=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),a=a<<6|i,r+=6,24===r&&(s.push(String.fromCharCode(a>>16&255)),s.push(String.fromCharCode(a>>8&255)),s.push(String.fromCharCode(255&a)),r=0,a=0),n+=1;return 12===r?(a>>=4,s.push(String.fromCharCode(255&a))):18===r&&(a>>=2,s.push(String.fromCharCode(a>>8&255)),s.push(String.fromCharCode(255&a))),s.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,s,a,r,o,l,h=0,d=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),s=t.charCodeAt(h++),a=i>>2,r=(3&i)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,h===t.length+2?(o=64,l=64):h===t.length+1&&(l=64),d.push(e.charAt(a),e.charAt(r),e.charAt(o),e.charAt(l));return d.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var a=s(i.substr(i.lastIndexOf(t.domain)),t);a&&r({mode:null,el:n,flags:a,engineSettings:e})}function s(t,e){var i={theme:k(M.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return a(t,i)}function a(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var s=n[1],a=s.match(/([\d]+p?)x([\d]+p?)/);if(!a)return!1;if(e.fluid=-1!==s.indexOf("p"),e.dimensions={width:a[1].replace("p","%"),height:a[2].replace("p","%")},2===i.length){var r=y.parse(i[1]);if(r.bg&&(e.theme.background=(-1===r.bg.indexOf("#")?"#":"")+r.bg),r.fg&&(e.theme.foreground=(-1===r.fg.indexOf("#")?"#":"")+r.fg),r.bg&&!r.fg&&(e.autoFg=!0),r.theme&&e.instanceOptions.themes.hasOwnProperty(r.theme)&&(e.theme=k(e.instanceOptions.themes[r.theme],null)),r.text&&(e.text=r.text),r.textmode&&(e.textmode=r.textmode),r.size&&(e.size=r.size),r.font&&(e.font=r.font),r.align&&(e.align=r.align),e.nowrap=b.truthy(r.nowrap),e.auto=b.truthy(r.auto),e.outline=b.truthy(r.outline),b.truthy(r.random)){M.vars.cache.themeKeys=M.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var o=M.vars.cache.themeKeys[0|Math.random()*M.vars.cache.themeKeys.length];e.theme=k(e.instanceOptions.themes[o],null)}}return e}function r(t){var e=t.mode,i=t.el,n=t.flags,s=t.engineSettings,a=n.dimensions,r=n.theme,l=a.width+"x"+a.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(r.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=r.text.split("\\n"),u=0;u<h.length;u++)h[u]=b.encodeHtmlEntity(h[u]);r.text=h.join("\\n")}var p=n.holderURL,f=k(s,null);if(n.font&&(r.font=n.font,!f.noFontFallback&&"img"===i.nodeName.toLowerCase()&&M.setup.supportsCanvas&&"svg"===f.renderer&&(f=k(f,{renderer:"canvas"}))),n.font&&"canvas"==f.renderer&&(f.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&D.setAttr(i,{"data-background-src":p});else{var g={};g[M.vars.dataAttr]=p,D.setAttr(i,g)}n.theme=r,i.holderData={flags:n,engineSettings:f},("image"==e||"fluid"==e)&&D.setAttr(i,{alt:r.text?r.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:a,theme:r,flags:n},engineSettings:f};"image"==e?("html"!=f.renderer&&n.auto||(i.style.width=a.width+"px",i.style.height=a.height+"px"),"html"==f.renderer?i.style.backgroundColor=r.background:(o(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,M.vars.resizableImages.push(i),d(i)))):"background"==e&&"html"!=f.renderer?o(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==a.height.slice(-1)?i.style.height=a.height:null!=n.auto&&n.auto||(i.style.height=a.height+"px"),"%"==a.width.slice(-1)?i.style.width=a.width:null!=n.auto&&n.auto||(i.style.width=a.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),c(i),"html"==f.renderer?i.style.backgroundColor=r.background:(M.vars.resizableImages.push(i),d(i)))}function o(t){function i(){var e=null;switch(o.renderer){case"canvas":e=U(d,t);break;case"svg":e=I(d,t);break;default:throw"Holder: invalid renderer: "+o.renderer}return e}var n=null,s=t.mode,a=t.el,r=t.holderSettings,o=t.engineSettings;switch(o.renderer){case"svg":if(!M.setup.supportsSVG)return;break;case"canvas":if(!M.setup.supportsCanvas)return;break;default:return}var h={width:r.dimensions.width,height:r.dimensions.height,theme:r.theme,flags:r.flags},d=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==s?(a.style.backgroundImage="url("+n+")",a.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===a.nodeName.toLowerCase()?D.setAttr(a,{src:n}):"object"===a.nodeName.toLowerCase()&&(D.setAttr(a,{data:n}),D.setAttr(a,{type:"image/svg+xml"})),o.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===a.nodeName.toLowerCase()?D.setAttr(a,{src:t}):"object"===a.nodeName.toLowerCase()&&(D.setAttr(a,{data:t}),D.setAttr(a,{type:"image/svg+xml"}))},150)),D.setAttr(a,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=M.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:M.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new w({width:t.width,height:t.height}),s=n.Shape,a=new s.Rect("holderBg",{fill:t.theme.background});if(a.resize(t.width,t.height),n.root.add(a),t.flags.outline){var r=new x(a.properties.fill);r=r.lighten(r.lighterThan("7f7f7f")?-.1:.1),a.properties.outline={fill:r.toHex(!0),width:2}}var o=t.theme.foreground;if(t.flags.autoFg){var l=new x(a.properties.fill),d=new x("fff"),c=new x("000",{alpha:.285714});o=l.blendAlpha(l.lighterThan("7f7f7f")?c:d).toHex(!0)}var u=new s.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:o});u.moveTo(null,null,1),n.root.add(u);var p=u.textPositionData=F(n);if(!p)throw"Holder: staging fallback not supported yet.";u.properties.leading=p.boundingBox.height;var f=null,g=null,m=t.width*M.vars.lineWrapRatio,v=m;if(p.lineCount>1){var y,b=0,C=0,D=0;g=new s.Group("line"+D),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-M.vars.lineWrapRatio)));for(var k=0;k<p.words.length;k++){var S=p.words[k];f=new s.Text(S.text);var T="\\n"==S.text;!t.noWrap&&(b+S.width>=v||T===!0)&&(e(u,g,b,u.properties.leading),u.add(g),b=0,C+=u.properties.leading,D+=1,g=new s.Group("line"+D),g.y=C),T!==!0&&(f.moveTo(b,0),b+=p.spaceWidth+S.width,g.add(f))}if(e(u,g,b,u.properties.leading),u.add(g),"left"===t.align)u.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in u.children)g=u.children[y],g.moveTo(t.width-g.width,null,null);u.moveTo(0-(t.width-m),null,null)}else{for(y in u.children)g=u.children[y],g.moveTo((u.width-g.width)/2,null,null);u.moveTo((t.width-u.width)/2,null,null)}u.moveTo(null,(t.height-u.height)/2,null),(t.height-u.height)/2<0&&u.moveTo(null,0,null)}else f=new s.Text(t.text),g=new s.Group("line0"),g.add(f),u.add(g),"left"===t.align?u.moveTo(t.width-m,null,null):"right"===t.align?u.moveTo(0-(t.width-m),null,null):u.moveTo((t.width-p.boundingBox.width)/2,null,null),u.moveTo(null,(t.height-p.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),s=parseInt(e,10),a=Math.max(n,s),r=Math.min(n,s),o=.8*Math.min(r,a*M.defaults.scale);return Math.round(Math.max(i,o))}function d(t){var e;e=null==t||null==t.nodeType?M.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var s=e[i];if(s.holderData){var a=s.holderData.flags,r=S(s);if(r){if(!s.holderData.resizeUpdate)continue;if(a.fluid&&a.auto){var l=s.holderData.fluidConfig;switch(l.mode){case"width":r.height=r.width/l.ratio;break;case"height":r.width=r.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:r,theme:a.theme,flags:a},el:s,engineSettings:s.holderData.engineSettings};"exact"==a.textmode&&(a.exactDimensions=r,h.holderSettings.dimensions=a.dimensions),o(h)}else f(s)}}}function c(t){if(t.holderData){var e=S(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else f(t)}}function u(){for(var t,i=[],n=Object.keys(M.vars.invisibleImages),s=0,a=n.length;a>s;s++)t=M.vars.invisibleImages[n[s]],S(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete M.vars.invisibleImages[n[s]]);i.length&&E.run({images:i}),e.requestAnimationFrame(u)}function p(){M.vars.visibilityCheckStarted||(e.requestAnimationFrame(u),M.vars.visibilityCheckStarted=!0)}function f(t){t.holderData.invisibleId||(M.vars.invisibleId+=1,M.vars.invisibleImages["i"+M.vars.invisibleId]=t,t.holderData.invisibleId=M.vars.invisibleId)}function g(t){M.vars.debounceTimer||t.call(this),M.vars.debounceTimer&&e.clearTimeout(M.vars.debounceTimer),M.vars.debounceTimer=e.setTimeout(function(){M.vars.debounceTimer=null,t.call(this)},M.setup.debounce)}function m(){g(function(){d(null)})}var v=i(3),y=i(2),w=i(4),b=i(5),C=i(6),D=i(7),x=i(8),k=b.extend,S=b.dimensionCheck,T="http://www.w3.org/2000/svg",_="2.8.0",A="\nCreated with Holder.js "+_+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",E={version:_,addTheme:function(t,e){return null!=t&&null!=e&&(M.settings.themes[t]=e),delete M.vars.cache.themeKeys,this},addImage:function(t,e){var i=D.getNodeArray(e);if(i.length)for(var n=0,s=i.length;s>n;n++){var a=D.newEl("img"),r={};r[M.setup.dataAttr]=t,D.setAttr(a,r),i[n].appendChild(a)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&d(t))},run:function(t){t=t||{};var i={},a=k(M.settings,t);M.vars.preempted=!0,M.vars.dataAttr=a.dataAttr||M.setup.dataAttr,M.vars.lineWrapRatio=a.lineWrapRatio||M.setup.lineWrapRatio,i.renderer=a.renderer?a.renderer:M.setup.renderer,-1===M.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=M.setup.supportsSVG?"svg":M.setup.supportsCanvas?"canvas":"html");var o=D.getNodeArray(a.images),l=D.getNodeArray(a.bgnodes),h=D.getNodeArray(a.stylenodes),d=D.getNodeArray(a.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=a.noFontFallback?a.noFontFallback:!1;for(var c=0;c<h.length;c++){var u=h[c];if(u.attributes.rel&&u.attributes.href&&"stylesheet"==u.attributes.rel.value){var p=u.attributes.href.value,f=D.newEl("a");f.href=p;var g=f.protocol+"//"+f.host+f.pathname+f.search;i.stylesheets.push(g)}}for(c=0;c<l.length;c++)if(e.getComputedStyle){var m=e.getComputedStyle(l[c],null).getPropertyValue("background-image"),v=l[c].getAttribute("data-background-src"),y=v||m,w=null,C="?"+a.domain+"/";if(0===y.indexOf(C))w=y.slice(1);else if(-1!=y.indexOf(C)){var x=y.substr(y.indexOf(C)).slice(1),S=x.match(/([^\"]*)"?\)/);null!=S&&(w=S[1])}if(null!=w){var T=s(w,a);T&&r({mode:"background",el:l[c],flags:T,engineSettings:i})}}for(c=0;c<d.length;c++){var _=d[c],A={};try{A.data=_.getAttribute("data"),A.dataSrc=_.getAttribute(M.vars.dataAttr)}catch(E){}var F=null!=A.data&&0===A.data.indexOf(a.domain),U=null!=A.dataSrc&&0===A.dataSrc.indexOf(a.domain);F?n(a,i,A.data,_):U&&n(a,i,A.dataSrc,_)}for(c=0;c<o.length;c++){var I=o[c],N={};try{N.src=I.getAttribute("src"),N.dataSrc=I.getAttribute(M.vars.dataAttr),N.rendered=I.getAttribute("data-holder-rendered")}catch(E){}var L=null!=N.src,R=null!=N.dataSrc&&0===N.dataSrc.indexOf(a.domain),O=null!=N.rendered&&"true"==N.rendered;L?0===N.src.indexOf(a.domain)?n(a,i,N.src,I):R&&(O?n(a,i,N.dataSrc,I):!function(t,e,i,s,a){b.imageExists(t,function(t){t||n(e,i,s,a)})}(N.src,a,i,N.dataSrc,I)):R&&n(a,i,N.dataSrc,I)}return this}},M={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},F=function(){var t=null,e=null,i=null;return function(n){var s=n.root;if(M.setup.supportsSVG){var a=!1,r=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(a=!0),t=C.initSVG(t,s.properties.width,s.properties.height),t.style.display="block",a&&(e=D.newEl("text",T),i=r(null),D.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var o=s.children.holderTextGroup,l=o.properties;D.setAttr(e,{y:l.font.size,style:b.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),d=Math.ceil(h.width/(s.properties.width*M.vars.lineWrapRatio)),c=l.text.split(" "),u=l.text.match(/\\n/g);d+=null==u?0:u.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var p=e.getComputedTextLength(),f=h.width-p,g=Math.round(f/Math.max(1,c.length-1)),m=[];if(d>1){i.nodeValue="";for(var v=0;v<c.length;v++)if(0!==c[v].length){i.nodeValue=b.decodeHtmlEntity(c[v]);var y=e.getBBox();m.push({text:c[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:d,boundingBox:h,words:m}}return!1}}(),U=function(){var t=D.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=M.dpr(n.properties.width),t.height=M.dpr(n.properties.height),e.textBaseline="middle";var s=n.children.holderBg,a=M.dpr(s.width),r=M.dpr(s.height),o=2,l=o/2;e.fillStyle=s.properties.fill,e.fillRect(0,0,a,r),s.properties.outline&&(e.strokeStyle=s.properties.outline.fill,e.lineWidth=s.properties.outline.width,e.moveTo(l,l),e.lineTo(a-l,l),e.lineTo(a-l,r-l),e.lineTo(l,r-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(a,r-l),e.moveTo(0,r-l),e.lineTo(a,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+M.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var d in h.children){var c=h.children[d];for(var u in c.children){var p=c.children[u],f=M.dpr(h.x+c.x+p.x),g=M.dpr(h.y+c.y+p.y+h.properties.leading/2);e.fillText(p.properties.text,f,g)}}return t.toDataURL("image/png")}}(),I=function(){if(e.XMLSerializer){var t=D.createXML(),i=C.initSVG(null,0,0),n=D.newEl("rect",T);return i.appendChild(n),function(e,s){var a=e.root;C.initSVG(i,a.properties.width,a.properties.height);for(var r=i.querySelectorAll("g"),o=0;o<r.length;o++)r[o].parentNode.removeChild(r[o]);var l=s.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),d=D.newEl("g",T),c=a.children.holderTextGroup,u=c.properties,p=D.newEl("g",T),f=c.textPositionData,g="#"+h+" text { "+b.cssProps({fill:u.fill,"font-weight":u.font.weight,"font-family":u.font.family+", monospace","font-size":u.font.size+u.font.units})+" } ",m=t.createComment("\nSource URL: "+l+A),v=t.createCDATASection(g),y=i.querySelector("style"),w=a.children.holderBg;if(D.setAttr(d,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),d.appendChild(n),w.properties.outline){var x=D.newEl("path",T),k=w.properties.outline.width,S=k/2;D.setAttr(x,{d:["M",S,S,"H",w.width-S,"V",w.height-S,"H",S,"V",0,"M",0,S,"L",w.width,w.height-S,"M",0,w.height-S,"L",w.width,S].join(" "),"stroke-width":w.properties.outline.width,stroke:w.properties.outline.fill,fill:"none"}),d.appendChild(x)}d.appendChild(p),i.appendChild(d),D.setAttr(n,{width:w.width,height:w.height,fill:w.properties.fill}),c.y+=.8*f.boundingBox.height;for(var _ in c.children){var E=c.children[_];for(var M in E.children){var F=E.children[M],U=c.x+E.x+F.x,I=c.y+E.y+F.y,N=D.newEl("text",T),L=document.createTextNode(null);D.setAttr(N,{x:U,y:I}),L.nodeValue=F.properties.text,N.appendChild(L),p.appendChild(N)}}var R=C.svgStringToDataURI(C.serializeSVG(i,s.engineSettings),"background"===s.mode);return R}}}();for(var N in M.flags)M.flags.hasOwnProperty(N)&&(M.flags[N].match=function(t){return t.match(this.regex)});M.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},M.dpr=function(t){return t*M.setup.ratio},M.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=D.newEl("canvas"),s=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(M.setup.renderer="canvas",s=n.getContext("2d"),M.setup.supportsCanvas=!0),M.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),M.setup.ratio=t/i,document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(M.setup.renderer="svg",M.setup.supportsSVG=!0)}(),p(),v&&v(function(){M.vars.preempted||E.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){E.run()})}),t.exports=E}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,s=decodeURIComponent,a=i(10),r=i(9),o=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=a(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var r,h,d,c=i[n].split("="),u=s(c[0]);if(r=o.exec(u))e[r[1]]=e[r[1]]||[],e[r[1]][r[2]]=s(c[1]);else if(r=l.test(u)){for(r=u.split("."),h=e;r.length;)if(d=r.shift(),d.length){if(h[d]){if(h[d]&&"object"!=typeof h[d])break}else h[d]={};r.length||(h[d]=s(c[1])),h=h[d]}}else e[c[0]]=null==c[1]?"":s(c[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var s=t[i];if("array"!=r(s))e.push(n(i)+"="+n(t[i]));else for(var a=0;a<s.length;++a)e.push(n(i+"["+a+"]")+"="+n(s[a]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!C){if(!r.body)return s(e);for(C=!0;t=D.shift();)s(t)}}function i(t){(w||t.type===l||r[u]===c)&&(n(),e())}function n(){w?(r[y](m,i,h),t[y](l,i,h)):(r[f](v,i),t[f](d,i))}function s(t,e){setTimeout(t,+e>=0?e:1)}function a(t){C?s(t):D.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function k(){document.removeEventListener("DOMContentLoaded",k,!1),document.readyState="complete"},!1),document.readyState="loading");var r=t.document,o=r.documentElement,l="load",h=!1,d="on"+l,c="complete",u="readyState",p="attachEvent",f="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",w=g in r,b=h,C=h,D=[];if(r[u]===c)s(e);else if(w)r[g](m,i,h),t[g](l,i,h);else{r[p](v,i),t[p](d,i);try{b=null==t.frameElement&&o}catch(x){}b&&b.doScroll&&!function S(){if(!C){try{b.doScroll("left")}catch(t){return s(S,50)}n(),e()}}()}return a.version="1.4.0",a.isReady=function(){return C},a}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var s=function(){n.call(this,"root"),this.properties=t};s.prototype=new n;var a=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};a.prototype=new n;var r=function(){a.apply(this,arguments),this.type="group"};r.prototype=new a;var o=function(){a.apply(this,arguments),this.type="rect"};o.prototype=new a;var l=function(t){a.call(this),this.type="text",this.properties.text=t};l.prototype=new a;var h=new s;return this.Shape={Rect:o,Text:l,Group:r},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var s in e)e.hasOwnProperty(s)&&(i[s]=e[s]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),s="http://www.w3.org/2000/svg",a=8;e.initSVG=function(t,e,i){var r,o,l=!1;t&&t.querySelector?(o=t.querySelector("style"),null===o&&(l=!0)):(t=n.newEl("svg",s),l=!0),l&&(r=n.newEl("defs",s),o=n.newEl("style",s),n.setAttr(o,{type:"text/css"}),r.appendChild(o),t.appendChild(r)),t.webkitMatchesSelector&&t.setAttribute("xmlns",s);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===a&&t.removeChild(t.childNodes[h]);for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var s=new XMLSerializer,a="",r=i.stylesheets;if(i.svgXMLStylesheet){for(var o=n.createXML(),l=r.length-1;l>=0;l--){var h=o.createProcessingInstruction("xml-stylesheet",'href="'+r[l]+'" rel="stylesheet"');o.insertBefore(h,o.firstChild)}o.removeChild(o.documentElement),a=s.serializeToString(o)}var d=s.serializeToString(e);return d=d.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),a+d}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var s=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};s.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},s.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,a=255*t|0;return new s(s.rgbToHex(e+a,i+a,n+a))},s.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},s.prototype.lighterThan=function(t){return t instanceof s||(t=new s(t)),this.yuv.y>t.yuv.y},s.prototype.blendAlpha=function(t){t instanceof s||(t=new s(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,a=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,r=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new s(s.rgbToHex(n,a,r))},t.exports=s},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),function(){var t,e,i,n,s,a,r;r=void 0,t=void 0,e={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},s=function(){t=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),t.addListener("place_changed",i)},i=function(){var i,n,s,a,r;a=t.getPlace(),$("#lat").length>0&&$("#lng").length>0&&($("#lat").val(a.geometry.location.lat()),$("#lng").val(a.geometry.location.lng()));for(n in e)document.getElementById(n).value="",document.getElementById(n).disabled=!1;for(s=0;s<a.address_components.length;)i=a.address_components[s].types[0],e[i]&&(r=a.address_components[s][e[i]],document.getElementById(i).value=r),s++},n=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var i,n;n={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:n,radius:e.coords.accuracy}),t.setBounds(i.getBounds())})},a=function(){var t,e,i;i={lat:parseFloat($("#lat").val()),lng:parseFloat($("#long").val())},t=new google.maps.Map(document.getElementById("map"),{center:i,zoom:15,scrollwheel:!1}),e=new google.maps.Marker({map:t,position:i})},$(document).ready(function(){return $("#autocomplete").length>0&&s(),$("#map").length>0?a():void 0})}.call(this),/*!
 * jQuery Validation Plugin v1.14.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2015 Jörn Zaefferer
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,s;return i.settings.submitHandler?(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),s=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==s?s:!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e,n=n.concat(i.errorList)}),i.errorList=n),e},rules:function(e,i){var n,s,a,r,o,l,h=this[0];if(e)switch(n=t.data(h.form,"validator").settings,s=n.rules,a=t.validator.staticRules(h),e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,s[h.name]=a,i.messages&&(n.messages[h.name]=t.extend(n.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=a[i],delete a[i],"required"===i&&t(h).removeAttr("aria-required")}),l):(delete s[h.name],a)}return r=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h),r.required&&(o=r.required,delete r.required,r=t.extend({required:o},r),t(h).attr("aria-required","true")),r.remote&&(o=r.remote,delete r.remote,r=t.extend(r,{remote:o})),r}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!t(this).is(s.ignore)&&s[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),s=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),s=this.check(n)!==!1,s?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!s),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),s},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;i[e];e++)this.settings.unhighlight.call(this,i[e],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),s=e.type;return"radio"===s||"checkbox"===s?this.findByName(e.name).filter(":checked").val():"number"===s&&"undefined"!=typeof e.validity?e.validity.badInput?!1:n.val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,a=t(e).rules(),r=t.map(a,function(t,e){return e}).length,o=!1,l=this.elementValue(e);for(n in a){s={method:n,parameters:a[n]};try{if(i=t.validator.methods[n].call(this,l,e,s.parameters),"dependency-mismatch"===i&&1===r){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",h),h instanceof TypeError&&(h.message+=".  Exception occurred when checking element "+e.id+", check the '"+s.method+"' method."),h}}if(!o)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),s=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,s,a,r=this.errorsFor(e),o=this.idOrName(e),l=t(e).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=t("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(i||""),n=r,this.settings.wrapper&&(n=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),r.is("label")?r.attr("for",o):0===r.parents("label[for='"+o+"']").length&&(a=r.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+a+"\\b"))||(l+=" "+a):l=a,t(e).attr("aria-describedby",l),s=this.groups[e.name],s&&t.each(this.groups,function(e,i){i===s&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",r.attr("id"))}))),!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,e)),this.toShow=this.toShow.add(r)},errorsFor:function(e){var i=this.idOrName(e),n=t(e).attr("aria-describedby"),s="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(s=s+", #"+n.replace(/\s+/g,", #")),this.errors().filter(s)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,s={},a=t(e),r=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=a.attr(i),this.normalizeAttributeRule(s,r,i,n);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},a=t(e),r=e.getAttribute("type");for(i in t.validator.methods)n=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(s,r,i,n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(s===!1)return void delete e[n];if(s.param||s.depends){var a=!0;switch(typeof s.depends){case"string":a=!!t(s.depends,i.form).length;break;case"function":a=s.depends.call(i,i)}a?e[n]=void 0!==s.param?s.param:!0:delete e[n]}}),t.each(e,function(n,s){e[n]=t.isFunction(s)?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){
// Copyright (c) 2010-2013 Diego Perini, MIT licensed
return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,s=0,a=0,r=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),a=parseInt(n,10),r&&(a*=2)>9&&(a-=9),s+=a,r=!r;return s%10===0},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=s},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.off(".validate-equalTo").on("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var s,a,r=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,n="string"==typeof n&&{url:n}||n,r.old===e?r.valid:(r.old=e,s=this,this.startRequest(i),a={},a[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:a,context:s.currentForm,success:function(n){var a,o,l,h=n===!0||"true"===n;s.settings.messages[i.name].remote=r.originalMessage,h?(l=s.formSubmitted,s.prepareElement(i),s.formSubmitted=l,s.successList.push(i),delete s.invalid[i.name],s.showErrors()):(a={},o=n||s.defaultMessage(i,"remote"),a[i.name]=r.message=t.isFunction(o)?o(e):o,s.invalid[i.name]=!0,s.showErrors(a)),r.valid=h,s.stopRequest(i,h)}},n)),"pending")}}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,a=("port"in n?n:t.ajaxSettings).port;return"abort"===s?(i[a]&&i[a].abort(),i[a]=e.apply(this,arguments),i[a]):e.apply(this,arguments)})}),function(){var t,e,i,n,s,a,r,o,l;e=55505,t="5fd6485clmp3oogs8gfb43p2uf",o="http://images.travelnow.com",n=function(t){var e,i,n,s;return e=t.getDate(),n=t.getMonth()+1,s=t.getFullYear(),i=[n,e,s].join("/")},r=n(new Date),i=function(){$("#searchDealsForm").on("keyup keypress",function(t){var e;return e=t.keyCode||t.which,13===e?(t.preventDefault(),!1):void 0})},l=function(){$("#searchDealsForm").validate({ignore:".ignore",rules:{autocomplete:"required"},messages:{autocomplete:"Please enter your destination"}})},s=function(i,n,a){var r,l;r=$(".deals-page[data-page='"+a+"']"),r.length>0?(r.show(),$(".deals-page").not(r).hide()):($("div.deals-image").removeClass("lazy"),l="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+e+"&minorRev=28&apiKey="+t+"&locale=en_US&cacheKey="+i+"&cacheLocation="+n+"&supplierType=E",$.ajax({url:l,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(t){var e,i,n,a;return $("#loading").fadeOut("slow"),$(".deals-page").hide(),a=$(".deals-page").length,e=a+1,n=e+1,$("#loadMoreNext").attr("data-cache-key",t.HotelListResponse.cacheKey),$("#loadMoreNext").attr("data-cache-Location",t.HotelListResponse.cacheLocation),console.log(t),i=$("<div class='deals-page' data-page='"+e+"' >"),$.each(t.HotelListResponse.HotelList.HotelSummary,function(t,e){var n,s;return s=$('<div class="wrapper-price-deals">'),n=$('<div class="col-xs-6 col-md-4 col-deals">'),n.append($("<div class='price-deals'><strong>Nightly Price: $"+e.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]+"</strong></div>")),n.append($("<a href='/deals/"+e.hotelId+"/show' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+o+e.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),n.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+e.hotelId+"/show' data-toggle='tooltip' data-placement='top' data-title='"+e.name.toUpperCase()+"' data-no-turbolink='true'>"+e.name.toUpperCase()+"</a></p></div>")),n.append($("<div class='col-md-2'><div class='wrapper-like-deals'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+e.hotelId+"/like' data-remote='true'><span class='icon love-normal' id='like-"+e.hotelId+"'></span></a></p></div></div>")),s.append(n),i.append(s)}),i.append($("<div class='col-md-12'><div class='pull-right'><a class='btn btn-default loadMoreBack' data-previous-page='"+a+"'><i class='icon previous-loadmore pull-left'></i>&nbsp;&nbsp;Previous Page</a><a class='btn btn-default loadMoreNext' data-cache-key='"+t.HotelListResponse.cacheKey+"' data-cache-Location='"+t.HotelListResponse.cacheLocation+"' data-next-page='"+n+"' >Next Page<i class='icon next-loadmore'></i></a></div></div>")),$("#dealsHotelsList").append(i),$("div.lazy").lazyload({effect:"fadeIn"}),$('[data-toggle="tooltip"]').tooltip(),$(".loadMoreNext[data-next-page='"+n+"']").on("click",function(){return s($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).data("next-page"))}),$(".loadMoreBack[data-previous-page='"+a+"']").on("click",function(){var t,e;return e=$(this).data("previous-page"),t=$(".deals-page[data-page='"+e+"']"),console.log(t),$(".deals-page").not(t).hide(),t.show()})}}))},a=function(){var i,n,a,r,l;a=$("#lat").val(),r=$("#lng").val(),i=$("#search_deals_arrival_date").val(),n=$("#search_deals_departure_date").val(),l="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+e+"&minorRev=28&apiKey="+t+"&locale=en_US&currencyCode=USD&latitude="+a+"&longitude="+r+"&arrivalDate="+i+"&departureDate="+n+"&options=HOTEL_SUMMARY,ROOM_RATE_DETAILS&searchRadius=80&numberOfResults=21",$.ajax({url:l,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(t){var e,a,r,l;return $("#dealsHotelsList").html(""),l=$(".deals-page").length,e=l+1,r=e+1,$("#destinationLabel").text($("#autocomplete").val().split(",")[0]),a=$("<div class='deals-page' data-page='"+e+"' >"),$.each(t.HotelListResponse.HotelList.HotelSummary,function(t,e){var i,n;return n=$('<div class="wrapper-price-deals">'),i=$('<div class="col-xs-6 col-md-4 col-deals">'),i.append($("<div class='price-deals'><strong>Nightly Price: $"+e.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]+"</strong></div>")),i.append($("<a href='/deals/"+e.hotelId+"/show' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+o+e.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),i.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+e.hotelId+"/show' data-toggle='tooltip' data-placement='top' data-title='"+e.name.toUpperCase()+"' data-no-turbolink='true'>"+e.name.toUpperCase()+"</a></p></div>")),i.append($("<div class='col-md-2'><div class='wrapper-like-deals'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+e.hotelId+"/like' data-remote='true'><span class='icon love-normal' id='like-"+e.hotelId+"'></span></a></p></div></div>")),n.append(i),a.append(n),console.log(n)}),a.append($("<div class='col-md-12'><div class='pull-right'><a class='btn btn-default loadMoreNext' data-cache-key='"+t.HotelListResponse.cacheKey+"' data-cache-Location='"+t.HotelListResponse.cacheLocation+"' data-next-page='"+r+"' >Next Page<i class='icon next-loadmore'></i></a></div></div>")),$("#dealsHotelsList").append(a),i=new Date($("#search_deals_arrival_date").val()),n=new Date($("#search_deals_departure_date").val()),i=[i.getFullYear(),i.getMonth()+1,i.getDate()].join("/"),n=[n.getFullYear(),n.getMonth()+1,n.getDate()].join("/"),$.ajax({url:"/deals/create_destination",type:"POST",data:{destinationString:$("#autocomplete").val(),city:$("#locality").val(),stateProvinceCode:$("#administrative_area_level_1").val(),countryCode:$("#country").val(),lat:$("#lat").val(),lng:$("#lng").val(),arrivalDate:i,departureDate:n},success:function(t){return $("#loading").fadeOut("slow")}}),$("div.lazy").lazyload({effect:"fadeIn"}),$("#collapseDeals").slideToggle(),$('[data-toggle="tooltip"]').tooltip(),$(".loadMoreNext[data-next-page='"+r+"']").on("click",function(){return s($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).data("next-page"))})}})},$(function(){$("input#search_deals_arrival_date").datepicker({startDate:r,autoclose:!0}).on("changeDate",function(t){return $("input#search_deals_departure_date").datepicker("remove"),$("input#search_deals_departure_date").datepicker({startDate:n(t.date),autoclose:!0}),setTimeout(function(){return $("input#search_deals_departure_date").datepicker("show")},100)}),$("input#search_deals_departure_date").datepicker({startDate:r,autoclose:!0})}),$(document).ready(function(){return i(),l(),$("#destinationLabel").click(function(){$("#collapseDeals").slideToggle()}),$('[data-toggle="tooltip"]').length>0&&$('[data-toggle="tooltip"]').tooltip(),$("div.lazy").length>0&&$("div.lazy").lazyload({effect:"fadeIn"}),$(".loadMoreNext").length>0&&$(".loadMoreNext").on("click",function(){return s($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).attr("data-next-page"))}),$("form#searchDealsForm").length>0&&$("form#searchDealsForm").submit(function(t){return a(),t.preventDefault()}),$("#btnClearText").length>0&&$("#btnClearText").click(function(){$("input#autocomplete").val("")}),$("#links").length>0?blueimp.Gallery(document.getElementById("links").getElementsByTagName("a"),{container:"#blueimp-gallery-carousel",carousel:!0}):void 0})}.call(this);