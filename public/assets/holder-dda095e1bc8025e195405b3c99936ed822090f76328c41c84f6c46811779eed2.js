/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
Â© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
!function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,a=e.createElement("style"),r=[];for(e.documentElement.firstChild.appendChild(a),e._qsa=[],a.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),a.parentNode.removeChild(a);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),r.push(n);return e._qsa=null,r}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,a=[],r=0,s=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),r=r<<6|i,s+=6,24===s&&(a.push(String.fromCharCode(r>>16&255)),a.push(String.fromCharCode(r>>8&255)),a.push(String.fromCharCode(255&r)),s=0,r=0),n+=1;return 12===s?(r>>=4,a.push(String.fromCharCode(255&r))):18===s&&(r>>=2,a.push(String.fromCharCode(r>>8&255)),a.push(String.fromCharCode(255&r))),a.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,a,r,s,o,l,h=0,d=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),a=t.charCodeAt(h++),r=i>>2,s=(3&i)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,h===t.length+2?(o=64,l=64):h===t.length+1&&(l=64),d.push(e.charAt(r),e.charAt(s),e.charAt(o),e.charAt(l));return d.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var r=a(i.substr(i.lastIndexOf(t.domain)),t);r&&s({mode:null,el:n,flags:r,engineSettings:e})}function a(t,e){var i={theme:x(F.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return r(t,i)}function r(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var a=n[1],r=a.match(/([\d]+p?)x([\d]+p?)/);if(!r)return!1;if(e.fluid=-1!==a.indexOf("p"),e.dimensions={width:r[1].replace("p","%"),height:r[2].replace("p","%")},2===i.length){var s=y.parse(i[1]);if(s.bg&&(e.theme.background=(-1===s.bg.indexOf("#")?"#":"")+s.bg),s.fg&&(e.theme.foreground=(-1===s.fg.indexOf("#")?"#":"")+s.fg),s.bg&&!s.fg&&(e.autoFg=!0),s.theme&&e.instanceOptions.themes.hasOwnProperty(s.theme)&&(e.theme=x(e.instanceOptions.themes[s.theme],null)),s.text&&(e.text=s.text),s.textmode&&(e.textmode=s.textmode),s.size&&(e.size=s.size),s.font&&(e.font=s.font),s.align&&(e.align=s.align),e.nowrap=b.truthy(s.nowrap),e.auto=b.truthy(s.auto),e.outline=b.truthy(s.outline),b.truthy(s.random)){F.vars.cache.themeKeys=F.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var o=F.vars.cache.themeKeys[0|Math.random()*F.vars.cache.themeKeys.length];e.theme=x(e.instanceOptions.themes[o],null)}}return e}function s(t){var e=t.mode,i=t.el,n=t.flags,a=t.engineSettings,r=n.dimensions,s=n.theme,l=r.width+"x"+r.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(s.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=s.text.split("\\n"),c=0;c<h.length;c++)h[c]=b.encodeHtmlEntity(h[c]);s.text=h.join("\\n")}var f=n.holderURL,p=x(a,null);if(n.font&&(s.font=n.font,!p.noFontFallback&&"img"===i.nodeName.toLowerCase()&&F.setup.supportsCanvas&&"svg"===p.renderer&&(p=x(p,{renderer:"canvas"}))),n.font&&"canvas"==p.renderer&&(p.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&C.setAttr(i,{"data-background-src":f});else{var g={};g[F.vars.dataAttr]=f,C.setAttr(i,g)}n.theme=s,i.holderData={flags:n,engineSettings:p},("image"==e||"fluid"==e)&&C.setAttr(i,{alt:s.text?s.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:r,theme:s,flags:n},engineSettings:p};"image"==e?("html"!=p.renderer&&n.auto||(i.style.width=r.width+"px",i.style.height=r.height+"px"),"html"==p.renderer?i.style.backgroundColor=s.background:(o(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,F.vars.resizableImages.push(i),d(i)))):"background"==e&&"html"!=p.renderer?o(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==r.height.slice(-1)?i.style.height=r.height:null!=n.auto&&n.auto||(i.style.height=r.height+"px"),"%"==r.width.slice(-1)?i.style.width=r.width:null!=n.auto&&n.auto||(i.style.width=r.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),u(i),"html"==p.renderer?i.style.backgroundColor=s.background:(F.vars.resizableImages.push(i),d(i)))}function o(t){function i(){var e=null;switch(o.renderer){case"canvas":e=E(d,t);break;case"svg":e=L(d,t);break;default:throw"Holder: invalid renderer: "+o.renderer}return e}var n=null,a=t.mode,r=t.el,s=t.holderSettings,o=t.engineSettings;switch(o.renderer){case"svg":if(!F.setup.supportsSVG)return;break;case"canvas":if(!F.setup.supportsCanvas)return;break;default:return}var h={width:s.dimensions.width,height:s.dimensions.height,theme:s.theme,flags:s.flags},d=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==a?(r.style.backgroundImage="url("+n+")",r.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===r.nodeName.toLowerCase()?C.setAttr(r,{src:n}):"object"===r.nodeName.toLowerCase()&&(C.setAttr(r,{data:n}),C.setAttr(r,{type:"image/svg+xml"})),o.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===r.nodeName.toLowerCase()?C.setAttr(r,{src:t}):"object"===r.nodeName.toLowerCase()&&(C.setAttr(r,{data:t}),C.setAttr(r,{type:"image/svg+xml"}))},150)),C.setAttr(r,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=F.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:F.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new w({width:t.width,height:t.height}),a=n.Shape,r=new a.Rect("holderBg",{fill:t.theme.background});if(r.resize(t.width,t.height),n.root.add(r),t.flags.outline){var s=new k(r.properties.fill);s=s.lighten(s.lighterThan("7f7f7f")?-.1:.1),r.properties.outline={fill:s.toHex(!0),width:2}}var o=t.theme.foreground;if(t.flags.autoFg){var l=new k(r.properties.fill),d=new k("fff"),u=new k("000",{alpha:.285714});o=l.blendAlpha(l.lighterThan("7f7f7f")?u:d).toHex(!0)}var c=new a.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:o});c.moveTo(null,null,1),n.root.add(c);var f=c.textPositionData=U(n);if(!f)throw"Holder: staging fallback not supported yet.";c.properties.leading=f.boundingBox.height;var p=null,g=null,m=t.width*F.vars.lineWrapRatio,v=m;if(f.lineCount>1){var y,b=0,D=0,C=0;g=new a.Group("line"+C),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-F.vars.lineWrapRatio)));for(var x=0;x<f.words.length;x++){var T=f.words[x];p=new a.Text(T.text);var S="\\n"==T.text;!t.noWrap&&(b+T.width>=v||S===!0)&&(e(c,g,b,c.properties.leading),c.add(g),b=0,D+=c.properties.leading,C+=1,g=new a.Group("line"+C),g.y=D),S!==!0&&(p.moveTo(b,0),b+=f.spaceWidth+T.width,g.add(p))}if(e(c,g,b,c.properties.leading),c.add(g),"left"===t.align)c.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in c.children)g=c.children[y],g.moveTo(t.width-g.width,null,null);c.moveTo(0-(t.width-m),null,null)}else{for(y in c.children)g=c.children[y],g.moveTo((c.width-g.width)/2,null,null);c.moveTo((t.width-c.width)/2,null,null)}c.moveTo(null,(t.height-c.height)/2,null),(t.height-c.height)/2<0&&c.moveTo(null,0,null)}else p=new a.Text(t.text),g=new a.Group("line0"),g.add(p),c.add(g),"left"===t.align?c.moveTo(t.width-m,null,null):"right"===t.align?c.moveTo(0-(t.width-m),null,null):c.moveTo((t.width-f.boundingBox.width)/2,null,null),c.moveTo(null,(t.height-f.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),a=parseInt(e,10),r=Math.max(n,a),s=Math.min(n,a),o=.8*Math.min(s,r*F.defaults.scale);return Math.round(Math.max(i,o))}function d(t){var e;e=null==t||null==t.nodeType?F.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var a=e[i];if(a.holderData){var r=a.holderData.flags,s=T(a);if(s){if(!a.holderData.resizeUpdate)continue;if(r.fluid&&r.auto){var l=a.holderData.fluidConfig;switch(l.mode){case"width":s.height=s.width/l.ratio;break;case"height":s.width=s.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:s,theme:r.theme,flags:r},el:a,engineSettings:a.holderData.engineSettings};"exact"==r.textmode&&(r.exactDimensions=s,h.holderSettings.dimensions=r.dimensions),o(h)}else p(a)}}}function u(t){if(t.holderData){var e=T(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else p(t)}}function c(){for(var t,i=[],n=Object.keys(F.vars.invisibleImages),a=0,r=n.length;r>a;a++)t=F.vars.invisibleImages[n[a]],T(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete F.vars.invisibleImages[n[a]]);i.length&&A.run({images:i}),e.requestAnimationFrame(c)}function f(){F.vars.visibilityCheckStarted||(e.requestAnimationFrame(c),F.vars.visibilityCheckStarted=!0)}function p(t){t.holderData.invisibleId||(F.vars.invisibleId+=1,F.vars.invisibleImages["i"+F.vars.invisibleId]=t,t.holderData.invisibleId=F.vars.invisibleId)}function g(t){F.vars.debounceTimer||t.call(this),F.vars.debounceTimer&&e.clearTimeout(F.vars.debounceTimer),F.vars.debounceTimer=e.setTimeout(function(){F.vars.debounceTimer=null,t.call(this)},F.setup.debounce)}function m(){g(function(){d(null)})}var v=i(3),y=i(2),w=i(4),b=i(5),D=i(6),C=i(7),k=i(8),x=b.extend,T=b.dimensionCheck,S="http://www.w3.org/2000/svg",_="2.8.0",M="\nCreated with Holder.js "+_+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",A={version:_,addTheme:function(t,e){return null!=t&&null!=e&&(F.settings.themes[t]=e),delete F.vars.cache.themeKeys,this},addImage:function(t,e){var i=C.getNodeArray(e);if(i.length)for(var n=0,a=i.length;a>n;n++){var r=C.newEl("img"),s={};s[F.setup.dataAttr]=t,C.setAttr(r,s),i[n].appendChild(r)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&d(t))},run:function(t){t=t||{};var i={},r=x(F.settings,t);F.vars.preempted=!0,F.vars.dataAttr=r.dataAttr||F.setup.dataAttr,F.vars.lineWrapRatio=r.lineWrapRatio||F.setup.lineWrapRatio,i.renderer=r.renderer?r.renderer:F.setup.renderer,-1===F.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=F.setup.supportsSVG?"svg":F.setup.supportsCanvas?"canvas":"html");var o=C.getNodeArray(r.images),l=C.getNodeArray(r.bgnodes),h=C.getNodeArray(r.stylenodes),d=C.getNodeArray(r.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=r.noFontFallback?r.noFontFallback:!1;for(var u=0;u<h.length;u++){var c=h[u];if(c.attributes.rel&&c.attributes.href&&"stylesheet"==c.attributes.rel.value){var f=c.attributes.href.value,p=C.newEl("a");p.href=f;var g=p.protocol+"//"+p.host+p.pathname+p.search;i.stylesheets.push(g)}}for(u=0;u<l.length;u++)if(e.getComputedStyle){var m=e.getComputedStyle(l[u],null).getPropertyValue("background-image"),v=l[u].getAttribute("data-background-src"),y=v||m,w=null,D="?"+r.domain+"/";if(0===y.indexOf(D))w=y.slice(1);else if(-1!=y.indexOf(D)){var k=y.substr(y.indexOf(D)).slice(1),T=k.match(/([^\"]*)"?\)/);null!=T&&(w=T[1])}if(null!=w){var S=a(w,r);S&&s({mode:"background",el:l[u],flags:S,engineSettings:i})}}for(u=0;u<d.length;u++){var _=d[u],M={};try{M.data=_.getAttribute("data"),M.dataSrc=_.getAttribute(F.vars.dataAttr)}catch(A){}var U=null!=M.data&&0===M.data.indexOf(r.domain),E=null!=M.dataSrc&&0===M.dataSrc.indexOf(r.domain);U?n(r,i,M.data,_):E&&n(r,i,M.dataSrc,_)}for(u=0;u<o.length;u++){var L=o[u],N={};try{N.src=L.getAttribute("src"),N.dataSrc=L.getAttribute(F.vars.dataAttr),N.rendered=L.getAttribute("data-holder-rendered")}catch(A){}var R=null!=N.src,O=null!=N.dataSrc&&0===N.dataSrc.indexOf(r.domain),I=null!=N.rendered&&"true"==N.rendered;R?0===N.src.indexOf(r.domain)?n(r,i,N.src,L):O&&(I?n(r,i,N.dataSrc,L):!function(t,e,i,a,r){b.imageExists(t,function(t){t||n(e,i,a,r)})}(N.src,r,i,N.dataSrc,L)):O&&n(r,i,N.dataSrc,L)}return this}},F={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},U=function(){var t=null,e=null,i=null;return function(n){var a=n.root;if(F.setup.supportsSVG){var r=!1,s=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(r=!0),t=D.initSVG(t,a.properties.width,a.properties.height),t.style.display="block",r&&(e=C.newEl("text",S),i=s(null),C.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var o=a.children.holderTextGroup,l=o.properties;C.setAttr(e,{y:l.font.size,style:b.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),d=Math.ceil(h.width/(a.properties.width*F.vars.lineWrapRatio)),u=l.text.split(" "),c=l.text.match(/\\n/g);d+=null==c?0:c.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var f=e.getComputedTextLength(),p=h.width-f,g=Math.round(p/Math.max(1,u.length-1)),m=[];if(d>1){i.nodeValue="";for(var v=0;v<u.length;v++)if(0!==u[v].length){i.nodeValue=b.decodeHtmlEntity(u[v]);var y=e.getBBox();m.push({text:u[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:d,boundingBox:h,words:m}}return!1}}(),E=function(){var t=C.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=F.dpr(n.properties.width),t.height=F.dpr(n.properties.height),e.textBaseline="middle";var a=n.children.holderBg,r=F.dpr(a.width),s=F.dpr(a.height),o=2,l=o/2;e.fillStyle=a.properties.fill,e.fillRect(0,0,r,s),a.properties.outline&&(e.strokeStyle=a.properties.outline.fill,e.lineWidth=a.properties.outline.width,e.moveTo(l,l),e.lineTo(r-l,l),e.lineTo(r-l,s-l),e.lineTo(l,s-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(r,s-l),e.moveTo(0,s-l),e.lineTo(r,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+F.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var d in h.children){var u=h.children[d];for(var c in u.children){var f=u.children[c],p=F.dpr(h.x+u.x+f.x),g=F.dpr(h.y+u.y+f.y+h.properties.leading/2);e.fillText(f.properties.text,p,g)}}return t.toDataURL("image/png")}}(),L=function(){if(e.XMLSerializer){var t=C.createXML(),i=D.initSVG(null,0,0),n=C.newEl("rect",S);return i.appendChild(n),function(e,a){var r=e.root;D.initSVG(i,r.properties.width,r.properties.height);for(var s=i.querySelectorAll("g"),o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o]);var l=a.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),d=C.newEl("g",S),u=r.children.holderTextGroup,c=u.properties,f=C.newEl("g",S),p=u.textPositionData,g="#"+h+" text { "+b.cssProps({fill:c.fill,"font-weight":c.font.weight,"font-family":c.font.family+", monospace","font-size":c.font.size+c.font.units})+" } ",m=t.createComment("\nSource URL: "+l+M),v=t.createCDATASection(g),y=i.querySelector("style"),w=r.children.holderBg;if(C.setAttr(d,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),d.appendChild(n),w.properties.outline){var k=C.newEl("path",S),x=w.properties.outline.width,T=x/2;C.setAttr(k,{d:["M",T,T,"H",w.width-T,"V",w.height-T,"H",T,"V",0,"M",0,T,"L",w.width,w.height-T,"M",0,w.height-T,"L",w.width,T].join(" "),"stroke-width":w.properties.outline.width,stroke:w.properties.outline.fill,fill:"none"}),d.appendChild(k)}d.appendChild(f),i.appendChild(d),C.setAttr(n,{width:w.width,height:w.height,fill:w.properties.fill}),u.y+=.8*p.boundingBox.height;for(var _ in u.children){var A=u.children[_];for(var F in A.children){var U=A.children[F],E=u.x+A.x+U.x,L=u.y+A.y+U.y,N=C.newEl("text",S),R=document.createTextNode(null);C.setAttr(N,{x:E,y:L}),R.nodeValue=U.properties.text,N.appendChild(R),f.appendChild(N)}}var O=D.svgStringToDataURI(D.serializeSVG(i,a.engineSettings),"background"===a.mode);return O}}}();for(var N in F.flags)F.flags.hasOwnProperty(N)&&(F.flags[N].match=function(t){return t.match(this.regex)});F.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},F.dpr=function(t){return t*F.setup.ratio},F.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=C.newEl("canvas"),a=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(F.setup.renderer="canvas",a=n.getContext("2d"),F.setup.supportsCanvas=!0),F.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),F.setup.ratio=t/i,document.createElementNS&&document.createElementNS(S,"svg").createSVGRect&&(F.setup.renderer="svg",F.setup.supportsSVG=!0)}(),f(),v&&v(function(){F.vars.preempted||A.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){A.run()})}),t.exports=A}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,a=decodeURIComponent,r=i(10),s=i(9),o=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=r(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var s,h,d,u=i[n].split("="),c=a(u[0]);if(s=o.exec(c))e[s[1]]=e[s[1]]||[],e[s[1]][s[2]]=a(u[1]);else if(s=l.test(c)){for(s=c.split("."),h=e;s.length;)if(d=s.shift(),d.length){if(h[d]){if(h[d]&&"object"!=typeof h[d])break}else h[d]={};s.length||(h[d]=a(u[1])),h=h[d]}}else e[u[0]]=null==u[1]?"":a(u[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var a=t[i];if("array"!=s(a))e.push(n(i)+"="+n(t[i]));else for(var r=0;r<a.length;++r)e.push(n(i+"["+r+"]")+"="+n(a[r]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!D){if(!s.body)return a(e);for(D=!0;t=C.shift();)a(t)}}function i(t){(w||t.type===l||s[c]===u)&&(n(),e())}function n(){w?(s[y](m,i,h),t[y](l,i,h)):(s[p](v,i),t[p](d,i))}function a(t,e){setTimeout(t,+e>=0?e:1)}function r(t){D?a(t):C.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function x(){document.removeEventListener("DOMContentLoaded",x,!1),document.readyState="complete"},!1),document.readyState="loading");var s=t.document,o=s.documentElement,l="load",h=!1,d="on"+l,u="complete",c="readyState",f="attachEvent",p="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",w=g in s,b=h,D=h,C=[];if(s[c]===u)a(e);else if(w)s[g](m,i,h),t[g](l,i,h);else{s[f](v,i),t[f](d,i);try{b=null==t.frameElement&&o}catch(k){}b&&b.doScroll&&!function T(){if(!D){try{b.doScroll("left")}catch(t){return a(T,50)}n(),e()}}()}return r.version="1.4.0",r.isReady=function(){return D},r}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var a=function(){n.call(this,"root"),this.properties=t};a.prototype=new n;var r=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};r.prototype=new n;var s=function(){r.apply(this,arguments),this.type="group"};s.prototype=new r;var o=function(){r.apply(this,arguments),this.type="rect"};o.prototype=new r;var l=function(t){r.call(this),this.type="text",this.properties.text=t};l.prototype=new r;var h=new a;return this.Shape={Rect:o,Text:l,Group:s},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),a="http://www.w3.org/2000/svg",r=8;e.initSVG=function(t,e,i){var s,o,l=!1;t&&t.querySelector?(o=t.querySelector("style"),null===o&&(l=!0)):(t=n.newEl("svg",a),l=!0),l&&(s=n.newEl("defs",a),o=n.newEl("style",a),n.setAttr(o,{type:"text/css"}),s.appendChild(o),t.appendChild(s)),t.webkitMatchesSelector&&t.setAttribute("xmlns",a);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===r&&t.removeChild(t.childNodes[h]);for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var a=new XMLSerializer,r="",s=i.stylesheets;if(i.svgXMLStylesheet){for(var o=n.createXML(),l=s.length-1;l>=0;l--){var h=o.createProcessingInstruction("xml-stylesheet",'href="'+s[l]+'" rel="stylesheet"');o.insertBefore(h,o.firstChild)}o.removeChild(o.documentElement),r=a.serializeToString(o)}var d=a.serializeToString(e);return d=d.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),r+d}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var a=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};a.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},a.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,r=255*t|0;return new a(a.rgbToHex(e+r,i+r,n+r))},a.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},a.prototype.lighterThan=function(t){return t instanceof a||(t=new a(t)),this.yuv.y>t.yuv.y},a.prototype.blendAlpha=function(t){t instanceof a||(t=new a(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,r=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,s=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new a(a.rgbToHex(n,r,s))},t.exports=a},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);