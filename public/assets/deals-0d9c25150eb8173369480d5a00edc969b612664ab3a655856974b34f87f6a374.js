/*
 * blueimp Gallery JS 2.11.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Swipe implementation based on
 * https://github.com/bradbirdsall/Swipe
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],e):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=e(window.blueimp.helper||window.jQuery))}(function(e){"use strict";function t(e,n){return e&&e.length&&void 0!==document.body.style.maxHeight?this&&this.options===t.prototype.options?(this.list=e,this.num=e.length,this.initOptions(n),void this.initialize()):new t(e,n):!1}return e.extend(t.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},support:function(t){var n,i,r,o={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},a={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},s=function(){document.body.appendChild(t),i&&(n=i.name.slice(0,-9)+"ransform",void 0!==t.style[n]&&(t.style[n]="translateZ(0)",r=window.getComputedStyle(t).getPropertyValue(i.prefix+"transform"),o.transform={prefix:i.prefix,name:n,translate:!0,translateZ:!!r&&"none"!==r})),void 0!==t.style.backgroundSize&&(o.backgroundSize={},t.style.backgroundSize="contain",o.backgroundSize.contain="contain"===window.getComputedStyle(t).getPropertyValue("background-size"),t.style.backgroundSize="cover",o.backgroundSize.cover="cover"===window.getComputedStyle(t).getPropertyValue("background-size")),document.body.removeChild(t)};for(n in a)if(a.hasOwnProperty(n)&&void 0!==t.style[n]){i=a[n],i.name=n,o.transition=i;break}return document.body?s():e(document).on("DOMContentLoaded",s),o}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(e,t){window.clearTimeout(this.timeout);var n,i,r,o=this.index;if(o!==e&&1!==this.num){if(t||(t=this.options.transitionSpeed),this.support.transition){for(this.options.continuous||(e=this.circle(e)),n=Math.abs(o-e)/(o-e),this.options.continuous&&(i=n,n=-this.positions[this.circle(e)]/this.slideWidth,n!==i&&(e=-n*this.num+e)),r=Math.abs(o-e)-1;r;)r-=1,this.move(this.circle((e>o?e:o)-r-1),this.slideWidth*n,0);e=this.circle(e),this.move(o,this.slideWidth*n,t),this.move(e,0,t),this.options.continuous&&this.move(this.circle(e-n),-(this.slideWidth*n),0)}else e=this.circle(e),this.animate(o*-this.slideWidth,e*-this.slideWidth,t);this.onslide(e)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(e){var t=this;window.clearTimeout(this.timeout),this.interval=e||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(e,n){t.animationFrameId=t.requestAnimationFrame.call(window,function(){t.slide(e,n)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(e){var t;for(this.list=this.list.concat(e),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),t=this.num-e.length;t<this.num;t+=1)this.addSlide(t),this.positionSlide(t);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var e=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(e.displayClass).removeClass(e.singleClass).removeClass(e.leftEdgeClass).removeClass(e.rightEdgeClass),e.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var e=this,t=function(n){n.target===e.container[0]&&(e.container.off(e.support.transition.end,t),e.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,t),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(e){return(this.num+e%this.num)%this.num},move:function(e,t,n){this.translateX(e,t,n),this.positions[e]=t},translate:function(e,t,n,i){var r=this.slides[e].style,o=this.support.transition,a=this.support.transform;r[o.name+"Duration"]=i+"ms",r[a.name]="translate("+t+"px, "+n+"px)"+(a.translateZ?" translateZ(0)":"")},translateX:function(e,t,n){this.translate(e,t,0,n)},translateY:function(e,t,n){this.translate(e,0,t,n)},animate:function(e,t,n){if(!n)return void(this.slidesContainer[0].style.left=t+"px");var i=this,r=(new Date).getTime(),o=window.setInterval(function(){var a=(new Date).getTime()-r;return a>n?(i.slidesContainer[0].style.left=t+"px",i.ontransitionend(),void window.clearInterval(o)):void(i.slidesContainer[0].style.left=(t-e)*(Math.floor(a/n*100)/100)+e+"px")},4)},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},onresize:function(){this.initSlides(!0)},onmousedown:function(e){e.which&&1===e.which&&"VIDEO"!==e.target.nodeName&&((e.originalEvent||e).touches=[{pageX:e.pageX,pageY:e.pageY}],this.ontouchstart(e))},onmousemove:function(e){this.touchStart&&((e.originalEvent||e).touches=[{pageX:e.pageX,pageY:e.pageY}],this.ontouchmove(e))},onmouseup:function(e){this.touchStart&&(this.ontouchend(e),delete this.touchStart)},onmouseout:function(t){if(this.touchStart){var n=t.target,i=t.relatedTarget;(!i||i!==n&&!e.contains(n,i))&&this.onmouseup(t)}},ontouchstart:function(e){var t=(e.originalEvent||e).touches[0];this.touchStart={x:t.pageX,y:t.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(e){var t,n,i=(e.originalEvent||e).touches[0],r=(e.originalEvent||e).scale,o=this.index;if(!(i.length>1||r&&1!==r))if(this.options.disableScroll&&e.preventDefault(),this.touchDelta={x:i.pageX-this.touchStart.x,y:i.pageY-this.touchStart.y},t=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(t)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(o,this.touchDelta.y+this.positions[o],0);else for(e.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?n=[this.circle(o+1),o,this.circle(o-1)]:(this.touchDelta.x=t/=!o&&t>0||o===this.num-1&&0>t?Math.abs(t)/this.slideWidth+1:1,n=[o],o&&n.push(o-1),o<this.num-1&&n.unshift(o+1));n.length;)o=n.pop(),this.translateX(o,t+this.positions[o],0)},ontouchend:function(){var e,t,n,i,r,o=this.index,a=this.options.transitionSpeed,s=this.slideWidth,l=Number(Date.now()-this.touchStart.time)<250,c=l&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>s/2,u=!o&&this.touchDelta.x>0||o===this.num-1&&this.touchDelta.x<0,h=!c&&this.options.closeOnSwipeUpOrDown&&(l&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(u=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?h?this.close():this.translateY(o,0,a):c&&!u?(t=o+e,n=o-e,i=s*e,r=-s*e,this.options.continuous?(this.move(this.circle(t),i,0),this.move(this.circle(o-2*e),r,0)):t>=0&&t<this.num&&this.move(t,i,0),this.move(o,this.positions[o]+i,a),this.move(this.circle(n),this.positions[this.circle(n)]+i,a),o=this.circle(n),this.onslide(o)):this.options.continuous?(this.move(this.circle(o-1),-s,a),this.move(o,0,a),this.move(this.circle(o+1),s,a)):(o&&this.move(o-1,-s,a),this.move(o,0,a),o<this.num-1&&this.move(o+1,s,a))},ontransitionend:function(e){var t=this.slides[this.index];e&&t!==e.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,t]))},oncomplete:function(t){var n,i=t.target||t.srcElement,r=i&&i.parentNode;i&&r&&(n=this.getNodeIndex(r),e(r).removeClass(this.options.slideLoadingClass),"error"===t.type?(e(r).addClass(this.options.slideErrorClass),this.elements[n]=3):this.elements[n]=2,i.clientHeight>this.container[0].clientHeight&&(i.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===r&&this.play(),this.setTimeout(this.options.onslidecomplete,[n,r]))},onload:function(e){this.oncomplete(e)},onerror:function(e){this.oncomplete(e)},onkeydown:function(e){switch(e.which||e.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(e),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(e),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(e),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(e),this.next())}},handleClick:function(t){var n=this.options,i=t.target||t.srcElement,r=i.parentNode,o=function(t){return e(i).hasClass(t)||e(r).hasClass(t)};r===this.slidesContainer[0]?(this.preventDefault(t),n.closeOnSlideClick?this.close():this.toggleControls()):r.parentNode&&r.parentNode===this.slidesContainer[0]?(this.preventDefault(t),this.toggleControls()):o(n.toggleClass)?(this.preventDefault(t),this.toggleControls()):o(n.prevClass)?(this.preventDefault(t),this.prev()):o(n.nextClass)?(this.preventDefault(t),this.next()):o(n.closeClass)?(this.preventDefault(t),this.close()):o(n.playPauseClass)&&(this.preventDefault(t),this.toggleSlideshow())},onclick:function(e){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(e)},updateEdgeClasses:function(e){e?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),e===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(e){this.options.continuous||this.updateEdgeClasses(e),this.loadElements(e),this.options.unloadElements&&this.unloadElements(e),this.setTitle(e)},onslide:function(e){this.index=e,this.handleSlide(e),this.setTimeout(this.options.onslide,[e,this.slides[e]])},setTitle:function(e){var t=this.slides[e].firstChild.title,n=this.titleElement;n.length&&(this.titleElement.empty(),t&&n[0].appendChild(document.createTextNode(t)))},setTimeout:function(e,t,n){var i=this;return e&&window.setTimeout(function(){e.apply(i,t||[])},n||0)},imageFactory:function(t,n){var i,r,o,a=this,s=this.imagePrototype.cloneNode(!1),l=t,c=this.options.stretchImages,u=function(t){if(!i){if(t={type:t.type,target:r},!r.parentNode)return a.setTimeout(u,[t]);i=!0,e(s).off("load error",u),c&&"load"===t.type&&(r.style.background='url("'+l+'") center no-repeat',r.style.backgroundSize=c),n(t)}};return"string"!=typeof l&&(l=this.getItemProperty(t,this.options.urlProperty),o=this.getItemProperty(t,this.options.titleProperty)),c===!0&&(c="contain"),c=this.support.backgroundSize&&this.support.backgroundSize[c]&&c,c?r=this.elementPrototype.cloneNode(!1):(r=s,s.draggable=!1),o&&(r.title=o),e(s).on("load error",u),s.src=l,r},createElement:function(t,n){var i=t&&this.getItemProperty(t,this.options.typeProperty),r=i&&this[i.split("/")[0]+"Factory"]||this.imageFactory,o=t&&r.call(this,t,n);return o||(o=this.elementPrototype.cloneNode(!1),this.setTimeout(n,[{type:"error",target:o}])),e(o).addClass(this.options.slideContentClass),o},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=e(this.slides[t]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[t]=1,e(this.slides[t]).addClass(this.options.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(e){var t,n=Math.min(this.num,2*this.options.preloadRange+1),i=e;for(t=0;n>t;t+=1)i+=t*(t%2===0?-1:1),i=this.circle(i),this.loadElement(i)},unloadElements:function(e){var t,n,i;for(t in this.elements)this.elements.hasOwnProperty(t)&&(i=Math.abs(e-t),i>this.options.preloadRange&&i+this.options.preloadRange<this.num&&(n=this.slides[t],n.removeChild(n.firstChild),delete this.elements[t]))},addSlide:function(e){var t=this.slidePrototype.cloneNode(!1);t.setAttribute("data-index",e),this.slidesContainer[0].appendChild(t),this.slides.push(t)},positionSlide:function(e){var t=this.slides[e];t.style.width=this.slideWidth+"px",this.support.transition&&(t.style.left=e*-this.slideWidth+"px",this.move(e,this.index>e?-this.slideWidth:this.index<e?this.slideWidth:0,0))},initSlides:function(t){var n,i;for(t||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),e(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,n=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",n&&this.resetSlides(),i=0;i<this.num;i+=1)n&&this.addSlide(i),this.positionSlide(i);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transition||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var e=this.options.controlsClass;this.container.hasClass(e)?this.container.removeClass(e):this.container.addClass(e)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(e){return parseInt(e.getAttribute("data-index"),10)},getNestedProperty:function(e,t){return t.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(t,n,i,r,o){var a=o||n||i||r&&parseInt(r,10);t&&e&&(e=e[a])}),e},getDataProperty:function(t,n){if(t.getAttribute){var i=t.getAttribute("data-"+n.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof i){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(i))try{return e.parseJSON(i)}catch(r){}return i}}},getItemProperty:function(e,t){var n=e[t];return void 0===n&&(n=this.getDataProperty(e,t),void 0===n&&(n=this.getNestedProperty(e,t))),n},initStartIndex:function(){var e,t=this.options.index,n=this.options.urlProperty;if(t&&"number"!=typeof t)for(e=0;e<this.num;e+=1)if(this.list[e]===t||this.getItemProperty(this.list[e],n)===this.getItemProperty(t,n)){t=e;break}this.index=this.circle(parseInt(t,10)||0)},initEventListeners:function(){var t=this,n=this.slidesContainer,i=function(e){var n=t.support.transition&&t.support.transition.end===e.type?"transitionend":e.type;t["on"+n](e)};e(window).on("resize",i),e(document.body).on("keydown",i),this.container.on("click",i),this.support.touch?n.on("touchstart touchmove touchend",i):this.options.emulateTouchEvents&&this.support.transition&&n.on("mousedown mousemove mouseup mouseout",i),this.support.transition&&n.on(this.support.transition.end,i),this.proxyListener=i},destroyEventListeners:function(){var t=this.slidesContainer,n=this.proxyListener;e(window).off("resize",n),e(document.body).off("keydown",n),this.container.off("click",n),this.support.touch?t.off("touchstart touchmove touchend",n):this.options.emulateTouchEvents&&this.support.transition&&t.off("mousedown mousemove mouseup mouseout",n),this.support.transition&&t.off(this.support.transition.end,n)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var t=this,n=function(e){e.target===t.container[0]&&(t.container.off(t.support.transition.end,n),t.handleOpen())};return this.container=e(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,n):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):!1):!1},initOptions:function(t){this.options=e.extend({},this.options),(t&&t.carousel||this.options.carousel&&(!t||t.carousel!==!1))&&e.extend(this.options,this.carouselOptions),e.extend(this.options,t),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),t}),/*
 * blueimp Gallery Indicator JS 1.1.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";e.extend(t.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var n=t.prototype.initSlides,i=t.prototype.addSlide,r=t.prototype.resetSlides,o=t.prototype.handleClick,a=t.prototype.handleSlide,s=t.prototype.handleClose;return e.extend(t.prototype,{createIndicator:function(t){var n,i,r=this.indicatorPrototype.cloneNode(!1),o=this.getItemProperty(t,this.options.titleProperty),a=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(i=t.getElementsByTagName&&e(t).find("img")[0],i?n=i.src:a&&(n=this.getItemProperty(t,a)),n&&(r.style.backgroundImage='url("'+n+'")')),o&&(r.title=o),r},addIndicator:function(e){if(this.indicatorContainer.length){var t=this.createIndicator(this.list[e]);t.setAttribute("data-index",e),this.indicatorContainer[0].appendChild(t),this.indicators.push(t)}},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=e(this.indicators[t]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(e){e||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),n.call(this,e)},addSlide:function(e){i.call(this,e),this.addIndicator(e)},resetSlides:function(){r.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(e){var t=e.target||e.srcElement,n=t.parentNode;if(n===this.indicatorContainer[0])this.preventDefault(e),this.slide(this.getNodeIndex(t));else{if(n.parentNode!==this.indicatorContainer[0])return o.call(this,e);this.preventDefault(e),this.slide(this.getNodeIndex(n))}},handleSlide:function(e){a.call(this,e),this.setActiveIndicator(e)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),s.call(this)}}),t}),/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(e,t,n,i){var r=e(t);e.fn.lazyload=function(o){function a(){var t=0;l.each(function(){var n=e(this);if(!c.skip_invisible||n.is(":visible"))if(e.abovethetop(this,c)||e.leftofbegin(this,c));else if(e.belowthefold(this,c)||e.rightoffold(this,c)){if(++t>c.failure_limit)return!1}else n.trigger("appear"),t=0})}var s,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return o&&(i!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),i!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),e.extend(c,o)),s=c.container===i||c.container===t?r:e(c.container),0===c.event.indexOf("scroll")&&s.bind(c.event,function(){return a()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,(n.attr("src")===i||n.attr("src")===!1)&&n.is("img")&&n.attr("src",c.placeholder),n.one("appear",function(){if(!this.loaded){if(c.appear){var i=l.length;c.appear.call(t,i,c)}e("<img />").bind("load",function(){var i=n.attr("data-"+c.data_attribute);n.hide(),n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[c.effect](c.effect_speed),t.loaded=!0;var r=e.grep(l,function(e){return!e.loaded});if(l=e(r),c.load){var o=l.length;c.load.call(t,o,c)}}).attr("src",n.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&n.bind(c.event,function(){t.loaded||n.trigger("appear")})}),r.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){a()}),this},e.belowthefold=function(n,o){var a;return a=o.container===i||o.container===t?(t.innerHeight?t.innerHeight:r.height())+r.scrollTop():e(o.container).offset().top+e(o.container).height(),a<=e(n).offset().top-o.threshold},e.rightoffold=function(n,o){var a;return a=o.container===i||o.container===t?r.width()+r.scrollLeft():e(o.container).offset().left+e(o.container).width(),a<=e(n).offset().left-o.threshold},e.abovethetop=function(n,o){var a;return a=o.container===i||o.container===t?r.scrollTop():e(o.container).offset().top,a>=e(n).offset().top+o.threshold+e(n).height()},e.leftofbegin=function(n,o){var a;return a=o.container===i||o.container===t?r.scrollLeft():e(o.container).offset().left,a>=e(n).offset().left+o.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(e){return function(){return this[e].apply(this,arguments)}}function a(t,n){function i(e,t){return t.toLowerCase()}var r,o=e(t).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(s,i),a[r]=o[l]);return a}function s(t){var n={};if(m[t]||(t=t.split("-")[0],m[t])){var i=m[t];return e.each(f,function(e,t){t in i&&(n[t]=i[t])}),n}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(r){this._o=e.extend({},this._o,r);var o=this.o=e.extend({},this._o),a=o.language;switch(m[a]||(a=a.split("-")[0],m[a]||(a=p.language)),o.language=a,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var s=g.parseFormat(o.format);if(o.startDate!==-(1/0)&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=g.parseDate(o.startDate,s,o.language):o.startDate=-(1/0)),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=g.parseDate(o.endDate,s,o.language):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],e.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=e.map(o.daysOfWeekDisabled,function(e){return parseInt(e,10)}),o.datesDisabled=o.datesDisabled||[],!e.isArray(o.datesDisabled)){var l=[];l.push(g.parseDate(o.datesDisabled,s,o.language)),o.datesDisabled=l}o.datesDisabled=e.map(o.datesDisabled,function(e){return g.parseDate(e,s,o.language)});var c=String(o.orientation).toLowerCase().split(/\s+/g),u=o.orientation.toLowerCase();if(c=e.grep(c,function(e){return/^auto|left|right|top|bottom$/.test(e)}),o.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===c.length)switch(c[0]){case"top":case"bottom":o.orientation.y=c[0];break;case"left":case"right":o.orientation.x=c[0]}else u=e.grep(c,function(e){return/^left|right$/.test(e)}),o.orientation.x=u[0]||"auto",u=e.grep(c,function(e){return/^top|bottom$/.test(e)}),o.orientation.y=u[0]||"auto";else;if(o.defaultViewDate){var h=o.defaultViewDate.year||(new Date).getFullYear(),d=o.defaultViewDate.month||0,f=o.defaultViewDate.day||1;o.defaultViewDate=n(h,d,f)}else o.defaultViewDate=i();o.showOnFocus=o.showOnFocus!==t?o.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,i,r,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(i=t,r=e[o][1]):3===e[o].length&&(i=e[o][1],r=e[o][2]),n.on(r,i)},_unapplyEvents:function(e){for(var n,i,r,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(r=t,i=e[o][1]):3===e[o].length&&(r=e[o][1],i=e[o][2]),n.off(i,r)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:t,date:r,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return g.formatDate(n,t,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=e(this.o.container).width(),o=e(this.o.container).height(),a=e(this.o.container).scrollTop(),s=e(this.o.container).offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var c=Math.max.apply(Math,l)+10,u=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=u.left-s.left,f=u.top-s.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-d)):u.left<0?(this.picker.addClass("datepicker-orient-left"),p-=u.left-i):p+t>r?(this.picker.addClass("datepicker-orient-right"),p=u.left+d-t):this.picker.addClass("datepicker-orient-left");var m,g,v=this.o.orientation.y;if("auto"===v&&(m=-a+f-n,g=a+o-(f+h+n),v=Math.max(m,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=h:f-=n+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=r-(p+d);this.picker.css({top:f,right:y,zIndex:c})}else this.picker.css({top:f,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var n='<th class="cw">&#160;</th>';t+=n}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+m[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+m[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>o)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return r(t,e)}).length>0&&n.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,r=new Date(this.viewDate),o=r.getUTCFullYear(),a=r.getUTCMonth(),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=m[this.o.language].today||m.en.today||"",d=m[this.o.language].clear||m.en.clear||"";if(!isNaN(o)&&!isNaN(a)){this.picker.find(".datepicker-days thead .datepicker-switch").text(m[this.o.language].months[a]+" "+o),this.picker.find("tfoot .today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=n(o,a-1,28),f=g.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,w=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),_=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),S=new Date(Number(S=n(_.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),k=(_-S)/864e5/7+1;w.push('<td class="cw">'+k+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==e.noop){var C=this.o.beforeShowDay(this._utc_to_local(p));C===t?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&y.push("disabled"),C.classes&&(y=y.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}y=e.unique(y),w.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),i=null,p.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&T.eq(t.getUTCMonth()).addClass("active")}),(s>o||o>c)&&T.addClass("disabled"),o===s&&T.slice(0,l).addClass("disabled"),o===c&&T.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var D=this;e.each(T,function(t,n){if(!e(n).hasClass("disabled")){var i=new Date(o,t,1),r=D.o.beforeShowMonth(i);r===!1&&e(n).addClass("disabled")}})}w="",o=10*parseInt(o/10,10);var x=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var E,A=e.map(this.dates,function(e){return e.getUTCFullYear()}),I=-1;11>I;I++)E=["year"],-1===I?E.push("old"):10===I&&E.push("new"),-1!==e.inArray(o,A)&&E.push("active"),(s>o||o>c)&&E.push("disabled"),w+='<span class="'+E.join(" ")+'">'+o+"</span>",o+=1;x.html(w)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i,r,o,a=e(t.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=g.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":this.clearDates()}break;case"span":a.hasClass("disabled")||(this.viewDate.setUTCDate(1),a.hasClass("month")?(o=1,r=a.parent().find("span").index(a),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,o))):(o=1,r=0,i=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,o))),this.showMode(-1),this.fill());break;case"td":a.hasClass("day")&&!a.hasClass("disabled")&&(o=parseInt(a.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a.hasClass("old")?0===r?(r=11,i-=1):r-=1:a.hasClass("new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var i,r,o=new Date(e.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)r=-1===n?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==i},i=s+n,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)o=this.moveMonth(o,n);i=o.getUTCMonth(),o.setUTCDate(a),r=function(){return i!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--a),o.setUTCMonth(i);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,n,r,o=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),r=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),r=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+t),r=new Date(a),r.setUTCDate(a.getUTCDate()+t)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),r=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),r=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*t),r=new Date(a),r.setUTCDate(a.getUTCDate()+7*t)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,d.call(e(this.inputs),n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),i=n.getUTCDate(),r=e.inArray(t.target,this.inputs),o=r-1,a=r+1,s=this.inputs.length;if(-1!==r){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[a])for(;s>a&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var h=e.fn.datepicker,d=function(n){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var o=e(this),l=o.data("datepicker"),h="object"==typeof n&&n;if(!l){var d=a(this,"date"),f=e.extend({},p,d,h),m=s(f.language),g=e.extend({},p,m,d,h);if(o.hasClass("input-daterange")||g.inputs){var v={inputs:g.inputs||o.find("input").toArray()};o.data("datepicker",l=new u(this,e.extend(g,v)))}else o.data("datepicker",l=new c(this,g))}return"string"==typeof n&&"function"==typeof l[n]&&(r=l[n].apply(l,i),r!==t)?!1:void 0}),r!==t?r:this};e.fn.datepicker=d;var p=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(i,r,o){function a(){var e=this.slice(0,d[u].length),t=d[u].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!i)return t;if(i instanceof Date)return i;"string"==typeof r&&(r=g.parseFormat(r));var s,l,u,h=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<d.length;u++)switch(s=h.exec(d[u]),l=parseInt(s[1]),s[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}d=i&&i.match(this.nonpunctuation)||[],i=new Date;var p,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=r.parts.slice();if(d.length!==b.length&&(b=e(b).filter(function(t,n){return-1!==e.inArray(n,y)}).toArray()),d.length===b.length){var _;for(u=0,_=b.length;_>u;u++){if(p=parseInt(d[u],10),s=b[u],isNaN(p))switch(s){case"MM":f=e(m[o].months).filter(a),p=e.inArray(f[0],m[o].months)+1;break;case"M":f=e(m[o].monthsShort).filter(a),p=e.inArray(f[0],m[o].monthsShort)+1}v[s]=p}var S,k;for(u=0;u<y.length;u++)k=y[u],k in v&&!isNaN(v[k])&&(S=new Date(i),w[k](S,v[k]),isNaN(S)||(i=S))}return i},formatDate:function(t,n,i){if(!t)return"";"string"==typeof n&&(n=g.parseFormat(n));var r={d:t.getUTCDate(),D:m[i].daysShort[t.getUTCDay()],DD:m[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[i].monthsShort[t.getUTCMonth()],MM:m[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var o=e.extend([],n.separators),a=0,s=n.parts.length;s>=a;a++)o.length&&t.push(o.shift()),t.push(r[n.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.4.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),d.call(n,"show"))}),e(function(){d.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
function(e){if(e.document){var t=e.document;t.querySelectorAll||(t.querySelectorAll=function(n){var i,r=t.createElement("style"),o=[];for(t.documentElement.firstChild.appendChild(r),t._qsa=[],r.styleSheet.cssText=n+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",e.scrollBy(0,0),r.parentNode.removeChild(r);t._qsa.length;)i=t._qsa.shift(),i.style.removeAttribute("x-qsa"),o.push(i);return t._qsa=null,o}),t.querySelector||(t.querySelector=function(e){var n=t.querySelectorAll(e);return n.length?n[0]:null}),t.getElementsByClassName||(t.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),t.querySelectorAll(e)}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=e.atob||function(e){e=String(e);var n,i=0,r=[],o=0,a=0;if(e=e.replace(/\s/g,""),e.length%4===0&&(e=e.replace(/=+$/,"")),e.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;i<e.length;)n=t.indexOf(e.charAt(i)),o=o<<6|n,a+=6,24===a&&(r.push(String.fromCharCode(o>>16&255)),r.push(String.fromCharCode(o>>8&255)),r.push(String.fromCharCode(255&o)),a=0,o=0),i+=1;return 12===a?(o>>=4,r.push(String.fromCharCode(255&o))):18===a&&(o>>=2,r.push(String.fromCharCode(o>>8&255)),r.push(String.fromCharCode(255&o))),r.join("")},e.btoa=e.btoa||function(e){e=String(e);var n,i,r,o,a,s,l,c=0,u=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;c<e.length;)n=e.charCodeAt(c++),i=e.charCodeAt(c++),r=e.charCodeAt(c++),o=n>>2,a=(3&n)<<4|i>>4,s=(15&i)<<2|r>>6,l=63&r,c===e.length+2?(s=64,l=64):c===e.length+1&&(l=64),u.push(t.charAt(o),t.charAt(a),t.charAt(s),t.charAt(l));return u.join("")}}(e),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),
// copyright Paul Irish 2015
function(){if("performance"in e==!1&&(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in e.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),e.performance.now=function(){return Date.now()-t}}}(),e.requestAnimationFrame||(e.webkitRequestAnimationFrame?!function(e){e.requestAnimationFrame=function(t){return webkitRequestAnimationFrame(function(){t(e.performance.now())})},e.cancelAnimationFrame=webkitCancelAnimationFrame}(e):e.mozRequestAnimationFrame?!function(e){e.requestAnimationFrame=function(t){return mozRequestAnimationFrame(function(){t(e.performance.now())})},e.cancelAnimationFrame=mozCancelAnimationFrame}(e):!function(e){e.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)},e.cancelAnimationFrame=e.clearTimeout}(e))}}(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Holder=t():e.Holder=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){(function(t){function i(e,t,n,i){var o=r(n.substr(n.lastIndexOf(e.domain)),e);o&&a({mode:null,el:i,flags:o,engineSettings:t})}function r(e,t){var n={theme:C(I.settings.themes.gray,null),stylesheets:t.stylesheets,instanceOptions:t};return o(e,n)}function o(e,t){var n=e.split("?"),i=n[0].split("/");t.holderURL=e;var r=i[1],o=r.match(/([\d]+p?)x([\d]+p?)/);if(!o)return!1;if(t.fluid=-1!==r.indexOf("p"),t.dimensions={width:o[1].replace("p","%"),height:o[2].replace("p","%")},2===n.length){var a=y.parse(n[1]);if(a.bg&&(t.theme.background=(-1===a.bg.indexOf("#")?"#":"")+a.bg),a.fg&&(t.theme.foreground=(-1===a.fg.indexOf("#")?"#":"")+a.fg),a.bg&&!a.fg&&(t.autoFg=!0),a.theme&&t.instanceOptions.themes.hasOwnProperty(a.theme)&&(t.theme=C(t.instanceOptions.themes[a.theme],null)),a.text&&(t.text=a.text),a.textmode&&(t.textmode=a.textmode),a.size&&(t.size=a.size),a.font&&(t.font=a.font),a.align&&(t.align=a.align),t.nowrap=b.truthy(a.nowrap),t.auto=b.truthy(a.auto),t.outline=b.truthy(a.outline),b.truthy(a.random)){I.vars.cache.themeKeys=I.vars.cache.themeKeys||Object.keys(t.instanceOptions.themes);var s=I.vars.cache.themeKeys[0|Math.random()*I.vars.cache.themeKeys.length];t.theme=C(t.instanceOptions.themes[s],null)}}return t}function a(e){var t=e.mode,n=e.el,i=e.flags,r=e.engineSettings,o=i.dimensions,a=i.theme,l=o.width+"x"+o.height;if(t=null==t?i.fluid?"fluid":"image":t,null!=i.text&&(a.text=i.text,"object"===n.nodeName.toLowerCase())){for(var c=a.text.split("\\n"),d=0;d<c.length;d++)c[d]=b.encodeHtmlEntity(c[d]);a.text=c.join("\\n")}var p=i.holderURL,f=C(r,null);if(i.font&&(a.font=i.font,!f.noFontFallback&&"img"===n.nodeName.toLowerCase()&&I.setup.supportsCanvas&&"svg"===f.renderer&&(f=C(f,{renderer:"canvas"}))),i.font&&"canvas"==f.renderer&&(f.reRender=!0),"background"==t)null==n.getAttribute("data-background-src")&&S.setAttr(n,{"data-background-src":p});else{var m={};m[I.vars.dataAttr]=p,S.setAttr(n,m)}i.theme=a,n.holderData={flags:i,engineSettings:f},("image"==t||"fluid"==t)&&S.setAttr(n,{alt:a.text?a.text+" ["+l+"]":l});var g={mode:t,el:n,holderSettings:{dimensions:o,theme:a,flags:i},engineSettings:f};"image"==t?("html"!=f.renderer&&i.auto||(n.style.width=o.width+"px",n.style.height=o.height+"px"),"html"==f.renderer?n.style.backgroundColor=a.background:(s(g),"exact"==i.textmode&&(n.holderData.resizeUpdate=!0,I.vars.resizableImages.push(n),u(n)))):"background"==t&&"html"!=f.renderer?s(g):"fluid"==t&&(n.holderData.resizeUpdate=!0,"%"==o.height.slice(-1)?n.style.height=o.height:null!=i.auto&&i.auto||(n.style.height=o.height+"px"),"%"==o.width.slice(-1)?n.style.width=o.width:null!=i.auto&&i.auto||(n.style.width=o.width+"px"),("inline"==n.style.display||""===n.style.display||"none"==n.style.display)&&(n.style.display="block"),h(n),"html"==f.renderer?n.style.backgroundColor=a.background:(I.vars.resizableImages.push(n),u(n)))}function s(e){function n(){var t=null;switch(s.renderer){case"canvas":t=R(u,e);break;case"svg":t=N(u,e);break;default:throw"Holder: invalid renderer: "+s.renderer}return t}var i=null,r=e.mode,o=e.el,a=e.holderSettings,s=e.engineSettings;switch(s.renderer){case"svg":if(!I.setup.supportsSVG)return;break;case"canvas":if(!I.setup.supportsCanvas)return;break;default:return}var c={width:a.dimensions.width,height:a.dimensions.height,theme:a.theme,flags:a.flags},u=l(c);if(i=n(),null==i)throw"Holder: couldn't render placeholder";"background"==r?(o.style.backgroundImage="url("+i+")",o.style.backgroundSize=c.width+"px "+c.height+"px"):("img"===o.nodeName.toLowerCase()?S.setAttr(o,{src:i}):"object"===o.nodeName.toLowerCase()&&(S.setAttr(o,{data:i}),S.setAttr(o,{type:"image/svg+xml"})),s.reRender&&t.setTimeout(function(){var e=n();if(null==e)throw"Holder: couldn't render placeholder";"img"===o.nodeName.toLowerCase()?S.setAttr(o,{src:e}):"object"===o.nodeName.toLowerCase()&&(S.setAttr(o,{data:e}),S.setAttr(o,{type:"image/svg+xml"}))},150)),S.setAttr(o,{"data-holder-rendered":!0})}function l(e){function t(e,t,n,i){t.width=n,t.height=i,e.width=Math.max(e.width,t.width),e.height+=t.height}var n=I.defaults.size;switch(parseFloat(e.theme.size)?n=e.theme.size:parseFloat(e.flags.size)&&(n=e.flags.size),e.font={family:e.theme.font?e.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:c(e.width,e.height,n),units:e.theme.units?e.theme.units:I.defaults.units,weight:e.theme.fontweight?e.theme.fontweight:"bold"},e.text=e.theme.text||Math.floor(e.width)+"x"+Math.floor(e.height),e.noWrap=e.theme.nowrap||e.flags.nowrap,e.align=e.theme.align||e.flags.align||"center",e.flags.textmode){case"literal":e.text=e.flags.dimensions.width+"x"+e.flags.dimensions.height;break;case"exact":if(!e.flags.exactDimensions)break;e.text=Math.floor(e.flags.exactDimensions.width)+"x"+Math.floor(e.flags.exactDimensions.height)}var i=new w({width:e.width,height:e.height}),r=i.Shape,o=new r.Rect("holderBg",{fill:e.theme.background});if(o.resize(e.width,e.height),i.root.add(o),e.flags.outline){var a=new k(o.properties.fill);a=a.lighten(a.lighterThan("7f7f7f")?-.1:.1),o.properties.outline={fill:a.toHex(!0),width:2}}var s=e.theme.foreground;if(e.flags.autoFg){var l=new k(o.properties.fill),u=new k("fff"),h=new k("000",{alpha:.285714});s=l.blendAlpha(l.lighterThan("7f7f7f")?h:u).toHex(!0)}var d=new r.Group("holderTextGroup",{text:e.text,align:e.align,font:e.font,fill:s});d.moveTo(null,null,1),i.root.add(d);var p=d.textPositionData=M(i);if(!p)throw"Holder: staging fallback not supported yet.";d.properties.leading=p.boundingBox.height;var f=null,m=null,g=e.width*I.vars.lineWrapRatio,v=g;if(p.lineCount>1){var y,b=0,_=0,S=0;m=new r.Group("line"+S),("left"===e.align||"right"===e.align)&&(v=e.width*(1-2*(1-I.vars.lineWrapRatio)));for(var C=0;C<p.words.length;C++){var T=p.words[C];f=new r.Text(T.text);var D="\\n"==T.text;!e.noWrap&&(b+T.width>=v||D===!0)&&(t(d,m,b,d.properties.leading),d.add(m),b=0,_+=d.properties.leading,S+=1,m=new r.Group("line"+S),m.y=_),D!==!0&&(f.moveTo(b,0),b+=p.spaceWidth+T.width,m.add(f))}if(t(d,m,b,d.properties.leading),d.add(m),"left"===e.align)d.moveTo(e.width-g,null,null);else if("right"===e.align){for(y in d.children)m=d.children[y],m.moveTo(e.width-m.width,null,null);d.moveTo(0-(e.width-g),null,null)}else{for(y in d.children)m=d.children[y],m.moveTo((d.width-m.width)/2,null,null);d.moveTo((e.width-d.width)/2,null,null)}d.moveTo(null,(e.height-d.height)/2,null),(e.height-d.height)/2<0&&d.moveTo(null,0,null)}else f=new r.Text(e.text),m=new r.Group("line0"),m.add(f),d.add(m),"left"===e.align?d.moveTo(e.width-g,null,null):"right"===e.align?d.moveTo(0-(e.width-g),null,null):d.moveTo((e.width-p.boundingBox.width)/2,null,null),d.moveTo(null,(e.height-p.boundingBox.height)/2,null);return i}function c(e,t,n){var i=parseInt(e,10),r=parseInt(t,10),o=Math.max(i,r),a=Math.min(i,r),s=.8*Math.min(a,o*I.defaults.scale);return Math.round(Math.max(n,s))}function u(e){var t;t=null==e||null==e.nodeType?I.vars.resizableImages:[e];for(var n=0,i=t.length;i>n;n++){var r=t[n];if(r.holderData){var o=r.holderData.flags,a=T(r);if(a){if(!r.holderData.resizeUpdate)continue;if(o.fluid&&o.auto){var l=r.holderData.fluidConfig;switch(l.mode){case"width":a.height=a.width/l.ratio;break;case"height":a.width=a.height*l.ratio}}var c={mode:"image",holderSettings:{dimensions:a,theme:o.theme,flags:o},el:r,engineSettings:r.holderData.engineSettings};"exact"==o.textmode&&(o.exactDimensions=a,c.holderSettings.dimensions=o.dimensions),s(c)}else f(r)}}}function h(e){if(e.holderData){var t=T(e);if(t){var n=e.holderData.flags,i={fluidHeight:"%"==n.dimensions.height.slice(-1),fluidWidth:"%"==n.dimensions.width.slice(-1),mode:null,initialDimensions:t};i.fluidWidth&&!i.fluidHeight?(i.mode="width",i.ratio=i.initialDimensions.width/parseFloat(n.dimensions.height)):!i.fluidWidth&&i.fluidHeight&&(i.mode="height",i.ratio=parseFloat(n.dimensions.width)/i.initialDimensions.height),e.holderData.fluidConfig=i}else f(e)}}function d(){for(var e,n=[],i=Object.keys(I.vars.invisibleImages),r=0,o=i.length;o>r;r++)e=I.vars.invisibleImages[i[r]],T(e)&&"img"==e.nodeName.toLowerCase()&&(n.push(e),delete I.vars.invisibleImages[i[r]]);n.length&&A.run({images:n}),t.requestAnimationFrame(d)}function p(){I.vars.visibilityCheckStarted||(t.requestAnimationFrame(d),I.vars.visibilityCheckStarted=!0)}function f(e){e.holderData.invisibleId||(I.vars.invisibleId+=1,I.vars.invisibleImages["i"+I.vars.invisibleId]=e,e.holderData.invisibleId=I.vars.invisibleId)}function m(e){I.vars.debounceTimer||e.call(this),I.vars.debounceTimer&&t.clearTimeout(I.vars.debounceTimer),I.vars.debounceTimer=t.setTimeout(function(){I.vars.debounceTimer=null,e.call(this)},I.setup.debounce)}function g(){m(function(){u(null)})}var v=n(3),y=n(2),w=n(4),b=n(5),_=n(6),S=n(7),k=n(8),C=b.extend,T=b.dimensionCheck,D="http://www.w3.org/2000/svg",x="2.8.0",E="\nCreated with Holder.js "+x+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",A={version:x,addTheme:function(e,t){return null!=e&&null!=t&&(I.settings.themes[e]=t),delete I.vars.cache.themeKeys,this},addImage:function(e,t){var n=S.getNodeArray(t);if(n.length)for(var i=0,r=n.length;r>i;i++){var o=S.newEl("img"),a={};a[I.setup.dataAttr]=e,S.setAttr(o,a),n[i].appendChild(o)}return this},setResizeUpdate:function(e,t){e.holderData&&(e.holderData.resizeUpdate=!!t,e.holderData.resizeUpdate&&u(e))},run:function(e){e=e||{};var n={},o=C(I.settings,e);I.vars.preempted=!0,I.vars.dataAttr=o.dataAttr||I.setup.dataAttr,I.vars.lineWrapRatio=o.lineWrapRatio||I.setup.lineWrapRatio,n.renderer=o.renderer?o.renderer:I.setup.renderer,-1===I.setup.renderers.join(",").indexOf(n.renderer)&&(n.renderer=I.setup.supportsSVG?"svg":I.setup.supportsCanvas?"canvas":"html");var s=S.getNodeArray(o.images),l=S.getNodeArray(o.bgnodes),c=S.getNodeArray(o.stylenodes),u=S.getNodeArray(o.objects);n.stylesheets=[],n.svgXMLStylesheet=!0,n.noFontFallback=o.noFontFallback?o.noFontFallback:!1;for(var h=0;h<c.length;h++){var d=c[h];if(d.attributes.rel&&d.attributes.href&&"stylesheet"==d.attributes.rel.value){var p=d.attributes.href.value,f=S.newEl("a");f.href=p;var m=f.protocol+"//"+f.host+f.pathname+f.search;n.stylesheets.push(m)}}for(h=0;h<l.length;h++)if(t.getComputedStyle){var g=t.getComputedStyle(l[h],null).getPropertyValue("background-image"),v=l[h].getAttribute("data-background-src"),y=v||g,w=null,_="?"+o.domain+"/";if(0===y.indexOf(_))w=y.slice(1);else if(-1!=y.indexOf(_)){var k=y.substr(y.indexOf(_)).slice(1),T=k.match(/([^\"]*)"?\)/);null!=T&&(w=T[1])}if(null!=w){var D=r(w,o);D&&a({mode:"background",el:l[h],flags:D,engineSettings:n})}}for(h=0;h<u.length;h++){var x=u[h],E={};try{E.data=x.getAttribute("data"),E.dataSrc=x.getAttribute(I.vars.dataAttr)}catch(A){}var M=null!=E.data&&0===E.data.indexOf(o.domain),R=null!=E.dataSrc&&0===E.dataSrc.indexOf(o.domain);M?i(o,n,E.data,x):R&&i(o,n,E.dataSrc,x)}for(h=0;h<s.length;h++){var N=s[h],O={};try{O.src=N.getAttribute("src"),O.dataSrc=N.getAttribute(I.vars.dataAttr),O.rendered=N.getAttribute("data-holder-rendered")}catch(A){}var j=null!=O.src,U=null!=O.dataSrc&&0===O.dataSrc.indexOf(o.domain),F=null!=O.rendered&&"true"==O.rendered;j?0===O.src.indexOf(o.domain)?i(o,n,O.src,N):U&&(F?i(o,n,O.dataSrc,N):!function(e,t,n,r,o){b.imageExists(e,function(e){e||i(t,n,r,o)})}(O.src,o,n,O.dataSrc,N)):U&&i(o,n,O.dataSrc,N)}return this}},I={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},M=function(){var e=null,t=null,n=null;return function(i){var r=i.root;if(I.setup.supportsSVG){var o=!1,a=function(e){return document.createTextNode(e)};(null==e||e.parentNode!==document.body)&&(o=!0),e=_.initSVG(e,r.properties.width,r.properties.height),e.style.display="block",o&&(t=S.newEl("text",D),n=a(null),S.setAttr(t,{x:0}),t.appendChild(n),e.appendChild(t),document.body.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%");var s=r.children.holderTextGroup,l=s.properties;S.setAttr(t,{y:l.font.size,style:b.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),n.nodeValue=l.text;var c=t.getBBox(),u=Math.ceil(c.width/(r.properties.width*I.vars.lineWrapRatio)),h=l.text.split(" "),d=l.text.match(/\\n/g);u+=null==d?0:d.length,n.nodeValue=l.text.replace(/[ ]+/g,"");var p=t.getComputedTextLength(),f=c.width-p,m=Math.round(f/Math.max(1,h.length-1)),g=[];if(u>1){n.nodeValue="";for(var v=0;v<h.length;v++)if(0!==h[v].length){n.nodeValue=b.decodeHtmlEntity(h[v]);var y=t.getBBox();g.push({text:h[v],width:y.width})}}return e.style.display="none",{spaceWidth:m,lineCount:u,boundingBox:c,words:g}}return!1}}(),R=function(){var e=S.newEl("canvas"),t=null;return function(n){null==t&&(t=e.getContext("2d"));var i=n.root;e.width=I.dpr(i.properties.width),e.height=I.dpr(i.properties.height),t.textBaseline="middle";var r=i.children.holderBg,o=I.dpr(r.width),a=I.dpr(r.height),s=2,l=s/2;t.fillStyle=r.properties.fill,t.fillRect(0,0,o,a),r.properties.outline&&(t.strokeStyle=r.properties.outline.fill,t.lineWidth=r.properties.outline.width,t.moveTo(l,l),t.lineTo(o-l,l),t.lineTo(o-l,a-l),t.lineTo(l,a-l),t.lineTo(l,l),t.moveTo(0,l),t.lineTo(o,a-l),t.moveTo(0,a-l),t.lineTo(o,l),t.stroke());var c=i.children.holderTextGroup;c.properties;t.font=c.properties.font.weight+" "+I.dpr(c.properties.font.size)+c.properties.font.units+" "+c.properties.font.family+", monospace",t.fillStyle=c.properties.fill;for(var u in c.children){var h=c.children[u];for(var d in h.children){var p=h.children[d],f=I.dpr(c.x+h.x+p.x),m=I.dpr(c.y+h.y+p.y+c.properties.leading/2);t.fillText(p.properties.text,f,m)}}return e.toDataURL("image/png")}}(),N=function(){if(t.XMLSerializer){var e=S.createXML(),n=_.initSVG(null,0,0),i=S.newEl("rect",D);return n.appendChild(i),function(t,r){var o=t.root;_.initSVG(n,o.properties.width,o.properties.height);for(var a=n.querySelectorAll("g"),s=0;s<a.length;s++)a[s].parentNode.removeChild(a[s]);var l=r.holderSettings.flags.holderURL,c="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),u=S.newEl("g",D),h=o.children.holderTextGroup,d=h.properties,p=S.newEl("g",D),f=h.textPositionData,m="#"+c+" text { "+b.cssProps({fill:d.fill,"font-weight":d.font.weight,"font-family":d.font.family+", monospace","font-size":d.font.size+d.font.units})+" } ",g=e.createComment("\nSource URL: "+l+E),v=e.createCDATASection(m),y=n.querySelector("style"),w=o.children.holderBg;if(S.setAttr(u,{id:c}),n.insertBefore(g,n.firstChild),y.appendChild(v),u.appendChild(i),w.properties.outline){var k=S.newEl("path",D),C=w.properties.outline.width,T=C/2;S.setAttr(k,{d:["M",T,T,"H",w.width-T,"V",w.height-T,"H",T,"V",0,"M",0,T,"L",w.width,w.height-T,"M",0,w.height-T,"L",w.width,T].join(" "),"stroke-width":w.properties.outline.width,stroke:w.properties.outline.fill,fill:"none"}),u.appendChild(k)}u.appendChild(p),n.appendChild(u),S.setAttr(i,{width:w.width,height:w.height,fill:w.properties.fill}),h.y+=.8*f.boundingBox.height;for(var x in h.children){var A=h.children[x];for(var I in A.children){var M=A.children[I],R=h.x+A.x+M.x,N=h.y+A.y+M.y,O=S.newEl("text",D),j=document.createTextNode(null);S.setAttr(O,{x:R,y:N}),j.nodeValue=M.properties.text,O.appendChild(j),p.appendChild(O)}}var U=_.svgStringToDataURI(_.serializeSVG(n,r.engineSettings),"background"===r.mode);return U}}}();for(var O in I.flags)I.flags.hasOwnProperty(O)&&(I.flags[O].match=function(e){return e.match(this.regex)});I.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},I.dpr=function(e){return e*I.setup.ratio},I.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var e=1,n=1,i=S.newEl("canvas"),r=null;i.getContext&&-1!=i.toDataURL("image/png").indexOf("data:image/png")&&(I.setup.renderer="canvas",r=i.getContext("2d"),I.setup.supportsCanvas=!0),I.setup.supportsCanvas&&(e=t.devicePixelRatio||1,n=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),I.setup.ratio=e/n,document.createElementNS&&document.createElementNS(D,"svg").createSVGRect&&(I.setup.renderer="svg",I.setup.supportsSVG=!0)}(),p(),v&&v(function(){I.vars.preempted||A.run(),t.addEventListener?(t.addEventListener("resize",g,!1),t.addEventListener("orientationchange",g,!1)):t.attachEvent("onresize",g),"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){A.run()})}),e.exports=A}).call(t,function(){return this}())},function(e,t,n){var i=encodeURIComponent,r=decodeURIComponent,o=n(10),a=n(9),s=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;t.parse=function(e){if("string"!=typeof e)return{};if(e=o(e),""===e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),i=0;i<n.length;i++){var a,c,u,h=n[i].split("="),d=r(h[0]);if(a=s.exec(d))t[a[1]]=t[a[1]]||[],t[a[1]][a[2]]=r(h[1]);else if(a=l.test(d)){for(a=d.split("."),c=t;a.length;)if(u=a.shift(),u.length){if(c[u]){if(c[u]&&"object"!=typeof c[u])break}else c[u]={};a.length||(c[u]=r(h[1])),c=c[u]}}else t[h[0]]=null==h[1]?"":r(h[1])}return t},t.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var r=e[n];if("array"!=a(r))t.push(i(n)+"="+i(e[n]));else for(var o=0;o<r.length;++o)t.push(i(n+"["+o+"]")+"="+i(r[o]))}return t.join("&")}},function(e,t,n){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function i(e){function t(e){if(!_){if(!a.body)return r(t);for(_=!0;e=S.shift();)r(e)}}function n(e){(w||e.type===l||a[d]===h)&&(i(),t())}function i(){w?(a[y](g,n,c),e[y](l,n,c)):(a[f](v,n),e[f](u,n))}function r(e,t){setTimeout(e,+t>=0?t:1)}function o(e){_?r(e):S.push(e)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function C(){document.removeEventListener("DOMContentLoaded",C,!1),document.readyState="complete"},!1),document.readyState="loading");var a=e.document,s=a.documentElement,l="load",c=!1,u="on"+l,h="complete",d="readyState",p="attachEvent",f="detachEvent",m="addEventListener",g="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",w=m in a,b=c,_=c,S=[];if(a[d]===h)r(t);else if(w)a[m](g,n,c),e[m](l,n,c);else{a[p](v,n),e[p](u,n);try{b=null==e.frameElement&&s}catch(k){}b&&b.doScroll&&!function T(){if(!_){try{b.doScroll("left")}catch(e){return r(T,50)}i(),t()}}()}return o.version="1.4.0",o.isReady=function(){return _},o}e.exports="undefined"!=typeof window&&i(window)},function(e,t,n){var i=function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}var n=1,i=function(e){n++,this.parent=null,this.children={},this.id=n,this.name="n"+n,"undefined"!=typeof e&&(this.name=e),this.x=this.y=this.z=0,this.width=this.height=0};i.prototype.resize=function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t)},i.prototype.moveTo=function(e,t,n){this.x=null!=e?e:this.x,this.y=null!=t?t:this.y,this.z=null!=n?n:this.z},i.prototype.add=function(e){var t=e.name;if("undefined"!=typeof this.children[t])throw"SceneGraph: child already exists: "+t;this.children[t]=e,e.parent=this};var r=function(){i.call(this,"root"),this.properties=e};r.prototype=new i;var o=function(e,n){if(i.call(this,e),this.properties={fill:"#000000"},"undefined"!=typeof n)t(this.properties,n);else if("undefined"!=typeof e&&"string"!=typeof e)throw"SceneGraph: invalid node name"};o.prototype=new i;var a=function(){o.apply(this,arguments),this.type="group"};a.prototype=new o;var s=function(){o.apply(this,arguments),this.type="rect"};s.prototype=new o;var l=function(e){o.call(this),this.type="text",this.properties.text=e};l.prototype=new o;var c=new r;return this.Shape={Rect:s,Text:l,Group:a},this.root=c,this};e.exports=i},function(e,t,n){t.extend=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);if(null!=t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},t.cssProps=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]);return t.join(";")},t.encodeHtmlEntity=function(e){for(var t=[],n=0,i=e.length-1;i>=0;i--)n=e.charCodeAt(i),n>128?t.unshift(["&#",n,";"].join("")):t.unshift(e[i]);return t.join("")},t.imageExists=function(e,t){var n=new Image;n.onerror=function(){t.call(this,!1)},n.onload=function(){t.call(this,!0)},n.src=e},t.decodeHtmlEntity=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},t.dimensionCheck=function(e){var t={height:e.clientHeight,width:e.clientWidth};return t.height&&t.width?t:!1},t.truthy=function(e){return"string"==typeof e?"true"===e||"yes"===e||"1"===e||"on"===e||"\u2713"===e:!!e}},function(e,t,n){(function(e){var i=n(7),r="http://www.w3.org/2000/svg",o=8;t.initSVG=function(e,t,n){var a,s,l=!1;e&&e.querySelector?(s=e.querySelector("style"),null===s&&(l=!0)):(e=i.newEl("svg",r),l=!0),l&&(a=i.newEl("defs",r),s=i.newEl("style",r),i.setAttr(s,{type:"text/css"}),a.appendChild(s),e.appendChild(a)),e.webkitMatchesSelector&&e.setAttribute("xmlns",r);for(var c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===o&&e.removeChild(e.childNodes[c]);for(;s.childNodes.length;)s.removeChild(s.childNodes[0]);return i.setAttr(e,{width:t,height:n,viewBox:"0 0 "+t+" "+n,preserveAspectRatio:"none"}),e},t.svgStringToDataURI=function(){var e="data:image/svg+xml;charset=UTF-8,",t="data:image/svg+xml;charset=UTF-8;base64,";return function(n,i){return i?t+btoa(unescape(encodeURIComponent(n))):e+encodeURIComponent(n)}}(),t.serializeSVG=function(t,n){if(e.XMLSerializer){var r=new XMLSerializer,o="",a=n.stylesheets;if(n.svgXMLStylesheet){for(var s=i.createXML(),l=a.length-1;l>=0;l--){var c=s.createProcessingInstruction("xml-stylesheet",'href="'+a[l]+'" rel="stylesheet"');s.insertBefore(c,s.firstChild)}s.removeChild(s.documentElement),o=r.serializeToString(s)}var u=r.serializeToString(t);return u=u.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),o+u}}}).call(t,function(){return this}())},function(e,t,n){(function(e){t.newEl=function(t,n){return e.document?null==n?document.createElement(t):document.createElementNS(n,t):void 0},t.setAttr=function(e,t){for(var n in t)e.setAttribute(n,t[n])},t.createXML=function(){return e.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},t.getNodeArray=function(t){var n=null;return"string"==typeof t?n=document.querySelectorAll(t):e.NodeList&&t instanceof e.NodeList?n=t:e.Node&&t instanceof e.Node?n=[t]:e.HTMLCollection&&t instanceof e.HTMLCollection?n=t:t instanceof Array?n=t:null===t&&(n=[]),n}}).call(t,function(){return this}())},function(e,t,n){function i(e){return this.rgb={},this.yuv={},this.raw=e,this.rgb.r=(16711680&e)>>16,this.rgb.g=(65280&e)>>8,this.rgb.b=255&e,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var r=function(e,t){"string"==typeof e&&("#"===e.charAt(0)&&(e=e.slice(1)),/[^a-f0-9]+/i.test(e)||(3===e.length&&(e=e.replace(/./g,"$&$&")),6===e.length&&(this.alpha=1,t&&(this.alpha=t.alpha||this.alpha),i.call(this,parseInt(e,16)))))};r.rgbToHex=function(e,t,n){return(((0|e)<<16)+((0|t)<<8)+(0|n)).toString(16)},r.prototype.lighten=function(e){var t=this.rgb.r,n=this.rgb.g,i=this.rgb.b,o=255*e|0;return new r(r.rgbToHex(t+o,n+o,i+o))},r.prototype.toHex=function(e){return(e?"#":"")+this.raw.toString(16)},r.prototype.lighterThan=function(e){return e instanceof r||(e=new r(e)),this.yuv.y>e.yuv.y},r.prototype.blendAlpha=function(e){e instanceof r||(e=new r(e));var t=e,n=this,i=t.alpha*t.rgb.r+(1-t.alpha)*n.rgb.r,o=t.alpha*t.rgb.g+(1-t.alpha)*n.rgb.g,a=t.alpha*t.rgb.b+(1-t.alpha)*n.rgb.b;return new r(r.rgbToHex(i,o,a))},e.exports=r},function(e,t,n){var i=Object.prototype.toString;e.exports=function(e){switch(i.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}},function(e,t,n){function i(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=i,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}])}),function(e,t){t&&(Holder=e.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),function(){var e,t,n,i,r,o,a;a=void 0,e=void 0,t={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},r=function(){e=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),e.addListener("place_changed",n)},n=function(){var n,i,r,o,a;o=e.getPlace(),$("#lat").length>0&&$("#lng").length>0&&($("#lat").val(o.geometry.location.lat()),$("#lng").val(o.geometry.location.lng()));for(i in t)document.getElementById(i).value="",document.getElementById(i).disabled=!1;for(r=0;r<o.address_components.length;)n=o.address_components[r].types[0],t[n]&&(a=o.address_components[r][t[n]],document.getElementById(n).value=a),r++},i=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n,i;i={lat:t.coords.latitude,lng:t.coords.longitude},n=new google.maps.Circle({center:i,radius:t.coords.accuracy}),e.setBounds(n.getBounds())})},o=function(){var e,t,n;n={lat:parseFloat($("#lat").val()),lng:parseFloat($("#long").val())},e=new google.maps.Map(document.getElementById("map"),{center:n,zoom:15,scrollwheel:!1}),t=new google.maps.Marker({map:e,position:n})},$(document).ready(function(){return $("#autocomplete").length>0&&r(),$("#map").length>0?o():void 0})}.call(this),function(){var e,t,n,i,r,o,a,s,l;t=55505,e="5fd6485clmp3oogs8gfb43p2uf",s="http://images.travelnow.com",i=function(e){var t,n,i,r;return t=e.getDate(),i=e.getMonth()+1,r=e.getFullYear(),n=[i,t,r].join("/")},a=i(new Date),n=function(){$("#searchDealsForm").on("keyup keypress",function(e){var t;return t=e.keyCode||e.which,13===t?(e.preventDefault(),!1):void 0})},l=function(){$("#searchDealsForm").validate({ignore:".ignore",rules:{autocomplete:"required"},messages:{autocomplete:"Please enter your destination"}})},r=function(n,i,o){var a,l;a=$(".deals-page[data-page='"+o+"']"),a.length>0?(a.show(),$(".deals-page").not(a).hide()):($("div.deals-image").removeClass("lazy"),l="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+t+"&minorRev=28&apiKey="+e+"&locale=en_US&cacheKey="+n+"&cacheLocation="+i+"&supplierType=E",$.ajax({url:l,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(e){var t,n,i,o;return $("#loading").fadeOut("slow"),$(".deals-page").hide(),o=$(".deals-page").length,t=o+1,i=t+1,$("#loadMoreNext").attr("data-cache-key",e.HotelListResponse.cacheKey),$("#loadMoreNext").attr("data-cache-Location",e.HotelListResponse.cacheLocation),n=$("<div class='deals-page' data-page='"+t+"' >"),$.each(e.HotelListResponse.HotelList.HotelSummary,function(e,t){var i,r,o;return o=Math.round(t.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]),r=$('<div class="wrapper-price-deals">'),i=$('<div class="col-xs-6 col-md-4 col-deals">'),i.append($("<div class='price-deals'><strong>$"+o+"</strong></div>")),i.append($("<a href='/deals/"+t.hotelId+"/show?price="+o+"' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+s+t.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),i.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+t.hotelId+"/show?price="+o+"' data-toggle='tooltip' data-placement='top' data-title='"+t.name.toUpperCase()+"' data-no-turbolink='true'>"+t.name.toUpperCase()+"</a></p></div>")),i.append($("<div class='col-md-2'><div class='wrapper-like-deals'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+t.hotelId+"/like' data-remote='true'><span class='icon love-normal' id='like-"+t.hotelId+"'></span></a></p></div></div>")),r.append(i),n.append(r)}),n.append($("<div class='col-md-12'><div class='pull-right'><a class='btn btn-orange loadMoreBack' data-previous-page='"+o+"'><i class='icon previous-loadmore pull-left'></i>&nbsp;&nbsp;Back</a><a class='btn btn-orange loadMoreNext' data-cache-key='"+e.HotelListResponse.cacheKey+"' data-cache-Location='"+e.HotelListResponse.cacheLocation+"' data-next-page='"+i+"' >Next<i class='icon next-loadmore'></i></a></div></div><br><br>")),$("#dealsHotelsList").append(n),$("div.lazy").lazyload({effect:"fadeIn"}),$('[data-toggle="tooltip"]').tooltip(),$(".loadMoreNext[data-next-page='"+i+"']").on("click",function(){return r($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).data("next-page"))}),$(".loadMoreBack[data-previous-page='"+o+"']").on("click",function(){var e,t;return t=$(this).data("previous-page"),e=$(".deals-page[data-page='"+t+"']"),$(".deals-page").not(e).hide(),e.show()})}}))},o=function(){var n,i,o,a,l;o=$("#lat").val(),a=$("#lng").val(),n=$("#search_deals_arrival_date").val(),i=$("#search_deals_departure_date").val(),l="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+t+"&minorRev=28&apiKey="+e+"&locale=en_US&currencyCode=USD&latitude="+o+"&longitude="+a+"&arrivalDate="+n+"&departureDate="+i+"&options=HOTEL_SUMMARY,ROOM_RATE_DETAILS&searchRadius=80&numberOfResults=21",$.ajax({url:l,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(e){var t,o,a,l;return $("#dealsHotelsList").html(""),l=$(".deals-page").length,t=l+1,a=t+1,$("#slideToggleLink").text($("#autocomplete").val().split(",")[0]),o=$("<div class='deals-page' data-page='"+t+"' >"),$.each(e.HotelListResponse.HotelList.HotelSummary,function(e,t){var n,i,r;return r=Math.round(t.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]),i=$('<div class="wrapper-price-deals">'),n=$('<div class="col-xs-6 col-md-4 col-deals">'),n.append($("<div class='price-deals'><strong>$"+r+"</strong></div>")),n.append($("<a href='/deals/"+t.hotelId+"/show?price="+r+"' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+s+t.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),n.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+t.hotelId+"/show?price="+r+"' data-toggle='tooltip' data-placement='top' data-title='"+t.name.toUpperCase()+"' data-no-turbolink='true'>"+t.name.toUpperCase()+"</a></p></div>")),n.append($("<div class='col-md-2'><div class='wrapper-like-deals'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+t.hotelId+"/like' data-remote='true'><span class='icon love-normal' id='like-"+t.hotelId+"'></span></a></p></div></div>")),i.append(n),o.append(i)}),o.append($("<div class='col-md-12'><div class='pull-right'><a class='btn btn-orange loadMoreNext' data-cache-key='"+e.HotelListResponse.cacheKey+"' data-cache-Location='"+e.HotelListResponse.cacheLocation+"' data-next-page='"+a+"' >Next<i class='icon next-loadmore'></i></a></div></div><br><br>")),$("#dealsHotelsList").append(o),n=new Date($("#search_deals_arrival_date").val()),i=new Date($("#search_deals_departure_date").val()),n=[n.getFullYear(),n.getMonth()+1,n.getDate()].join("/"),i=[i.getFullYear(),i.getMonth()+1,i.getDate()].join("/"),$.ajax({url:"/deals/create_destination",type:"POST",data:{destinationString:$("#autocomplete").val(),city:$("#locality").val(),stateProvinceCode:$("#administrative_area_level_1").val(),countryCode:$("#country").val(),lat:$("#lat").val(),lng:$("#lng").val(),arrivalDate:n,departureDate:i},success:function(e){return $("#loading").fadeOut("slow")}}),$("div.lazy").lazyload({effect:"fadeIn"}),$("#collapseDeals").slideToggle(),$('[data-toggle="tooltip"]').tooltip(),$(".loadMoreNext[data-next-page='"+a+"']").on("click",function(){return r($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).data("next-page"))})}})},$(function(){$("input#search_deals_arrival_date").datepicker({startDate:a,autoclose:!0}).on("changeDate",function(e){return $("input#search_deals_departure_date").datepicker("remove"),$("input#search_deals_departure_date").datepicker({startDate:i(e.date),autoclose:!0}),setTimeout(function(){return $("input#search_deals_departure_date").datepicker("show")},100)}),$("input#search_deals_departure_date").datepicker({startDate:a,autoclose:!0})}),$(document).ready(function(){var e;return"/"===window.location.pathname||"/deals"===window.location.pathname||"/deals/"===window.location.pathname?$.get("/deals"):e=window.location.pathname.split("/")[2],n(),l(),$("#slideToggleLink").click(function(){return $("#slideToggle").slideToggle()}),$("div.lazy").length>0&&$("div.lazy").lazyload({effect:"fadeIn"}),$(".loadMoreNext").length>0&&$(".loadMoreNext").on("click",function(){return r($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).attr("data-next-page"))}),$("#btnClearText").length>0&&$("#btnClearText").click(function(){$("input#autocomplete").val("")}),$("#links").length>0?blueimp.Gallery(document.getElementById("links").getElementsByTagName("a"),{container:"#blueimp-gallery-carousel",carousel:!0}):void 0})}.call(this);