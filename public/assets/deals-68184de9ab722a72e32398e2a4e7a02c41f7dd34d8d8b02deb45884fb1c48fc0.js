/*
 * blueimp Gallery JS 2.11.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Swipe implementation based on
 * https://github.com/bradbirdsall/Swipe
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(t){"use strict";function e(t,i){return t&&t.length&&void 0!==document.body.style.maxHeight?this&&this.options===e.prototype.options?(this.list=t,this.num=t.length,this.initOptions(i),void this.initialize()):new e(t,i):!1}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},support:function(e){var i,n,a,s={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},o={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},r=function(){document.body.appendChild(e),n&&(i=n.name.slice(0,-9)+"ransform",void 0!==e.style[i]&&(e.style[i]="translateZ(0)",a=window.getComputedStyle(e).getPropertyValue(n.prefix+"transform"),s.transform={prefix:n.prefix,name:i,translate:!0,translateZ:!!a&&"none"!==a})),void 0!==e.style.backgroundSize&&(s.backgroundSize={},e.style.backgroundSize="contain",s.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",s.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)};for(i in o)if(o.hasOwnProperty(i)&&void 0!==e.style[i]){n=o[i],n.name=i,s.transition=n;break}return document.body?r():t(document).on("DOMContentLoaded",r),s}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(t,e){window.clearTimeout(this.timeout);var i,n,a,s=this.index;if(s!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transition){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(s-t)/(s-t),this.options.continuous&&(n=i,i=-this.positions[this.circle(t)]/this.slideWidth,i!==n&&(t=-i*this.num+t)),a=Math.abs(s-t)-1;a;)a-=1,this.move(this.circle((t>s?t:s)-a-1),this.slideWidth*i,0);t=this.circle(t),this.move(s,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-(this.slideWidth*i),0)}else t=this.circle(t),this.animate(s*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this,e=function(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,e),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,n){var a=this.slides[t].style,s=this.support.transition,o=this.support.transform;a[s.name+"Duration"]=n+"ms",a[o.name]="translate("+e+"px, "+i+"px)"+(o.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(!i)return void(this.slidesContainer[0].style.left=e+"px");var n=this,a=(new Date).getTime(),s=window.setInterval(function(){var o=(new Date).getTime()-a;return o>i?(n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(s)):void(n.slidesContainer[0].style.left=(e-t)*(Math.floor(o/i*100)/100)+t+"px")},4)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,n=e.relatedTarget;(!n||n!==i&&!t.contains(i,n))&&this.onmouseup(e)}},ontouchstart:function(t){var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){var e,i,n=(t.originalEvent||t).touches[0],a=(t.originalEvent||t).scale,s=this.index;if(!(n.length>1||a&&1!==a))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(s,this.touchDelta.y+this.positions[s],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(s+1),s,this.circle(s-1)]:(this.touchDelta.x=e/=!s&&e>0||s===this.num-1&&0>e?Math.abs(e)/this.slideWidth+1:1,i=[s],s&&i.push(s-1),s<this.num-1&&i.unshift(s+1));i.length;)s=i.pop(),this.translateX(s,e+this.positions[s],0)},ontouchend:function(){var t,e,i,n,a,s=this.index,o=this.options.transitionSpeed,r=this.slideWidth,l=Number(Date.now()-this.touchStart.time)<250,h=l&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>r/2,c=!s&&this.touchDelta.x>0||s===this.num-1&&this.touchDelta.x<0,d=!h&&this.options.closeOnSwipeUpOrDown&&(l&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(c=!1),t=this.touchDelta.x<0?-1:1,this.isScrolling?d?this.close():this.translateY(s,0,o):h&&!c?(e=s+t,i=s-t,n=r*t,a=-r*t,this.options.continuous?(this.move(this.circle(e),n,0),this.move(this.circle(s-2*t),a,0)):e>=0&&e<this.num&&this.move(e,n,0),this.move(s,this.positions[s]+n,o),this.move(this.circle(i),this.positions[this.circle(i)]+n,o),s=this.circle(i),this.onslide(s)):this.options.continuous?(this.move(this.circle(s-1),-r,o),this.move(s,0,o),this.move(this.circle(s+1),r,o)):(s&&this.move(s-1,-r,o),this.move(s,0,o),s<this.num-1&&this.move(s+1,r,o))},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,n=e.target||e.srcElement,a=n&&n.parentNode;n&&a&&(i=this.getNodeIndex(a),t(a).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(a).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===a&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,a]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){var i=this.options,n=e.target||e.srcElement,a=n.parentNode,s=function(e){return t(n).hasClass(e)||t(a).hasClass(e)};a===this.slidesContainer[0]?(this.preventDefault(e),i.closeOnSlideClick?this.close():this.toggleControls()):a.parentNode&&a.parentNode===this.slidesContainer[0]?(this.preventDefault(e),this.toggleControls()):s(i.toggleClass)?(this.preventDefault(e),this.toggleControls()):s(i.prevClass)?(this.preventDefault(e),this.prev()):s(i.nextClass)?(this.preventDefault(e),this.next()):s(i.closeClass)?(this.preventDefault(e),this.close()):s(i.playPauseClass)&&(this.preventDefault(e),this.toggleSlideshow())},onclick:function(t){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(t)},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var n=this;return t&&window.setTimeout(function(){t.apply(n,e||[])},i||0)},imageFactory:function(e,i){var n,a,s,o=this,r=this.imagePrototype.cloneNode(!1),l=e,h=this.options.stretchImages,c=function(e){if(!n){if(e={type:e.type,target:a},!a.parentNode)return o.setTimeout(c,[e]);n=!0,t(r).off("load error",c),h&&"load"===e.type&&(a.style.background='url("'+l+'") center no-repeat',a.style.backgroundSize=h),i(e)}};return"string"!=typeof l&&(l=this.getItemProperty(e,this.options.urlProperty),s=this.getItemProperty(e,this.options.titleProperty)),h===!0&&(h="contain"),h=this.support.backgroundSize&&this.support.backgroundSize[h]&&h,h?a=this.elementPrototype.cloneNode(!1):(a=r,r.draggable=!1),s&&(a.title=s),t(r).on("load error",c),r.src=l,a},createElement:function(e,i){var n=e&&this.getItemProperty(e,this.options.typeProperty),a=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,s=e&&a.call(this,e,i);return s||(s=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:s}])),t(s).addClass(this.options.slideContentClass),s},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),n=t;for(e=0;i>e;e+=1)n+=e*(e%2===0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(t){var e,i,n;for(e in this.elements)this.elements.hasOwnProperty(e)&&(n=Math.abs(t-e),n>this.options.preloadRange&&n+this.options.preloadRange<this.num&&(i=this.slides[e],i.removeChild(i.firstChild),delete this.elements[e]))},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transition&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,n;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transition||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,n,a,s){var o=s||i||n||a&&parseInt(a,10);e&&t&&(t=t[o])}),t},getDataProperty:function(e,i){if(e.getAttribute){var n=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof n){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(n))try{return t.parseJSON(n)}catch(a){}return n}}},getItemProperty:function(t,e){var i=t[e];return void 0===i&&(i=this.getDataProperty(t,e),void 0===i&&(i=this.getNestedProperty(t,e))),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){var e=this,i=this.slidesContainer,n=function(t){var i=e.support.transition&&e.support.transition.end===t.type?"transitionend":t.type;e["on"+i](t)};t(window).on("resize",n),t(document.body).on("keydown",n),this.container.on("click",n),this.support.touch?i.on("touchstart touchmove touchend",n):this.options.emulateTouchEvents&&this.support.transition&&i.on("mousedown mousemove mouseup mouseout",n),this.support.transition&&i.on(this.support.transition.end,n),this.proxyListener=n},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this,i=function(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleOpen())};return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,i):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):!1):!1},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||e.carousel!==!1))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),/*
 * blueimp Gallery Indicator JS 1.1.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=e.prototype.initSlides,n=e.prototype.addSlide,a=e.prototype.resetSlides,s=e.prototype.handleClick,o=e.prototype.handleSlide,r=e.prototype.handleClose;return t.extend(e.prototype,{createIndicator:function(e){var i,n,a=this.indicatorPrototype.cloneNode(!1),s=this.getItemProperty(e,this.options.titleProperty),o=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(n=e.getElementsByTagName&&t(e).find("img")[0],n?i=n.src:o&&(i=this.getItemProperty(e,o)),i&&(a.style.backgroundImage='url("'+i+'")')),s&&(a.title=s),a},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){n.call(this,t),this.addIndicator(t)},resetSlides:function(){a.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return s.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t){o.call(this,t),this.setActiveIndicator(t)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),r.call(this)}}),e}),/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(t,e,i,n){var a=t(e);t.fn.lazyload=function(s){function o(){var e=0;l.each(function(){var i=t(this);if(!h.skip_invisible||i.is(":visible"))if(t.abovethetop(this,h)||t.leftofbegin(this,h));else if(t.belowthefold(this,h)||t.rightoffold(this,h)){if(++e>h.failure_limit)return!1}else i.trigger("appear"),e=0})}var r,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return s&&(n!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),n!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),t.extend(h,s)),r=h.container===n||h.container===e?a:t(h.container),0===h.event.indexOf("scroll")&&r.bind(h.event,function(){return o()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var n=l.length;h.appear.call(e,n,h)}t("<img />").bind("load",function(){var n=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[h.effect](h.effect_speed),e.loaded=!0;var a=t.grep(l,function(t){return!t.loaded});if(l=t(a),h.load){var s=l.length;h.load.call(e,s,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){e.loaded||i.trigger("appear")})}),a.bind("resize",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){o()}),this},t.belowthefold=function(i,s){var o;return o=s.container===n||s.container===e?(e.innerHeight?e.innerHeight:a.height())+a.scrollTop():t(s.container).offset().top+t(s.container).height(),o<=t(i).offset().top-s.threshold},t.rightoffold=function(i,s){var o;return o=s.container===n||s.container===e?a.width()+a.scrollLeft():t(s.container).offset().left+t(s.container).width(),o<=t(i).offset().left-s.threshold},t.abovethetop=function(i,s){var o;return o=s.container===n||s.container===e?a.scrollTop():t(s.container).offset().top,o>=t(i).offset().top+s.threshold+t(i).height()},t.leftofbegin=function(i,s){var o;return o=s.container===n||s.container===e?a.scrollLeft():t(s.container).offset().left,o>=t(i).offset().left+s.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function s(t){return function(){return this[t].apply(this,arguments)}}function o(e,i){function n(t,e){return e.toLowerCase()}var a,s=t(e).data(),o={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(a=l.replace(r,n),o[a]=s[l]);return o}function r(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var n=g[e];return t.each(f,function(t,e){e in n&&(i[e]=n[e])}),i}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(a){this._o=t.extend({},this._o,a);var s=this.o=t.extend({},this._o),o=s.language;switch(g[o]||(o=o.split("-")[0],g[o]||(o=p.language)),s.language=o,s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year":s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}s.startView=Math.max(s.startView,s.minViewMode),s.multidate!==!0&&(s.multidate=Number(s.multidate)||!1,s.multidate!==!1&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var r=m.parseFormat(s.format);if(s.startDate!==-(1/0)&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=m.parseDate(s.startDate,r,s.language):s.startDate=-(1/0)),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=m.parseDate(s.endDate,r,s.language):s.endDate=1/0),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],t.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=t.map(s.daysOfWeekDisabled,function(t){return parseInt(t,10)}),s.datesDisabled=s.datesDisabled||[],!t.isArray(s.datesDisabled)){var l=[];l.push(m.parseDate(s.datesDisabled,r,s.language)),s.datesDisabled=l}s.datesDisabled=t.map(s.datesDisabled,function(t){return m.parseDate(t,r,s.language)});var h=String(s.orientation).toLowerCase().split(/\s+/g),c=s.orientation.toLowerCase();if(h=t.grep(h,function(t){return/^auto|left|right|top|bottom$/.test(t)}),s.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===h.length)switch(h[0]){case"top":case"bottom":s.orientation.y=h[0];break;case"left":case"right":s.orientation.x=h[0]}else c=t.grep(h,function(t){return/^left|right$/.test(t)}),s.orientation.x=c[0]||"auto",c=t.grep(h,function(t){return/^top|bottom$/.test(t)}),s.orientation.y=c[0]||"auto";else;if(s.defaultViewDate){var d=s.defaultViewDate.year||(new Date).getFullYear(),u=s.defaultViewDate.month||0,f=s.defaultViewDate.day||1;s.defaultViewDate=i(d,u,f)}else s.defaultViewDate=n();s.showOnFocus=s.showOnFocus!==e?s.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,a,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(n=e,a=t[s][1]):3===t[s].length&&(n=t[s][1],a=t[s][2]),i.on(a,n)},_unapplyEvents:function(t){for(var i,n,a,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(a=e,n=t[s][1]):3===t[s].length&&(a=t[s][1],n=t[s][2]),i.off(n,a)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),a=this._utc_to_local(n);this.element.trigger({type:e,date:a,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,a=t(this.o.container).width(),s=t(this.o.container).height(),o=t(this.o.container).scrollTop(),r=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var h=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-r.left,f=c.top-r.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-u)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-n):p+e>a?(this.picker.addClass("datepicker-orient-right"),p=c.left+u-e):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-o+f-i,m=o+s-(f+d+i),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=d:f-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=a-(p+u);this.picker.css({top:f,right:y,zIndex:h})}else this.picker.css({top:f,left:p,zIndex:h});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var i='<th class="cw">&#160;</th>';e+=i}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>s)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,a=new Date(this.viewDate),s=a.getUTCFullYear(),o=a.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=g[this.o.language].today||g.en.today||"",u=g[this.o.language].clear||g.en.clear||"";if(!isNaN(s)&&!isNaN(o)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[o]+" "+s),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(u).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=i(s,o-1,28),f=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,w=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),C=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),D=new Date(Number(D=i(C.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864e5),k=(C-D)/864e5/7+1;w.push('<td class="cw">'+k+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==t.noop){var x=this.o.beforeShowDay(this._utc_to_local(p));x===e?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&y.push("disabled"),x.classes&&(y=y.concat(x.classes.split(/\s+/))),x.tooltip&&(n=x.tooltip)}y=t.unique(y),w.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+p.getUTCDate()+"</td>"),n=null,p.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var _=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&_.eq(e.getUTCMonth()).addClass("active")}),(r>s||s>h)&&_.addClass("disabled"),s===r&&_.slice(0,l).addClass("disabled"),s===h&&_.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var T=this;t.each(_,function(e,i){if(!t(i).hasClass("disabled")){var n=new Date(s,e,1),a=T.o.beforeShowMonth(n);a===!1&&t(i).addClass("disabled")}})}w="",s=10*parseInt(s/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var A,E=t.map(this.dates,function(t){return t.getUTCFullYear()}),M=-1;11>M;M++)A=["year"],-1===M?A.push("old"):10===M&&A.push("new"),-1!==t.inArray(s,E)&&A.push("active"),(r>s||s>h)&&A.push("disabled"),w+='<span class="'+A.join(" ")+'">'+s+"</span>",s+=1;S.html(w)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var n,a,s,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=m.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":this.clearDates()}break;case"span":o.hasClass("disabled")||(this.viewDate.setUTCDate(1),o.hasClass("month")?(s=1,a=o.parent().find("span").index(o),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,a,s))):(s=1,a=0,n=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,a,s))),this.showMode(-1),this.fill());break;case"td":o.hasClass("day")&&!o.hasClass("disabled")&&(s=parseInt(o.text(),10)||1,n=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),o.hasClass("old")?0===a?(a=11,n-=1):a-=1:o.hasClass("new")&&(11===a?(a=0,n+=1):a+=1),this._setDate(i(n,a,s)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var n,a,s=new Date(t.valueOf()),o=s.getUTCDate(),r=s.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)a=-1===i?function(){return s.getUTCMonth()===r}:function(){return s.getUTCMonth()!==n},n=r+i,s.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var h=0;l>h;h++)s=this.moveMonth(s,i);n=s.getUTCMonth(),s.setUTCDate(o),a=function(){return n!==s.getUTCMonth()}}for(;a();)s.setUTCDate(--o),s.setUTCMonth(n);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(27===t.keyCode&&this.show());var e,i,a,s=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),a=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),a=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+e),a=new Date(o),a.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),a=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),a=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*e),a=new Date(o),a.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),s=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(s){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,u.call(t(this.inputs),i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),n=i.getUTCDate(),a=t.inArray(e.target,this.inputs),s=a-1,o=a+1,r=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[s])for(;s>=0&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[o])for(;r>o&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker,u=function(i){var n=Array.apply(null,arguments);n.shift();var a;return this.each(function(){var s=t(this),l=s.data("datepicker"),d="object"==typeof i&&i;if(!l){var u=o(this,"date"),f=t.extend({},p,u,d),g=r(f.language),m=t.extend({},p,g,u,d);if(s.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",l=new c(this,t.extend(m,v)))}else s.data("datepicker",l=new h(this,m))}return"string"==typeof i&&"function"==typeof l[i]&&(a=l[i].apply(l,n),a!==e)?!1:void 0}),a!==e?a:this};t.fn.datepicker=u;var p=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(n,a,s){function o(){var t=this.slice(0,u[c].length),e=u[c].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;"string"==typeof a&&(a=m.parseFormat(a));var r,l,c,d=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,c=0;c<u.length;c++)switch(r=d.exec(u[c]),l=parseInt(r[1]),r[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=h.prototype.moveMonth.call(h.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=h.prototype.moveYear.call(h.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}u=n&&n.match(this.nonpunctuation)||[],n=new Date;var p,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var b=a.parts.slice();if(u.length!==b.length&&(b=t(b).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),u.length===b.length){var C;for(c=0,C=b.length;C>c;c++){if(p=parseInt(u[c],10),r=b[c],isNaN(p))switch(r){case"MM":f=t(g[s].months).filter(o),p=t.inArray(f[0],g[s].months)+1;break;case"M":f=t(g[s].monthsShort).filter(o),p=t.inArray(f[0],g[s].monthsShort)+1}v[r]=p}var D,k;for(c=0;c<y.length;c++)k=y[c],k in v&&!isNaN(v[k])&&(D=new Date(n),w[k](D,v[k]),isNaN(D)||(n=D))}return n},formatDate:function(e,i,n){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var a={d:e.getUTCDate(),D:g[n].daysShort[e.getUTCDay()],DD:g[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[n].monthsShort[e.getUTCMonth()],MM:g[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var s=t.extend([],i.separators),o=0,r=i.parts.length;r>=o;o++)s.length&&e.push(s.shift()),e.push(a[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.4.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),u.call(i,"show"))}),t(function(){u.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,a=e.createElement("style"),s=[];for(e.documentElement.firstChild.appendChild(a),e._qsa=[],a.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),a.parentNode.removeChild(a);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),s.push(n);return e._qsa=null,s}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,a=[],s=0,o=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),s=s<<6|i,o+=6,24===o&&(a.push(String.fromCharCode(s>>16&255)),a.push(String.fromCharCode(s>>8&255)),a.push(String.fromCharCode(255&s)),o=0,s=0),n+=1;return 12===o?(s>>=4,a.push(String.fromCharCode(255&s))):18===o&&(s>>=2,a.push(String.fromCharCode(s>>8&255)),a.push(String.fromCharCode(255&s))),a.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,a,s,o,r,l,h=0,c=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),a=t.charCodeAt(h++),s=i>>2,o=(3&i)<<4|n>>4,r=(15&n)<<2|a>>6,l=63&a,h===t.length+2?(r=64,l=64):h===t.length+1&&(l=64),c.push(e.charAt(s),e.charAt(o),e.charAt(r),e.charAt(l));return c.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var s=a(i.substr(i.lastIndexOf(t.domain)),t);s&&o({mode:null,el:n,flags:s,engineSettings:e})}function a(t,e){var i={theme:x(M.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return s(t,i)}function s(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var a=n[1],s=a.match(/([\d]+p?)x([\d]+p?)/);if(!s)return!1;if(e.fluid=-1!==a.indexOf("p"),e.dimensions={width:s[1].replace("p","%"),height:s[2].replace("p","%")},2===i.length){var o=y.parse(i[1]);if(o.bg&&(e.theme.background=(-1===o.bg.indexOf("#")?"#":"")+o.bg),o.fg&&(e.theme.foreground=(-1===o.fg.indexOf("#")?"#":"")+o.fg),o.bg&&!o.fg&&(e.autoFg=!0),o.theme&&e.instanceOptions.themes.hasOwnProperty(o.theme)&&(e.theme=x(e.instanceOptions.themes[o.theme],null)),o.text&&(e.text=o.text),o.textmode&&(e.textmode=o.textmode),o.size&&(e.size=o.size),o.font&&(e.font=o.font),o.align&&(e.align=o.align),e.nowrap=b.truthy(o.nowrap),e.auto=b.truthy(o.auto),e.outline=b.truthy(o.outline),b.truthy(o.random)){M.vars.cache.themeKeys=M.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var r=M.vars.cache.themeKeys[0|Math.random()*M.vars.cache.themeKeys.length];e.theme=x(e.instanceOptions.themes[r],null)}}return e}function o(t){var e=t.mode,i=t.el,n=t.flags,a=t.engineSettings,s=n.dimensions,o=n.theme,l=s.width+"x"+s.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(o.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=o.text.split("\\n"),u=0;u<h.length;u++)h[u]=b.encodeHtmlEntity(h[u]);o.text=h.join("\\n")}var p=n.holderURL,f=x(a,null);if(n.font&&(o.font=n.font,!f.noFontFallback&&"img"===i.nodeName.toLowerCase()&&M.setup.supportsCanvas&&"svg"===f.renderer&&(f=x(f,{renderer:"canvas"}))),n.font&&"canvas"==f.renderer&&(f.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&D.setAttr(i,{"data-background-src":p});else{var g={};g[M.vars.dataAttr]=p,D.setAttr(i,g)}n.theme=o,i.holderData={flags:n,engineSettings:f},("image"==e||"fluid"==e)&&D.setAttr(i,{alt:o.text?o.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:s,theme:o,flags:n},engineSettings:f};"image"==e?("html"!=f.renderer&&n.auto||(i.style.width=s.width+"px",i.style.height=s.height+"px"),"html"==f.renderer?i.style.backgroundColor=o.background:(r(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,M.vars.resizableImages.push(i),c(i)))):"background"==e&&"html"!=f.renderer?r(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==s.height.slice(-1)?i.style.height=s.height:null!=n.auto&&n.auto||(i.style.height=s.height+"px"),"%"==s.width.slice(-1)?i.style.width=s.width:null!=n.auto&&n.auto||(i.style.width=s.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),d(i),"html"==f.renderer?i.style.backgroundColor=o.background:(M.vars.resizableImages.push(i),c(i)))}function r(t){function i(){var e=null;switch(r.renderer){case"canvas":e=I(c,t);break;case"svg":e=F(c,t);break;default:throw"Holder: invalid renderer: "+r.renderer}return e}var n=null,a=t.mode,s=t.el,o=t.holderSettings,r=t.engineSettings;switch(r.renderer){case"svg":if(!M.setup.supportsSVG)return;break;case"canvas":if(!M.setup.supportsCanvas)return;break;default:return}var h={width:o.dimensions.width,height:o.dimensions.height,theme:o.theme,flags:o.flags},c=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==a?(s.style.backgroundImage="url("+n+")",s.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===s.nodeName.toLowerCase()?D.setAttr(s,{src:n}):"object"===s.nodeName.toLowerCase()&&(D.setAttr(s,{data:n}),D.setAttr(s,{type:"image/svg+xml"})),r.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===s.nodeName.toLowerCase()?D.setAttr(s,{src:t}):"object"===s.nodeName.toLowerCase()&&(D.setAttr(s,{data:t}),D.setAttr(s,{type:"image/svg+xml"}))},150)),D.setAttr(s,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=M.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:M.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new w({width:t.width,height:t.height}),a=n.Shape,s=new a.Rect("holderBg",{fill:t.theme.background});if(s.resize(t.width,t.height),n.root.add(s),t.flags.outline){var o=new k(s.properties.fill);o=o.lighten(o.lighterThan("7f7f7f")?-.1:.1),s.properties.outline={fill:o.toHex(!0),width:2}}var r=t.theme.foreground;if(t.flags.autoFg){var l=new k(s.properties.fill),c=new k("fff"),d=new k("000",{alpha:.285714});r=l.blendAlpha(l.lighterThan("7f7f7f")?d:c).toHex(!0)}var u=new a.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:r});u.moveTo(null,null,1),n.root.add(u);var p=u.textPositionData=O(n);if(!p)throw"Holder: staging fallback not supported yet.";u.properties.leading=p.boundingBox.height;var f=null,g=null,m=t.width*M.vars.lineWrapRatio,v=m;if(p.lineCount>1){var y,b=0,C=0,D=0;g=new a.Group("line"+D),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-M.vars.lineWrapRatio)));for(var x=0;x<p.words.length;x++){var _=p.words[x];f=new a.Text(_.text);var T="\\n"==_.text;!t.noWrap&&(b+_.width>=v||T===!0)&&(e(u,g,b,u.properties.leading),u.add(g),b=0,C+=u.properties.leading,D+=1,g=new a.Group("line"+D),g.y=C),T!==!0&&(f.moveTo(b,0),b+=p.spaceWidth+_.width,g.add(f))}if(e(u,g,b,u.properties.leading),u.add(g),"left"===t.align)u.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in u.children)g=u.children[y],g.moveTo(t.width-g.width,null,null);u.moveTo(0-(t.width-m),null,null)}else{for(y in u.children)g=u.children[y],g.moveTo((u.width-g.width)/2,null,null);u.moveTo((t.width-u.width)/2,null,null)}u.moveTo(null,(t.height-u.height)/2,null),(t.height-u.height)/2<0&&u.moveTo(null,0,null)}else f=new a.Text(t.text),g=new a.Group("line0"),g.add(f),u.add(g),"left"===t.align?u.moveTo(t.width-m,null,null):"right"===t.align?u.moveTo(0-(t.width-m),null,null):u.moveTo((t.width-p.boundingBox.width)/2,null,null),u.moveTo(null,(t.height-p.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),a=parseInt(e,10),s=Math.max(n,a),o=Math.min(n,a),r=.8*Math.min(o,s*M.defaults.scale);return Math.round(Math.max(i,r))}function c(t){var e;e=null==t||null==t.nodeType?M.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var a=e[i];if(a.holderData){var s=a.holderData.flags,o=_(a);if(o){if(!a.holderData.resizeUpdate)continue;if(s.fluid&&s.auto){var l=a.holderData.fluidConfig;switch(l.mode){case"width":o.height=o.width/l.ratio;break;case"height":o.width=o.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:o,theme:s.theme,flags:s},el:a,engineSettings:a.holderData.engineSettings};"exact"==s.textmode&&(s.exactDimensions=o,h.holderSettings.dimensions=s.dimensions),r(h)}else f(a)}}}function d(t){if(t.holderData){var e=_(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else f(t)}}function u(){for(var t,i=[],n=Object.keys(M.vars.invisibleImages),a=0,s=n.length;s>a;a++)t=M.vars.invisibleImages[n[a]],_(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete M.vars.invisibleImages[n[a]]);i.length&&E.run({images:i}),e.requestAnimationFrame(u)}function p(){M.vars.visibilityCheckStarted||(e.requestAnimationFrame(u),M.vars.visibilityCheckStarted=!0)}function f(t){t.holderData.invisibleId||(M.vars.invisibleId+=1,M.vars.invisibleImages["i"+M.vars.invisibleId]=t,t.holderData.invisibleId=M.vars.invisibleId)}function g(t){M.vars.debounceTimer||t.call(this),M.vars.debounceTimer&&e.clearTimeout(M.vars.debounceTimer),M.vars.debounceTimer=e.setTimeout(function(){M.vars.debounceTimer=null,t.call(this)},M.setup.debounce)}function m(){g(function(){c(null)})}var v=i(3),y=i(2),w=i(4),b=i(5),C=i(6),D=i(7),k=i(8),x=b.extend,_=b.dimensionCheck,T="http://www.w3.org/2000/svg",S="2.8.0",A="\nCreated with Holder.js "+S+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",E={version:S,addTheme:function(t,e){return null!=t&&null!=e&&(M.settings.themes[t]=e),delete M.vars.cache.themeKeys,this},addImage:function(t,e){var i=D.getNodeArray(e);if(i.length)for(var n=0,a=i.length;a>n;n++){var s=D.newEl("img"),o={};o[M.setup.dataAttr]=t,D.setAttr(s,o),i[n].appendChild(s)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&c(t))},run:function(t){t=t||{};var i={},s=x(M.settings,t);M.vars.preempted=!0,M.vars.dataAttr=s.dataAttr||M.setup.dataAttr,M.vars.lineWrapRatio=s.lineWrapRatio||M.setup.lineWrapRatio,i.renderer=s.renderer?s.renderer:M.setup.renderer,-1===M.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=M.setup.supportsSVG?"svg":M.setup.supportsCanvas?"canvas":"html");var r=D.getNodeArray(s.images),l=D.getNodeArray(s.bgnodes),h=D.getNodeArray(s.stylenodes),c=D.getNodeArray(s.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=s.noFontFallback?s.noFontFallback:!1;for(var d=0;d<h.length;d++){var u=h[d];if(u.attributes.rel&&u.attributes.href&&"stylesheet"==u.attributes.rel.value){var p=u.attributes.href.value,f=D.newEl("a");f.href=p;var g=f.protocol+"//"+f.host+f.pathname+f.search;i.stylesheets.push(g)}}for(d=0;d<l.length;d++)if(e.getComputedStyle){var m=e.getComputedStyle(l[d],null).getPropertyValue("background-image"),v=l[d].getAttribute("data-background-src"),y=v||m,w=null,C="?"+s.domain+"/";if(0===y.indexOf(C))w=y.slice(1);else if(-1!=y.indexOf(C)){var k=y.substr(y.indexOf(C)).slice(1),_=k.match(/([^\"]*)"?\)/);null!=_&&(w=_[1])}if(null!=w){var T=a(w,s);T&&o({mode:"background",el:l[d],flags:T,engineSettings:i})}}for(d=0;d<c.length;d++){var S=c[d],A={};try{A.data=S.getAttribute("data"),A.dataSrc=S.getAttribute(M.vars.dataAttr)}catch(E){}var O=null!=A.data&&0===A.data.indexOf(s.domain),I=null!=A.dataSrc&&0===A.dataSrc.indexOf(s.domain);O?n(s,i,A.data,S):I&&n(s,i,A.dataSrc,S)}for(d=0;d<r.length;d++){var F=r[d],U={};try{U.src=F.getAttribute("src"),U.dataSrc=F.getAttribute(M.vars.dataAttr),U.rendered=F.getAttribute("data-holder-rendered")}catch(E){}var $=null!=U.src,N=null!=U.dataSrc&&0===U.dataSrc.indexOf(s.domain),R=null!=U.rendered&&"true"==U.rendered;$?0===U.src.indexOf(s.domain)?n(s,i,U.src,F):N&&(R?n(s,i,U.dataSrc,F):!function(t,e,i,a,s){b.imageExists(t,function(t){t||n(e,i,a,s)})}(U.src,s,i,U.dataSrc,F)):N&&n(s,i,U.dataSrc,F)}return this}},M={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},O=function(){var t=null,e=null,i=null;return function(n){var a=n.root;if(M.setup.supportsSVG){var s=!1,o=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(s=!0),t=C.initSVG(t,a.properties.width,a.properties.height),t.style.display="block",s&&(e=D.newEl("text",T),i=o(null),D.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var r=a.children.holderTextGroup,l=r.properties;D.setAttr(e,{y:l.font.size,style:b.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),c=Math.ceil(h.width/(a.properties.width*M.vars.lineWrapRatio)),d=l.text.split(" "),u=l.text.match(/\\n/g);c+=null==u?0:u.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var p=e.getComputedTextLength(),f=h.width-p,g=Math.round(f/Math.max(1,d.length-1)),m=[];if(c>1){i.nodeValue="";for(var v=0;v<d.length;v++)if(0!==d[v].length){i.nodeValue=b.decodeHtmlEntity(d[v]);var y=e.getBBox();m.push({text:d[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:c,boundingBox:h,words:m}}return!1}}(),I=function(){var t=D.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=M.dpr(n.properties.width),t.height=M.dpr(n.properties.height),e.textBaseline="middle";var a=n.children.holderBg,s=M.dpr(a.width),o=M.dpr(a.height),r=2,l=r/2;e.fillStyle=a.properties.fill,e.fillRect(0,0,s,o),a.properties.outline&&(e.strokeStyle=a.properties.outline.fill,e.lineWidth=a.properties.outline.width,e.moveTo(l,l),e.lineTo(s-l,l),e.lineTo(s-l,o-l),e.lineTo(l,o-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(s,o-l),e.moveTo(0,o-l),e.lineTo(s,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+M.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var c in h.children){var d=h.children[c];for(var u in d.children){var p=d.children[u],f=M.dpr(h.x+d.x+p.x),g=M.dpr(h.y+d.y+p.y+h.properties.leading/2);e.fillText(p.properties.text,f,g)}}return t.toDataURL("image/png")}}(),F=function(){if(e.XMLSerializer){var t=D.createXML(),i=C.initSVG(null,0,0),n=D.newEl("rect",T);return i.appendChild(n),function(e,a){var s=e.root;C.initSVG(i,s.properties.width,s.properties.height);for(var o=i.querySelectorAll("g"),r=0;r<o.length;r++)o[r].parentNode.removeChild(o[r]);var l=a.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),c=D.newEl("g",T),d=s.children.holderTextGroup,u=d.properties,p=D.newEl("g",T),f=d.textPositionData,g="#"+h+" text { "+b.cssProps({fill:u.fill,"font-weight":u.font.weight,"font-family":u.font.family+", monospace","font-size":u.font.size+u.font.units})+" } ",m=t.createComment("\nSource URL: "+l+A),v=t.createCDATASection(g),y=i.querySelector("style"),w=s.children.holderBg;if(D.setAttr(c,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),c.appendChild(n),w.properties.outline){var k=D.newEl("path",T),x=w.properties.outline.width,_=x/2;D.setAttr(k,{d:["M",_,_,"H",w.width-_,"V",w.height-_,"H",_,"V",0,"M",0,_,"L",w.width,w.height-_,"M",0,w.height-_,"L",w.width,_].join(" "),"stroke-width":w.properties.outline.width,stroke:w.properties.outline.fill,fill:"none"}),c.appendChild(k)}c.appendChild(p),i.appendChild(c),D.setAttr(n,{width:w.width,height:w.height,fill:w.properties.fill}),d.y+=.8*f.boundingBox.height;for(var S in d.children){var E=d.children[S];for(var M in E.children){var O=E.children[M],I=d.x+E.x+O.x,F=d.y+E.y+O.y,U=D.newEl("text",T),$=document.createTextNode(null);D.setAttr(U,{x:I,y:F}),$.nodeValue=O.properties.text,U.appendChild($),p.appendChild(U)}}var N=C.svgStringToDataURI(C.serializeSVG(i,a.engineSettings),"background"===a.mode);return N}}}();for(var U in M.flags)M.flags.hasOwnProperty(U)&&(M.flags[U].match=function(t){return t.match(this.regex)});M.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},M.dpr=function(t){return t*M.setup.ratio},M.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=D.newEl("canvas"),a=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(M.setup.renderer="canvas",a=n.getContext("2d"),M.setup.supportsCanvas=!0),M.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),M.setup.ratio=t/i,document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(M.setup.renderer="svg",M.setup.supportsSVG=!0)}(),p(),v&&v(function(){M.vars.preempted||E.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){E.run()})}),t.exports=E}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,a=decodeURIComponent,s=i(10),o=i(9),r=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=s(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var o,h,c,d=i[n].split("="),u=a(d[0]);if(o=r.exec(u))e[o[1]]=e[o[1]]||[],e[o[1]][o[2]]=a(d[1]);else if(o=l.test(u)){for(o=u.split("."),h=e;o.length;)if(c=o.shift(),c.length){if(h[c]){if(h[c]&&"object"!=typeof h[c])break}else h[c]={};o.length||(h[c]=a(d[1])),h=h[c]}}else e[d[0]]=null==d[1]?"":a(d[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var a=t[i];if("array"!=o(a))e.push(n(i)+"="+n(t[i]));else for(var s=0;s<a.length;++s)e.push(n(i+"["+s+"]")+"="+n(a[s]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!C){if(!o.body)return a(e);for(C=!0;t=D.shift();)a(t)}}function i(t){(w||t.type===l||o[u]===d)&&(n(),e())}function n(){w?(o[y](m,i,h),t[y](l,i,h)):(o[f](v,i),t[f](c,i))}function a(t,e){setTimeout(t,+e>=0?e:1)}function s(t){C?a(t):D.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function x(){document.removeEventListener("DOMContentLoaded",x,!1),document.readyState="complete"},!1),document.readyState="loading");var o=t.document,r=o.documentElement,l="load",h=!1,c="on"+l,d="complete",u="readyState",p="attachEvent",f="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",w=g in o,b=h,C=h,D=[];if(o[u]===d)a(e);else if(w)o[g](m,i,h),t[g](l,i,h);else{o[p](v,i),t[p](c,i);try{b=null==t.frameElement&&r}catch(k){}b&&b.doScroll&&!function _(){if(!C){try{b.doScroll("left")}catch(t){return a(_,50)}n(),e()}}()}return s.version="1.4.0",s.isReady=function(){return C},s}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var a=function(){n.call(this,"root"),this.properties=t};a.prototype=new n;var s=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};s.prototype=new n;var o=function(){s.apply(this,arguments),this.type="group"};o.prototype=new s;var r=function(){s.apply(this,arguments),this.type="rect"};r.prototype=new s;var l=function(t){s.call(this),this.type="text",this.properties.text=t};l.prototype=new s;var h=new a;return this.Shape={Rect:r,Text:l,Group:o},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),a="http://www.w3.org/2000/svg",s=8;e.initSVG=function(t,e,i){var o,r,l=!1;t&&t.querySelector?(r=t.querySelector("style"),null===r&&(l=!0)):(t=n.newEl("svg",a),l=!0),l&&(o=n.newEl("defs",a),r=n.newEl("style",a),n.setAttr(r,{type:"text/css"}),o.appendChild(r),t.appendChild(o)),t.webkitMatchesSelector&&t.setAttribute("xmlns",a);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===s&&t.removeChild(t.childNodes[h]);for(;r.childNodes.length;)r.removeChild(r.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var a=new XMLSerializer,s="",o=i.stylesheets;if(i.svgXMLStylesheet){for(var r=n.createXML(),l=o.length-1;l>=0;l--){var h=r.createProcessingInstruction("xml-stylesheet",'href="'+o[l]+'" rel="stylesheet"');r.insertBefore(h,r.firstChild)}r.removeChild(r.documentElement),s=a.serializeToString(r)}var c=a.serializeToString(e);return c=c.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),s+c}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var a=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};a.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},a.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,s=255*t|0;return new a(a.rgbToHex(e+s,i+s,n+s))},a.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},a.prototype.lighterThan=function(t){return t instanceof a||(t=new a(t)),this.yuv.y>t.yuv.y},a.prototype.blendAlpha=function(t){t instanceof a||(t=new a(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,s=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,o=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new a(a.rgbToHex(n,s,o))},t.exports=a},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),function(){var t,e,i,n,a,s,o;o=void 0,t=void 0,e={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},a=function(){t=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),t.addListener("place_changed",i)},i=function(){var i,n,a,s,o;s=t.getPlace(),$("#lat").length>0&&$("#lng").length>0&&($("#lat").val(s.geometry.location.lat()),$("#lng").val(s.geometry.location.lng()));for(n in e)document.getElementById(n).value="",document.getElementById(n).disabled=!1;for(a=0;a<s.address_components.length;)i=s.address_components[a].types[0],e[i]&&(o=s.address_components[a][e[i]],document.getElementById(i).value=o),a++},n=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var i,n;n={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:n,radius:e.coords.accuracy}),t.setBounds(i.getBounds())})},s=function(){var t,e,i;i={lat:parseFloat($("#lat").val()),lng:parseFloat($("#long").val())},t=new google.maps.Map(document.getElementById("map"),{center:i,zoom:15,scrollwheel:!1}),e=new google.maps.Marker({map:t,position:i})},$(document).ready(function(){return $("#autocomplete").length>0&&a(),$("#map").length>0?s():void 0})}.call(this),function(t){"use strict";var e={init:function(i){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,i),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var i=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[e]=[];for(var n=0;t>n;n++){var a=i[n],s=i[i.length-1];void 0===s&&(s=null),this.opt.hints[e][n]=void 0===a?s:a}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(n){var a=!0,s=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t(this).data("alt");i.opt.click&&(a=i.opt.click.call(i,+s,n)),(a||void 0===a)&&(i.opt.half&&!i.opt.precision&&(s=e._roundHalfScore.call(i,s)),e._apply.call(i,s))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(i){var n=+t.score.val()||void 0;e._apply.call(t,n),e._target.call(t,n,i),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,n,i)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){var n=t.opt.cancelOff;if("img"!==t.opt.starType&&(n=t.opt.cancelClass+" "+n),e._setIcon.call(t,this,n),t.opt.mouseout){var a=+t.score.val()||void 0;t.opt.mouseout.call(t,a,i)}})},_bindOver:function(){var t=this,i=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(i,function(i){var n=e._getScoreByPosition.call(t,i,this);e._fill.call(t,n),t.opt.half&&(e._roundStars.call(t,n,i),e._setTitle.call(t,n,i),t.self.data("score",n)),e._target.call(t,n,i),t.opt.mouseover&&t.opt.mouseover.call(t,n,i)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(i){var n=t.opt.path+t.opt.starOff,a=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",n):(a=t.opt.cancelClass+" "+a,t.stars.attr("class",n)),e._setIcon.call(t,this,a),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,i=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:e,alt:"x"}):i.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=t(this.opt.targetScore);this.score=i.length?i:e._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var n=e._nameForIndex.call(this,i),a={alt:i,src:this.opt.path+this.opt[n]};"img"!==this.opt.starType&&(a={"data-alt":i,"class":a.src}),a.title=e._getHint.call(this,i),t("<"+this.opt.starType+" />",a).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var i=0,n=1;n<=this.stars.length;n++){var a,s=this.stars[n-1],o=e._turnOn.call(this,n,t);if(this.opt.iconRange&&this.opt.iconRange.length>i){var r=this.opt.iconRange[i];a=e._getRangeIcon.call(this,r,o),n<=r.range&&e._setIcon.call(this,s,a),n===r.range&&i++}else a=this.opt[o?"starOn":"starOff"],e._setIcon.call(this,s,a)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],i=0;return e&&(i=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&i++),i},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(i,n){var a=parseInt(n.alt||n.getAttribute("data-alt"),10);if(this.opt.half){var s=e._getWidth.call(this),o=parseFloat((i.pageX-t(n).offset().left)/s);a=a-1+o}return a},_getHint:function(t,i){if(0!==t&&!t)return this.opt.noRatedMsg;var n=e._getFirstDecimal.call(this,t),a=Math.ceil(t),s=this.opt.hints[(a||1)-1],o=s,r=!i||this.move;return this.opt.precision?(r&&(n=0===n?9:n-1),o=s[n]):(this.opt.halfShow||this.opt.half)&&(n=r&&0===n?1:n>5?1:0,o=s[n]),""===o?"":o||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(t){for(var i=0;i<this.opt.number;i++)this.stars[i].title=e._getHint.call(this,i+1)},_roundHalfScore:function(t){var i=parseInt(t,10),n=e._getFirstDecimal.call(this,t);return 0!==n&&(n=n>5?1:.5),i+n},_roundStars:function(t,i){var n,a=(t%1).toFixed(2);if(i||this.move?n=a>.5?"starOn":"starHalf":a>this.opt.round.down&&(n="starOn",this.opt.halfShow&&a<this.opt.round.up?n="starHalf":a<this.opt.round.full&&(n="starOff")),n){var s=this.opt[n],o=this.stars[Math.ceil(t)-1];e._setIcon.call(this,o,s)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,i){if(t){var n=parseInt(Math.ceil(t),10),a=this.stars[n-1];a.title=e._getHint.call(this,t,i)}},_target:function(i,n){if(this.opt.target){var a=t(this.opt.target);a.length||e._error.call(this,"Target selector invalid or missing!");var s=n&&"mouseover"===n.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=s?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=e._getHint.call(this,i,n):this.opt.precision&&(i=parseFloat(i).toFixed(1));var o=n&&"mousemove"===n.type;s||o||this.opt.targetKeep||(i=this.opt.targetText)}e._setTarget.call(this,a,i)}},_turnOn:function(t,e){return this.opt.single?t===e:e>=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==!0&&(e[i?"click":"score"].call(n,null),this.score.removeAttr("value"))})},click:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,t.Event("click")),e._target.call(this,i))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("raw");i?e.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(i){return this.each(function(){var n=parseInt(i,10),a=e._getFirstDecimal.call(this,i);n>=this.opt.number&&(n=this.opt.number-1,a=10);var s=e._getWidth.call(this),o=s/10,r=t(this.stars[n]),l=r.offset().left+o*a,h=t.Event("mousemove",{pageX:l});this.move=!0,r.trigger(h),this.move=!1})},readOnly:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==i&&(i?(n.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),n.data("readonly",i))})},reload:function(){return e.set.call(this,{})},score:function(){var i=t(this);return arguments.length?e.setScore.apply(i,arguments):e.getScore.call(i)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),e._target.call(this,i))})}};t.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),$.fn.raty.defaults.half=!1,$.fn.raty.defaults.halfShow=!0,$.fn.raty.defaults.path="/assets",$.fn.raty.defaults.cancel=!1,$(function(){$(".star").each(function(){var t="true"==$(this).attr("data-readonly"),e="true"==$(this).attr("data-enable-half"),i="true"==$(this).attr("data-half-show"),n="true"==$(this).attr("data-single");$(this).raty({score:function(){return $(this).attr("data-rating")},number:function(){return $(this).attr("data-star-count")},half:e,halfShow:i,single:n,path:$(this).attr("data-star-path"),starOn:$(this).attr("data-star-on"),starOff:$(this).attr("data-star-off"),starHalf:$(this).attr("data-star-half"),cancel:$(this).attr("data-cancel"),cancelPlace:$(this).attr("data-cancel-place"),cancelHint:$(this).attr("data-cancel-hint"),cancelOn:$(this).attr("data-cancel-on"),cancelOff:$(this).attr("data-cancel-off"),noRatedMsg:$(this).attr("data-no-rated-message"),round:$(this).attr("data-round"),space:$(this).attr("data-space"),target:$(this).attr("data-target"),targetText:$(this).attr("data-target-text"),targetType:$(this).attr("data-target-type"),targetFormat:$(this).attr("data-target-format"),targetScoret:$(this).attr("data-target-score"),readOnly:t,click:function(t,e){var i=this;null==t&&(t=0),$.post("/rate",{score:t,dimension:$(this).attr("data-dimension"),id:$(this).attr("data-id"),klass:$(this).attr("data-classname")},function(e){e&&"true"==$(i).attr("data-disable-after-rate")&&$(i).raty("set",{readOnly:!0,score:t})})}})})}),function(){var t,e,i,n,a,s,o,r,l;e=55505,t="5fd6485clmp3oogs8gfb43p2uf",r="http://images.travelnow.com",n=function(t){var e,i,n,a;return e=t.getDate(),n=t.getMonth()+1,a=t.getFullYear(),i=[n,e,a].join("/")},o=n(new Date),i=function(){$("#searchDealsForm").on("keyup keypress",function(t){var e;return e=t.keyCode||t.which,13===e?(t.preventDefault(),!1):void 0})},l=function(){$("#searchDealsForm").validate({ignore:".ignore",rules:{autocomplete:"required"},messages:{autocomplete:"Please enter your destination"}})},a=function(i,n,s){var o,l;o=$(".deals-page[data-page='"+s+"']"),o.length>0?(o.show(),$(".deals-page").not(o).hide()):($("div.deals-image").removeClass("lazy"),l="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+e+"&minorRev=28&apiKey="+t+"&locale=en_US&cacheKey="+i+"&cacheLocation="+n+"&supplierType=E",$.ajax({url:l,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(t){var e,i,n,s;return $("#loading").fadeOut("slow"),$(".deals-page").hide(),s=$(".deals-page").length,e=s+1,n=e+1,$("#loadMoreNext").attr("data-cache-key",t.HotelListResponse.cacheKey),$("#loadMoreNext").attr("data-cache-Location",t.HotelListResponse.cacheLocation),i=$("<div class='deals-page' data-page='"+e+"' >"),$.each(t.HotelListResponse.HotelList.HotelSummary,function(t,e){var n,a,s;return s=Math.round(e.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]),a=$('<div class="wrapper-price-deals">'),n=$('<div class="col-xs-6 col-md-4 col-deals">'),n.append($("<div class='price-deals'><strong>$"+s+"</strong></div>")),n.append($("<a href='/deals/"+e.hotelId+"/show?price="+s+"' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+r+e.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),n.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+e.hotelId+"/show?price="+s+"' data-toggle='tooltip' data-placement='top' data-title='"+e.name.toUpperCase()+"' data-no-turbolink='true'>"+e.name.toUpperCase()+"</a></p></div>")),n.append($("<div class='col-md-2'><div class='wrapper-like-deals'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+e.hotelId+"/like' data-remote='true'><span class='icon love-normal' id='like-"+e.hotelId+"'></span></a></p></div></div>")),a.append(n),i.append(a)}),i.append($("<div class='col-md-12'><div class='pull-right'><a class='btn btn-orange loadMoreBack' data-previous-page='"+s+"'><i class='icon previous-loadmore pull-left'></i>&nbsp;&nbsp;Back</a><a class='btn btn-orange loadMoreNext' data-cache-key='"+t.HotelListResponse.cacheKey+"' data-cache-Location='"+t.HotelListResponse.cacheLocation+"' data-next-page='"+n+"' >Next<i class='icon next-loadmore'></i></a></div></div><br><br>")),$("#dealsHotelsList").append(i),$("div.lazy").lazyload({effect:"fadeIn"}),$('[data-toggle="tooltip"]').tooltip(),$(".loadMoreNext[data-next-page='"+n+"']").on("click",function(){return a($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).data("next-page"))}),$(".loadMoreBack[data-previous-page='"+s+"']").on("click",function(){var t,e;return e=$(this).data("previous-page"),t=$(".deals-page[data-page='"+e+"']"),$(".deals-page").not(t).hide(),t.show()})}}))},s=function(){var i,n,s,o,l;s=$("#lat").val(),o=$("#lng").val(),i=$("#search_deals_arrival_date").val(),n=$("#search_deals_departure_date").val(),l="http://api.ean.com/ean-services/rs/hotel/v3/list?cid="+e+"&minorRev=28&apiKey="+t+"&locale=en_US&currencyCode=USD&latitude="+s+"&longitude="+o+"&arrivalDate="+i+"&departureDate="+n+"&options=HOTEL_SUMMARY,ROOM_RATE_DETAILS&searchRadius=80&numberOfResults=21",$.ajax({url:l,type:"GET",dataType:"jsonp",beforeSend:function(){return $("#loading").show()},success:function(t){var e,s,o,l;return $("#dealsHotelsList").html(""),l=$(".deals-page").length,e=l+1,o=e+1,$("#slideToggleLink").text($("#autocomplete").val().split(",")[0]),s=$("<div class='deals-page' data-page='"+e+"' >"),$.each(t.HotelListResponse.HotelList.HotelSummary,function(t,e){var i,n,a;return a=Math.round(e.RoomRateDetailsList.RoomRateDetails.RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]),n=$('<div class="wrapper-price-deals">'),i=$('<div class="col-xs-6 col-md-4 col-deals">'),i.append($("<div class='price-deals'><strong>$"+a+"</strong></div>")),i.append($("<a href='/deals/"+e.hotelId+"/show?price="+a+"' data-no-turbolink='true'><div class='lazy deals-image' data-original='"+r+e.thumbNailUrl.replace("_t.","_y.")+"' style=\"background:url('"+window.default_image_path+"') no-repeat; background-size: 100% 100%; height: 300px;\"></div></a>")),i.append($("<div class='col-md-10'><p class='text-center content-deals'><a href='/deals/"+e.hotelId+"/show?price="+a+"' data-toggle='tooltip' data-placement='top' data-title='"+e.name.toUpperCase()+"' data-no-turbolink='true'>"+e.name.toUpperCase()+"</a></p></div>")),i.append($("<div class='col-md-2'><div class='wrapper-like-deals'><p id='likeDeal' class='text-right content-deals'><a href='/deals/"+e.hotelId+"/like' data-remote='true'><span class='icon love-normal' id='like-"+e.hotelId+"'></span></a></p></div></div>")),n.append(i),s.append(n)}),s.append($("<div class='col-md-12'><div class='pull-right'><a class='btn btn-orange loadMoreNext' data-cache-key='"+t.HotelListResponse.cacheKey+"' data-cache-Location='"+t.HotelListResponse.cacheLocation+"' data-next-page='"+o+"' >Next<i class='icon next-loadmore'></i></a></div></div><br><br>")),$("#dealsHotelsList").append(s),i=new Date($("#search_deals_arrival_date").val()),n=new Date($("#search_deals_departure_date").val()),i=[i.getFullYear(),i.getMonth()+1,i.getDate()].join("/"),n=[n.getFullYear(),n.getMonth()+1,n.getDate()].join("/"),$.ajax({url:"/deals/create_destination",type:"POST",data:{destinationString:$("#autocomplete").val(),city:$("#locality").val(),stateProvinceCode:$("#administrative_area_level_1").val(),countryCode:$("#country").val(),lat:$("#lat").val(),lng:$("#lng").val(),arrivalDate:i,departureDate:n},success:function(t){return $("#loading").fadeOut("slow")}}),$("#collapseDeals").slideToggle(),$('[data-toggle="tooltip"]').tooltip(),$(".loadMoreNext[data-next-page='"+o+"']").on("click",function(){return a($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).data("next-page"))})}})},$(function(){$("input#search_deals_arrival_date").datepicker({startDate:o,autoclose:!0}).on("changeDate",function(t){return $("input#search_deals_departure_date").datepicker("remove"),$("input#search_deals_departure_date").datepicker({startDate:n(t.date),autoclose:!0}),setTimeout(function(){return $("input#search_deals_departure_date").datepicker("show")},100)}),$("input#search_deals_departure_date").datepicker({startDate:o,autoclose:!0})}),$(document).ready(function(){var t,e;return"/"===window.location.pathname||"/deals"===window.location.pathname||"/deals/"===window.location.pathname?$.get("/deals",function(){$('[data-toggle="tooltip"]').tooltip()}):(t=window.location.pathname.split("/")[2],$.get("/deals/"+t+"/room_availability",function(){$("#slideToggleLink").click(function(){return $("#slideToggle").slideToggle()})})),i(),l(),$("#slideToggleLink").click(function(){return $("#slideToggle").slideToggle()}),$(".loadMoreNext").length>0&&$(".loadMoreNext").on("click",function(){return a($(this).attr("data-cache-key"),$(this).attr("data-cache-location"),$(this).attr("data-next-page"))}),$("#btnClearText").length>0&&$("#btnClearText").click(function(){$("input#autocomplete").val("")}),$("#links").length>0&&blueimp.Gallery(document.getElementById("links").getElementsByTagName("a"),{container:"#blueimp-gallery-carousel",carousel:!0}),$("#hotelRating").length>0&&(e=parseFloat($("#hotelRating").data("rating")),$("#hotelRating").raty({half:!0,readOnly:!0,score:e,starOn:window.star_on_image_path,starOff:window.star_off_image_path,starHalf:window.star_half_image_path})),$("#roomRating").length>0?(e=parseFloat($("#roomRating").data("rating")),$("#roomRating").raty({half:!0,readOnly:!0,score:e,starOn:window.star_on_image_path,starOff:window.star_off_image_path,starHalf:window.star_half_image_path})):void 0})}.call(this);