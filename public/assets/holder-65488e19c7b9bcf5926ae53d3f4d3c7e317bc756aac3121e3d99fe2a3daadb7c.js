/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
Â© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
!function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,s=e.createElement("style"),a=[];for(e.documentElement.firstChild.appendChild(s),e._qsa=[],s.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),s.parentNode.removeChild(s);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),a.push(n);return e._qsa=null,a}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,s=[],a=0,r=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),a=a<<6|i,r+=6,24===r&&(s.push(String.fromCharCode(a>>16&255)),s.push(String.fromCharCode(a>>8&255)),s.push(String.fromCharCode(255&a)),r=0,a=0),n+=1;return 12===r?(a>>=4,s.push(String.fromCharCode(255&a))):18===r&&(a>>=2,s.push(String.fromCharCode(a>>8&255)),s.push(String.fromCharCode(255&a))),s.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,s,a,r,o,l,h=0,d=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),s=t.charCodeAt(h++),a=i>>2,r=(3&i)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,h===t.length+2?(o=64,l=64):h===t.length+1&&(l=64),d.push(e.charAt(a),e.charAt(r),e.charAt(o),e.charAt(l));return d.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var a=s(i.substr(i.lastIndexOf(t.domain)),t);a&&r({mode:null,el:n,flags:a,engineSettings:e})}function s(t,e){var i={theme:k(M.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return a(t,i)}function a(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var s=n[1],a=s.match(/([\d]+p?)x([\d]+p?)/);if(!a)return!1;if(e.fluid=-1!==s.indexOf("p"),e.dimensions={width:a[1].replace("p","%"),height:a[2].replace("p","%")},2===i.length){var r=y.parse(i[1]);if(r.bg&&(e.theme.background=(-1===r.bg.indexOf("#")?"#":"")+r.bg),r.fg&&(e.theme.foreground=(-1===r.fg.indexOf("#")?"#":"")+r.fg),r.bg&&!r.fg&&(e.autoFg=!0),r.theme&&e.instanceOptions.themes.hasOwnProperty(r.theme)&&(e.theme=k(e.instanceOptions.themes[r.theme],null)),r.text&&(e.text=r.text),r.textmode&&(e.textmode=r.textmode),r.size&&(e.size=r.size),r.font&&(e.font=r.font),r.align&&(e.align=r.align),e.nowrap=b.truthy(r.nowrap),e.auto=b.truthy(r.auto),e.outline=b.truthy(r.outline),b.truthy(r.random)){M.vars.cache.themeKeys=M.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var o=M.vars.cache.themeKeys[0|Math.random()*M.vars.cache.themeKeys.length];e.theme=k(e.instanceOptions.themes[o],null)}}return e}function r(t){var e=t.mode,i=t.el,n=t.flags,s=t.engineSettings,a=n.dimensions,r=n.theme,l=a.width+"x"+a.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(r.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=r.text.split("\\n"),c=0;c<h.length;c++)h[c]=b.encodeHtmlEntity(h[c]);r.text=h.join("\\n")}var p=n.holderURL,f=k(s,null);if(n.font&&(r.font=n.font,!f.noFontFallback&&"img"===i.nodeName.toLowerCase()&&M.setup.supportsCanvas&&"svg"===f.renderer&&(f=k(f,{renderer:"canvas"}))),n.font&&"canvas"==f.renderer&&(f.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&x.setAttr(i,{"data-background-src":p});else{var g={};g[M.vars.dataAttr]=p,x.setAttr(i,g)}n.theme=r,i.holderData={flags:n,engineSettings:f},("image"==e||"fluid"==e)&&x.setAttr(i,{alt:r.text?r.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:a,theme:r,flags:n},engineSettings:f};"image"==e?("html"!=f.renderer&&n.auto||(i.style.width=a.width+"px",i.style.height=a.height+"px"),"html"==f.renderer?i.style.backgroundColor=r.background:(o(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,M.vars.resizableImages.push(i),d(i)))):"background"==e&&"html"!=f.renderer?o(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==a.height.slice(-1)?i.style.height=a.height:null!=n.auto&&n.auto||(i.style.height=a.height+"px"),"%"==a.width.slice(-1)?i.style.width=a.width:null!=n.auto&&n.auto||(i.style.width=a.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),u(i),"html"==f.renderer?i.style.backgroundColor=r.background:(M.vars.resizableImages.push(i),d(i)))}function o(t){function i(){var e=null;switch(o.renderer){case"canvas":e=I(d,t);break;case"svg":e=O(d,t);break;default:throw"Holder: invalid renderer: "+o.renderer}return e}var n=null,s=t.mode,a=t.el,r=t.holderSettings,o=t.engineSettings;switch(o.renderer){case"svg":if(!M.setup.supportsSVG)return;break;case"canvas":if(!M.setup.supportsCanvas)return;break;default:return}var h={width:r.dimensions.width,height:r.dimensions.height,theme:r.theme,flags:r.flags},d=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==s?(a.style.backgroundImage="url("+n+")",a.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===a.nodeName.toLowerCase()?x.setAttr(a,{src:n}):"object"===a.nodeName.toLowerCase()&&(x.setAttr(a,{data:n}),x.setAttr(a,{type:"image/svg+xml"})),o.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===a.nodeName.toLowerCase()?x.setAttr(a,{src:t}):"object"===a.nodeName.toLowerCase()&&(x.setAttr(a,{data:t}),x.setAttr(a,{type:"image/svg+xml"}))},150)),x.setAttr(a,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=M.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:M.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new w({width:t.width,height:t.height}),s=n.Shape,a=new s.Rect("holderBg",{fill:t.theme.background});if(a.resize(t.width,t.height),n.root.add(a),t.flags.outline){var r=new D(a.properties.fill);r=r.lighten(r.lighterThan("7f7f7f")?-.1:.1),a.properties.outline={fill:r.toHex(!0),width:2}}var o=t.theme.foreground;if(t.flags.autoFg){var l=new D(a.properties.fill),d=new D("fff"),u=new D("000",{alpha:.285714});o=l.blendAlpha(l.lighterThan("7f7f7f")?u:d).toHex(!0)}var c=new s.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:o});c.moveTo(null,null,1),n.root.add(c);var p=c.textPositionData=F(n);if(!p)throw"Holder: staging fallback not supported yet.";c.properties.leading=p.boundingBox.height;var f=null,g=null,m=t.width*M.vars.lineWrapRatio,v=m;if(p.lineCount>1){var y,b=0,C=0,x=0;g=new s.Group("line"+x),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-M.vars.lineWrapRatio)));for(var k=0;k<p.words.length;k++){var S=p.words[k];f=new s.Text(S.text);var T="\\n"==S.text;!t.noWrap&&(b+S.width>=v||T===!0)&&(e(c,g,b,c.properties.leading),c.add(g),b=0,C+=c.properties.leading,x+=1,g=new s.Group("line"+x),g.y=C),T!==!0&&(f.moveTo(b,0),b+=p.spaceWidth+S.width,g.add(f))}if(e(c,g,b,c.properties.leading),c.add(g),"left"===t.align)c.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in c.children)g=c.children[y],g.moveTo(t.width-g.width,null,null);c.moveTo(0-(t.width-m),null,null)}else{for(y in c.children)g=c.children[y],g.moveTo((c.width-g.width)/2,null,null);c.moveTo((t.width-c.width)/2,null,null)}c.moveTo(null,(t.height-c.height)/2,null),(t.height-c.height)/2<0&&c.moveTo(null,0,null)}else f=new s.Text(t.text),g=new s.Group("line0"),g.add(f),c.add(g),"left"===t.align?c.moveTo(t.width-m,null,null):"right"===t.align?c.moveTo(0-(t.width-m),null,null):c.moveTo((t.width-p.boundingBox.width)/2,null,null),c.moveTo(null,(t.height-p.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),s=parseInt(e,10),a=Math.max(n,s),r=Math.min(n,s),o=.8*Math.min(r,a*M.defaults.scale);return Math.round(Math.max(i,o))}function d(t){var e;e=null==t||null==t.nodeType?M.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var s=e[i];if(s.holderData){var a=s.holderData.flags,r=S(s);if(r){if(!s.holderData.resizeUpdate)continue;if(a.fluid&&a.auto){var l=s.holderData.fluidConfig;switch(l.mode){case"width":r.height=r.width/l.ratio;break;case"height":r.width=r.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:r,theme:a.theme,flags:a},el:s,engineSettings:s.holderData.engineSettings};"exact"==a.textmode&&(a.exactDimensions=r,h.holderSettings.dimensions=a.dimensions),o(h)}else f(s)}}}function u(t){if(t.holderData){var e=S(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else f(t)}}function c(){for(var t,i=[],n=Object.keys(M.vars.invisibleImages),s=0,a=n.length;a>s;s++)t=M.vars.invisibleImages[n[s]],S(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete M.vars.invisibleImages[n[s]]);i.length&&_.run({images:i}),e.requestAnimationFrame(c)}function p(){M.vars.visibilityCheckStarted||(e.requestAnimationFrame(c),M.vars.visibilityCheckStarted=!0)}function f(t){t.holderData.invisibleId||(M.vars.invisibleId+=1,M.vars.invisibleImages["i"+M.vars.invisibleId]=t,t.holderData.invisibleId=M.vars.invisibleId)}function g(t){M.vars.debounceTimer||t.call(this),M.vars.debounceTimer&&e.clearTimeout(M.vars.debounceTimer),M.vars.debounceTimer=e.setTimeout(function(){M.vars.debounceTimer=null,t.call(this)},M.setup.debounce)}function m(){g(function(){d(null)})}var v=i(3),y=i(2),w=i(4),b=i(5),C=i(6),x=i(7),D=i(8),k=b.extend,S=b.dimensionCheck,T="http://www.w3.org/2000/svg",A="2.8.0",E="\nCreated with Holder.js "+A+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",_={version:A,addTheme:function(t,e){return null!=t&&null!=e&&(M.settings.themes[t]=e),delete M.vars.cache.themeKeys,this},addImage:function(t,e){var i=x.getNodeArray(e);if(i.length)for(var n=0,s=i.length;s>n;n++){var a=x.newEl("img"),r={};r[M.setup.dataAttr]=t,x.setAttr(a,r),i[n].appendChild(a)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&d(t))},run:function(t){t=t||{};var i={},a=k(M.settings,t);M.vars.preempted=!0,M.vars.dataAttr=a.dataAttr||M.setup.dataAttr,M.vars.lineWrapRatio=a.lineWrapRatio||M.setup.lineWrapRatio,i.renderer=a.renderer?a.renderer:M.setup.renderer,-1===M.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=M.setup.supportsSVG?"svg":M.setup.supportsCanvas?"canvas":"html");var o=x.getNodeArray(a.images),l=x.getNodeArray(a.bgnodes),h=x.getNodeArray(a.stylenodes),d=x.getNodeArray(a.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=a.noFontFallback?a.noFontFallback:!1;for(var u=0;u<h.length;u++){var c=h[u];if(c.attributes.rel&&c.attributes.href&&"stylesheet"==c.attributes.rel.value){var p=c.attributes.href.value,f=x.newEl("a");f.href=p;var g=f.protocol+"//"+f.host+f.pathname+f.search;i.stylesheets.push(g)}}for(u=0;u<l.length;u++)if(e.getComputedStyle){var m=e.getComputedStyle(l[u],null).getPropertyValue("background-image"),v=l[u].getAttribute("data-background-src"),y=v||m,w=null,C="?"+a.domain+"/";if(0===y.indexOf(C))w=y.slice(1);else if(-1!=y.indexOf(C)){var D=y.substr(y.indexOf(C)).slice(1),S=D.match(/([^\"]*)"?\)/);null!=S&&(w=S[1])}if(null!=w){var T=s(w,a);T&&r({mode:"background",el:l[u],flags:T,engineSettings:i})}}for(u=0;u<d.length;u++){var A=d[u],E={};try{E.data=A.getAttribute("data"),E.dataSrc=A.getAttribute(M.vars.dataAttr)}catch(_){}var F=null!=E.data&&0===E.data.indexOf(a.domain),I=null!=E.dataSrc&&0===E.dataSrc.indexOf(a.domain);F?n(a,i,E.data,A):I&&n(a,i,E.dataSrc,A)}for(u=0;u<o.length;u++){var O=o[u],U={};try{U.src=O.getAttribute("src"),U.dataSrc=O.getAttribute(M.vars.dataAttr),U.rendered=O.getAttribute("data-holder-rendered")}catch(_){}var L=null!=U.src,R=null!=U.dataSrc&&0===U.dataSrc.indexOf(a.domain),N=null!=U.rendered&&"true"==U.rendered;L?0===U.src.indexOf(a.domain)?n(a,i,U.src,O):R&&(N?n(a,i,U.dataSrc,O):!function(t,e,i,s,a){b.imageExists(t,function(t){t||n(e,i,s,a)})}(U.src,a,i,U.dataSrc,O)):R&&n(a,i,U.dataSrc,O)}return this}},M={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},F=function(){var t=null,e=null,i=null;return function(n){var s=n.root;if(M.setup.supportsSVG){var a=!1,r=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(a=!0),t=C.initSVG(t,s.properties.width,s.properties.height),t.style.display="block",a&&(e=x.newEl("text",T),i=r(null),x.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var o=s.children.holderTextGroup,l=o.properties;x.setAttr(e,{y:l.font.size,style:b.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),d=Math.ceil(h.width/(s.properties.width*M.vars.lineWrapRatio)),u=l.text.split(" "),c=l.text.match(/\\n/g);d+=null==c?0:c.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var p=e.getComputedTextLength(),f=h.width-p,g=Math.round(f/Math.max(1,u.length-1)),m=[];if(d>1){i.nodeValue="";for(var v=0;v<u.length;v++)if(0!==u[v].length){i.nodeValue=b.decodeHtmlEntity(u[v]);var y=e.getBBox();m.push({text:u[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:d,boundingBox:h,words:m}}return!1}}(),I=function(){var t=x.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=M.dpr(n.properties.width),t.height=M.dpr(n.properties.height),e.textBaseline="middle";var s=n.children.holderBg,a=M.dpr(s.width),r=M.dpr(s.height),o=2,l=o/2;e.fillStyle=s.properties.fill,e.fillRect(0,0,a,r),s.properties.outline&&(e.strokeStyle=s.properties.outline.fill,e.lineWidth=s.properties.outline.width,e.moveTo(l,l),e.lineTo(a-l,l),e.lineTo(a-l,r-l),e.lineTo(l,r-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(a,r-l),e.moveTo(0,r-l),e.lineTo(a,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+M.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var d in h.children){var u=h.children[d];for(var c in u.children){var p=u.children[c],f=M.dpr(h.x+u.x+p.x),g=M.dpr(h.y+u.y+p.y+h.properties.leading/2);e.fillText(p.properties.text,f,g)}}return t.toDataURL("image/png")}}(),O=function(){if(e.XMLSerializer){var t=x.createXML(),i=C.initSVG(null,0,0),n=x.newEl("rect",T);return i.appendChild(n),function(e,s){var a=e.root;C.initSVG(i,a.properties.width,a.properties.height);for(var r=i.querySelectorAll("g"),o=0;o<r.length;o++)r[o].parentNode.removeChild(r[o]);var l=s.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),d=x.newEl("g",T),u=a.children.holderTextGroup,c=u.properties,p=x.newEl("g",T),f=u.textPositionData,g="#"+h+" text { "+b.cssProps({fill:c.fill,"font-weight":c.font.weight,"font-family":c.font.family+", monospace","font-size":c.font.size+c.font.units})+" } ",m=t.createComment("\nSource URL: "+l+E),v=t.createCDATASection(g),y=i.querySelector("style"),w=a.children.holderBg;if(x.setAttr(d,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),d.appendChild(n),w.properties.outline){var D=x.newEl("path",T),k=w.properties.outline.width,S=k/2;x.setAttr(D,{d:["M",S,S,"H",w.width-S,"V",w.height-S,"H",S,"V",0,"M",0,S,"L",w.width,w.height-S,"M",0,w.height-S,"L",w.width,S].join(" "),"stroke-width":w.properties.outline.width,stroke:w.properties.outline.fill,fill:"none"}),d.appendChild(D)}d.appendChild(p),i.appendChild(d),x.setAttr(n,{width:w.width,height:w.height,fill:w.properties.fill}),u.y+=.8*f.boundingBox.height;for(var A in u.children){var _=u.children[A];for(var M in _.children){var F=_.children[M],I=u.x+_.x+F.x,O=u.y+_.y+F.y,U=x.newEl("text",T),L=document.createTextNode(null);x.setAttr(U,{x:I,y:O}),L.nodeValue=F.properties.text,U.appendChild(L),p.appendChild(U)}}var R=C.svgStringToDataURI(C.serializeSVG(i,s.engineSettings),"background"===s.mode);return R}}}();for(var U in M.flags)M.flags.hasOwnProperty(U)&&(M.flags[U].match=function(t){return t.match(this.regex)});M.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},M.dpr=function(t){return t*M.setup.ratio},M.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=x.newEl("canvas"),s=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(M.setup.renderer="canvas",s=n.getContext("2d"),M.setup.supportsCanvas=!0),M.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),M.setup.ratio=t/i,document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(M.setup.renderer="svg",M.setup.supportsSVG=!0)}(),p(),v&&v(function(){M.vars.preempted||_.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){_.run()})}),t.exports=_}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,s=decodeURIComponent,a=i(10),r=i(9),o=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=a(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var r,h,d,u=i[n].split("="),c=s(u[0]);if(r=o.exec(c))e[r[1]]=e[r[1]]||[],e[r[1]][r[2]]=s(u[1]);else if(r=l.test(c)){for(r=c.split("."),h=e;r.length;)if(d=r.shift(),d.length){if(h[d]){if(h[d]&&"object"!=typeof h[d])break}else h[d]={};r.length||(h[d]=s(u[1])),h=h[d]}}else e[u[0]]=null==u[1]?"":s(u[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var s=t[i];if("array"!=r(s))e.push(n(i)+"="+n(t[i]));else for(var a=0;a<s.length;++a)e.push(n(i+"["+a+"]")+"="+n(s[a]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!C){if(!r.body)return s(e);for(C=!0;t=x.shift();)s(t)}}function i(t){(w||t.type===l||r[c]===u)&&(n(),e())}function n(){w?(r[y](m,i,h),t[y](l,i,h)):(r[f](v,i),t[f](d,i))}function s(t,e){setTimeout(t,+e>=0?e:1)}function a(t){C?s(t):x.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function k(){document.removeEventListener("DOMContentLoaded",k,!1),document.readyState="complete"},!1),document.readyState="loading");var r=t.document,o=r.documentElement,l="load",h=!1,d="on"+l,u="complete",c="readyState",p="attachEvent",f="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",w=g in r,b=h,C=h,x=[];if(r[c]===u)s(e);else if(w)r[g](m,i,h),t[g](l,i,h);else{r[p](v,i),t[p](d,i);try{b=null==t.frameElement&&o}catch(D){}b&&b.doScroll&&!function S(){if(!C){try{b.doScroll("left")}catch(t){return s(S,50)}n(),e()}}()}return a.version="1.4.0",a.isReady=function(){return C},a}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var s=function(){n.call(this,"root"),this.properties=t};s.prototype=new n;var a=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};a.prototype=new n;var r=function(){a.apply(this,arguments),this.type="group"};r.prototype=new a;var o=function(){a.apply(this,arguments),this.type="rect"};o.prototype=new a;var l=function(t){a.call(this),this.type="text",this.properties.text=t};l.prototype=new a;var h=new s;return this.Shape={Rect:o,Text:l,Group:r},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var s in e)e.hasOwnProperty(s)&&(i[s]=e[s]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),s="http://www.w3.org/2000/svg",a=8;e.initSVG=function(t,e,i){var r,o,l=!1;t&&t.querySelector?(o=t.querySelector("style"),null===o&&(l=!0)):(t=n.newEl("svg",s),l=!0),l&&(r=n.newEl("defs",s),o=n.newEl("style",s),n.setAttr(o,{type:"text/css"}),r.appendChild(o),t.appendChild(r)),t.webkitMatchesSelector&&t.setAttribute("xmlns",s);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===a&&t.removeChild(t.childNodes[h]);for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var s=new XMLSerializer,a="",r=i.stylesheets;if(i.svgXMLStylesheet){for(var o=n.createXML(),l=r.length-1;l>=0;l--){var h=o.createProcessingInstruction("xml-stylesheet",'href="'+r[l]+'" rel="stylesheet"');o.insertBefore(h,o.firstChild)}o.removeChild(o.documentElement),a=s.serializeToString(o)}var d=s.serializeToString(e);return d=d.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),a+d}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var s=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};s.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},s.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,a=255*t|0;return new s(s.rgbToHex(e+a,i+a,n+a))},s.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},s.prototype.lighterThan=function(t){return t instanceof s||(t=new s(t)),this.yuv.y>t.yuv.y},s.prototype.blendAlpha=function(t){t instanceof s||(t=new s(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,a=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,r=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new s(s.rgbToHex(n,a,r))},t.exports=s},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);