(function(){var e;Stripe.setPublishableKey(window.stripe_publishable_key),jQuery(function(r){r("#formPromoCode").submit(function(o){var t,n;return t=r(this),n=!0,r("#promo_code_amount").val()?t.find(".payment-errors.amount").text(""):(t.find(".payment-errors.amount").text("can't be blank"),n=!1),r("#promo_code_user_id").val()?t.find(".payment-errors.user-id").text(""):(t.find(".payment-errors.user-id").text("can't be blank"),n=!1),n&&(r("#loading").show(),t.find("button").prop("disabled",!0),Stripe.card.createToken(t,e)),!1})}),e=function(e,r){var o,t;o=$("#formPromoCode"),r.error?(console.log(r),"number"===r.error.param&&o.find(".payment-errors.number").text(r.error.message),"exp_month"===r.error.param&&o.find(".payment-errors.exp-month").text(r.error.message),"exp_year"===r.error.param&&o.find(".payment-errors.exp-year").text(r.error.message),o.find("button").prop("disabled",!1)):(t=r.id,o.append($('<input type="hidden" name="stripeToken" />').val(t)),o.get(0).submit()),$("#loading").fadeOut("slow")}}).call(this);