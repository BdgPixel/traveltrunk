/**
 * autoNumeric.js
 * @author: Bob Knothe
 * @author: Sokolov Yura
 * @version: 1.9.42 - 2015-11-20 GMT 3:00 PM / 15:00
 *
 * Created by Robert J. Knothe on 2010-10-25. Please report any bugs to https://github.com/BobKnothe/autoNumeric
 * Contributor by Sokolov Yura on 2010-11-07
 *
 * Copyright (c) 2011 Robert J. Knothe http://www.decorplanit.com/plugin/
 *
 * The MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t){"use strict";function e(t){var e={};if(void 0===t.selectionStart){t.focus();var a=document.selection.createRange();e.length=a.text.length,a.moveStart("character",-t.value.length),e.end=a.text.length,e.start=e.end-e.length}else e.start=t.selectionStart,e.end=t.selectionEnd,e.length=e.end-e.start;return e}function a(t,e,a){if(void 0===t.selectionStart){t.focus();var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",a),n.moveStart("character",e),n.select()}else t.selectionStart=e,t.selectionEnd=a}function n(e,a){t.each(a,function(t,n){"function"==typeof n?a[t]=n(e,a,t):"function"==typeof e.autoNumeric[n]&&(a[t]=e.autoNumeric[n](e,a,t))})}function i(t,e){"string"==typeof t[e]&&(t[e]*=1)}function r(t,e){n(t,e),e.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var a=e.vMax.toString().split("."),r=e.vMin||0===e.vMin?e.vMin.toString().split("."):[];if(i(e,"vMax"),i(e,"vMin"),i(e,"mDec"),e.mDec="CHF"===e.mRound?"2":e.mDec,e.allowLeading=!0,e.aNeg=e.vMin<0?"-":"",a[0]=a[0].replace("-",""),r[0]=r[0].replace("-",""),e.mInt=Math.max(a[0].length,r[0].length,1),null===e.mDec){var s=0,o=0;a[1]&&(s=a[1].length),r[1]&&(o=r[1].length),e.mDec=Math.max(s,o)}null===e.altDec&&e.mDec>0&&("."===e.aDec&&","!==e.aSep?e.altDec=",":","===e.aDec&&"."!==e.aSep&&(e.altDec="."));var l=e.aNeg?"([-\\"+e.aNeg+"]?)":"(-?)";e.aNegRegAutoStrip=l,e.skipFirstAutoStrip=new RegExp(l+"[^-"+(e.aNeg?"\\"+e.aNeg:"")+"\\"+e.aDec+"\\d].*?(\\d|\\"+e.aDec+"\\d)"),e.skipLastAutoStrip=new RegExp("(\\d\\"+e.aDec+"?)[^\\"+e.aDec+"\\d]\\D*$");var u="-"+e.aNum+"\\"+e.aDec;return e.allowedAutoStrip=new RegExp("[^"+u+"]","gi"),e.numRegAutoStrip=new RegExp(l+"(?:\\"+e.aDec+"?(\\d+\\"+e.aDec+"\\d+)|(\\d*(?:\\"+e.aDec+"\\d*)?))"),e}function s(t,e,a){if(e.aSign)for(;t.indexOf(e.aSign)>-1;)t=t.replace(e.aSign,"");t=t.replace(e.skipFirstAutoStrip,"$1$2"),t=t.replace(e.skipLastAutoStrip,"$1"),t=t.replace(e.allowedAutoStrip,""),e.altDec&&(t=t.replace(e.altDec,e.aDec));var n=t.match(e.numRegAutoStrip);if(t=n?[n[1],n[2],n[3]].join(""):"",("allow"===e.lZero||"keep"===e.lZero)&&"strip"!==a){var i=[],r="";i=t.split(e.aDec),-1!==i[0].indexOf("-")&&(r="-",i[0]=i[0].replace("-","")),i[0].length>e.mInt&&"0"===i[0].charAt(0)&&(i[0]=i[0].slice(1)),t=r+i.join(e.aDec)}if(a&&"deny"===e.lZero||a&&"allow"===e.lZero&&e.allowLeading===!1){var s="^"+e.aNegRegAutoStrip+"0*(\\d"+("leading"===a?")":"|$)");s=new RegExp(s),t=t.replace(s,"$1$2")}return t}function o(t,e){if("p"===e.pSign){var a=e.nBracket.split(",");e.hasFocus||e.removeBrackets?(e.hasFocus&&t.charAt(0)===a[0]||e.removeBrackets&&t.charAt(0)===a[0])&&(t=t.replace(a[0],e.aNeg),t=t.replace(a[1],"")):(t=t.replace(e.aNeg,""),t=a[0]+t+a[1])}return t}function l(t,e){if(t){var a=+t;if(1e-6>a&&a>-1)t=+t,1e-6>t&&t>0&&(t=(t+10).toString(),t=t.substring(1)),0>t&&t>-1&&(t=(t-10).toString(),t="-"+t.substring(2)),t=t.toString();else{var n=t.split(".");void 0!==n[1]&&(0===+n[1]?t=n[0]:(n[1]=n[1].replace(/0*$/,""),t=n.join(".")))}}return"keep"===e.lZero?t:t.replace(/^0*(\d)/,"$1")}function u(t,e,a){return e&&"."!==e&&(t=t.replace(e,".")),a&&"-"!==a&&(t=t.replace(a,"-")),t.match(/\d/)||(t+="0"),t}function c(t,e,a){return a&&"-"!==a&&(t=t.replace("-",a)),e&&"."!==e&&(t=t.replace(".",e)),t}function d(t,e,a){return""===t||t===e.aNeg?"zero"===e.wEmpty?t+"0":"sign"===e.wEmpty||a?t+e.aSign:t:null}function p(t,e){t=s(t,e);var a=t.replace(",","."),n=d(t,e,!0);if(null!==n)return n;var i="";i=2===e.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===e.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var r=t.split(e.aDec);e.altDec&&1===r.length&&(r=t.split(e.altDec));var l=r[0];if(e.aSep)for(;i.test(l);)l=l.replace(i,"$1"+e.aSep+"$2");if(0!==e.mDec&&r.length>1?(r[1].length>e.mDec&&(r[1]=r[1].substring(0,e.mDec)),t=l+e.aDec+r[1]):t=l,e.aSign){var u=-1!==t.indexOf(e.aNeg);t=t.replace(e.aNeg,""),t="p"===e.pSign?e.aSign+t:t+e.aSign,u&&(t=e.aNeg+t)}return 0>a&&null!==e.nBracket&&(t=o(t,e)),t}function h(t,e){t=""===t?"0":t.toString(),i(e,"mDec"),"CHF"===e.mRound&&(t=(Math.round(20*t)/20).toString());var a="",n=0,r="",s="boolean"==typeof e.aPad||null===e.aPad?e.aPad?e.mDec:0:+e.aPad,o=function(t){var e=0===s?/(\.(?:\d*[1-9])?)0*$/:1===s?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+s+"}(?:\\d*[1-9])?)0*$");return t=t.replace(e,"$1"),0===s&&(t=t.replace(/\.$/,"")),t};"-"===t.charAt(0)&&(r="-",t=t.replace("-","")),t.match(/^\d/)||(t="0"+t),"-"===r&&0===+t&&(r=""),(+t>0&&"keep"!==e.lZero||t.length>0&&"allow"===e.lZero)&&(t=t.replace(/^0*(\d)/,"$1"));var l=t.lastIndexOf("."),u=-1===l?t.length-1:l,c=t.length-1-u;if(c<=e.mDec){if(a=t,s>c){-1===l&&(a+=e.aDec);for(var d="000000";s>c;)d=d.substring(0,s-c),a+=d,c+=d.length}else c>s?a=o(a):0===c&&0===s&&(a=a.replace(/\.$/,""));if("CHF"!==e.mRound)return 0===+a?a:r+a;"CHF"===e.mRound&&(l=a.lastIndexOf("."),t=a)}var p=l+e.mDec,h=+t.charAt(p+1),g=t.substring(0,p+1).split(""),f="."===t.charAt(p)?t.charAt(p-1)%2:t.charAt(p)%2,m=!0;if(1!==f&&(f=0===f&&t.substring(p+2,t.length)>0?1:0),h>4&&"S"===e.mRound||h>4&&"A"===e.mRound&&""===r||h>5&&"A"===e.mRound&&"-"===r||h>5&&"s"===e.mRound||h>5&&"a"===e.mRound&&""===r||h>4&&"a"===e.mRound&&"-"===r||h>5&&"B"===e.mRound||5===h&&"B"===e.mRound&&1===f||h>0&&"C"===e.mRound&&""===r||h>0&&"F"===e.mRound&&"-"===r||h>0&&"U"===e.mRound||"CHF"===e.mRound)for(n=g.length-1;n>=0;n-=1)if("."!==g[n]){if("CHF"===e.mRound&&g[n]<=2&&m){g[n]=0,m=!1;break}if("CHF"===e.mRound&&g[n]<=7&&m){g[n]=5,m=!1;break}if("CHF"===e.mRound&&m?(g[n]=10,m=!1):g[n]=+g[n]+1,g[n]<10)break;n>0&&(g[n]="0")}return g=g.slice(0,p+1),a=o(g.join("")),0===+a?a:r+a}function g(t,e,a){var n=e.aDec,i=e.mDec;if(t="paste"===a?h(t,e):t,n&&i){var r=t.split(n);r[1]&&r[1].length>i&&(i>0?(r[1]=r[1].substring(0,i),t=r.join(n)):t=r[0])}return t}function f(t,e){t=s(t,e),t=g(t,e),t=u(t,e.aDec,e.aNeg);var a=+t;return a>=e.vMin&&a<=e.vMax}function m(e,a){this.settings=a,this.that=e,this.$that=t(e),this.formatted=!1,this.settingsClone=r(this.$that,this.settings),this.value=e.value}function v(e){return"string"==typeof e&&(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),e="#"+e.replace(/(:|\.)/g,"\\$1")),t(e)}function y(t,e,a){var n=t.data("autoNumeric");n||(n={},t.data("autoNumeric",n));var i=n.holder;return(void 0===i&&e||a)&&(i=new m(t.get(0),e),n.holder=i),i}m.prototype={init:function(t){this.value=this.that.value,this.settingsClone=r(this.$that,this.settings),this.ctrlKey=t.ctrlKey,this.cmdKey=t.metaKey,this.shiftKey=t.shiftKey,this.selection=e(this.that),("keydown"===t.type||"keyup"===t.type)&&(this.kdCode=t.keyCode),this.which=t.which,this.processed=!1,this.formatted=!1},setSelection:function(t,e,n){t=Math.max(t,0),e=Math.min(e,this.that.value.length),this.selection={start:t,end:e,length:e-t},(void 0===n||n)&&a(this.that,t,e)},setPosition:function(t,e){this.setSelection(t,t,e)},getBeforeAfter:function(){var t=this.value,e=t.substring(0,this.selection.start),a=t.substring(this.selection.end,t.length);return[e,a]},getBeforeAfterStriped:function(){var t=this.getBeforeAfter();return t[0]=s(t[0],this.settingsClone),t[1]=s(t[1],this.settingsClone),t},normalizeParts:function(t,e){var a=this.settingsClone;e=s(e,a);var n=e.match(/^\d/)?!0:"leading";t=s(t,a,n),""!==t&&t!==a.aNeg||"deny"!==a.lZero||e>""&&(e=e.replace(/^0*(\d)/,"$1"));var i=t+e;if(a.aDec){var r=i.match(new RegExp("^"+a.aNegRegAutoStrip+"\\"+a.aDec));r&&(t=t.replace(r[1],r[1]+"0"),i=t+e)}return"zero"!==a.wEmpty||i!==a.aNeg&&""!==i||(t+="0"),[t,e]},setValueParts:function(t,e,a){var n=this.settingsClone,i=this.normalizeParts(t,e),r=i.join(""),s=i[0].length;return f(r,n)?(r=g(r,n,a),s>r.length&&(s=r.length),this.value=r,this.setPosition(s,!1),!0):!1},signPosition:function(){var t=this.settingsClone,e=t.aSign,a=this.that;if(e){var n=e.length;if("p"===t.pSign){var i=t.aNeg&&a.value&&a.value.charAt(0)===t.aNeg;return i?[1,n+1]:[0,n]}var r=a.value.length;return[r-n,r]}return[1e3,-1]},expandSelectionOnSign:function(t){var e=this.signPosition(),a=this.selection;a.start<e[1]&&a.end>e[0]&&((a.start<e[0]||a.end>e[1])&&this.value.substring(Math.max(a.start,e[0]),Math.min(a.end,e[1])).match(/^\s*$/)?a.start<e[0]?this.setSelection(a.start,e[0],t):this.setSelection(e[1],a.end,t):this.setSelection(Math.min(a.start,e[0]),Math.max(a.end,e[1]),t))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var t=this.getBeforeAfter(),e=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,t[0]=t[0].substr(0,e[0].length)+s(t[0].substr(e[0].length),this.settingsClone),this.setValueParts(t[0],t[1],"paste")||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAllways:function(t){var e=this.kdCode,a=this.which,n=this.ctrlKey,i=this.cmdKey,r=this.shiftKey;if((n||i)&&"keyup"===t.type&&void 0!==this.valuePartsBeforePaste||r&&45===e)return this.checkPaste(),!1;if(e>=112&&123>=e||e>=91&&93>=e||e>=9&&31>=e||8>e&&(0===a||a===e)||144===e||145===e||45===e||224===e)return!0;if((n||i)&&65===e)return!0;if((n||i)&&(67===e||86===e||88===e))return"keydown"===t.type&&this.expandSelectionOnSign(),(86===e||45===e)&&("keydown"===t.type||"keypress"===t.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===t.type||"keypress"===t.type||67===e;if(n||i)return!0;if(37===e||39===e){var s=this.settingsClone.aSep,o=this.selection.start,l=this.that.value;return"keydown"===t.type&&s&&!this.shiftKey&&(37===e&&l.charAt(o-2)===s?this.setPosition(o-1):39===e&&l.charAt(o+1)===s&&this.setPosition(o+1)),!0}return e>=34&&40>=e?!0:!1},processAllways:function(){var t;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped(),this.setValueParts(t[0],t[1])):(t=this.getBeforeAfterStriped(),8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length),this.setValueParts(t[0],t[1])),!0):!1},processKeypress:function(){var t=this.settingsClone,e=String.fromCharCode(this.which),a=this.getBeforeAfterStriped(),n=a[0],i=a[1];return e===t.aDec||t.altDec&&e===t.altDec||("."===e||","===e)&&110===this.kdCode?t.mDec&&t.aDec?t.aNeg&&i.indexOf(t.aNeg)>-1?!0:n.indexOf(t.aDec)>-1?!0:i.indexOf(t.aDec)>0?!0:(0===i.indexOf(t.aDec)&&(i=i.substr(1)),this.setValueParts(n+t.aDec,i),!0):!0:"-"===e||"+"===e?t.aNeg?(""===n&&i.indexOf(t.aNeg)>-1&&(n=t.aNeg,i=i.substring(1,i.length)),n=n.charAt(0)===t.aNeg?n.substring(1,n.length):"-"===e?t.aNeg+n:n,this.setValueParts(n,i),!0):!0:e>="0"&&"9">=e?(t.aNeg&&""===n&&i.indexOf(t.aNeg)>-1&&(n=t.aNeg,i=i.substring(1,i.length)),t.vMax<=0&&t.vMin<t.vMax&&-1===this.value.indexOf(t.aNeg)&&"0"!==e&&(n=t.aNeg+n),this.setValueParts(n+e,i),!0):!0},formatQuick:function(){var t=this.settingsClone,e=this.getBeforeAfterStriped(),a=this.value;if((""===t.aSep||""!==t.aSep&&-1===a.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===a.indexOf(t.aSign))){var n=[],i="";n=a.split(t.aDec),n[0].indexOf("-")>-1&&(i="-",n[0]=n[0].replace("-",""),e[0]=e[0].replace("-","")),n[0].length>t.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),e[0]=i+e[0]}var r=p(this.value,this.settingsClone),s=r.length;if(r){var o=e[0].split(""),l=0;for(l;l<o.length;l+=1)o[l].match("\\d")||(o[l]="\\"+o[l]);var u=new RegExp("^.*?"+o.join(".*?")),c=r.match(u);c?(s=c[0].length,(0===s&&r.charAt(0)!==t.aNeg||1===s&&r.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(s=this.settingsClone.aSign.length+("-"===r.charAt(0)?1:0))):t.aSign&&"s"===t.pSign&&(s-=t.aSign.length)}this.that.value=r,this.setPosition(s),this.formatted=!0}};var k={init:function(e){return this.each(function(){var n=t(this),i=n.data("autoNumeric"),r=n.data(),l=n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof i)return this;i=t.extend({},t.fn.autoNumeric.defaults,r,e,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]}),i.aDec===i.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),n.data("autoNumeric",i);var g=y(n,i);if(l||"input"!==n.prop("tagName").toLowerCase()||t.error('The input type "'+n.prop("type")+'" is not supported by autoNumeric()'),-1===t.inArray(n.prop("tagName").toLowerCase(),i.tagList)&&"input"!==n.prop("tagName").toLowerCase()&&t.error("The <"+n.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),i.runOnce===!1&&i.aForm){if(l){var m=!0;""===n[0].value&&"empty"===i.wEmpty&&(n[0].value="",m=!1),""===n[0].value&&"sign"===i.wEmpty&&(n[0].value=i.aSign,m=!1),m&&""!==n.val()&&(null===i.anDefault&&n[0].value===n.prop("defaultValue")||null!==i.anDefault&&i.anDefault.toString()===n.val())&&n.autoNumeric("set",n.val())}-1!==t.inArray(n.prop("tagName").toLowerCase(),i.tagList)&&""!==n.text()&&n.autoNumeric("set",n.text())}i.runOnce=!0,n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(n.on("keydown.autoNumeric",function(e){return g=y(n),g.settings.aDec===g.settings.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+g.settings.aDec+"' and thousand separator aSep: '"+g.settings.aSep+"' are the same character"),g.that.readOnly?(g.processed=!0,!0):(g.init(e),g.skipAllways(e)?(g.processed=!0,!0):g.processAllways()?(g.processed=!0,g.formatQuick(),e.preventDefault(),!1):(g.formatted=!1,!0))}),n.on("keypress.autoNumeric",function(t){g=y(n);var e=g.processed;return g.init(t),g.skipAllways(t)?!0:e?(t.preventDefault(),!1):g.processAllways()||g.processKeypress()?(g.formatQuick(),t.preventDefault(),!1):void(g.formatted=!1)}),n.on("keyup.autoNumeric",function(t){g=y(n),g.init(t);var e=g.skipAllways(t);return g.kdCode=0,delete g.valuePartsBeforePaste,n[0].value===g.settings.aSign&&("s"===g.settings.pSign?a(this,0,0):a(this,g.settings.aSign.length,g.settings.aSign.length)),e?!0:""===this.value?!0:void(g.formatted||g.formatQuick())}),n.on("focusin.autoNumeric",function(){g=y(n);var t=g.settingsClone;if(t.hasFocus=!0,null!==t.nBracket){var e=n.val();n.val(o(e,t))}g.inVal=n.val();var a=d(g.inVal,t,!0);null!==a&&""!==a&&n.val(a)}),n.on("focusout.autoNumeric",function(){g=y(n);var t=g.settingsClone,e=n.val(),a=e;t.hasFocus=!1;var i="";"allow"===t.lZero&&(t.allowLeading=!1,i="leading"),""!==e&&(e=s(e,t,i),null===d(e,t)&&f(e,t,n[0])?(e=u(e,t.aDec,t.aNeg),e=h(e,t),e=c(e,t.aDec,t.aNeg)):e="");var r=d(e,t,!1);null===r&&(r=p(e,t)),(r!==g.inVal||r!==a)&&(n.val(r),n.change(),delete g.inVal)}))})},destroy:function(){return t(this).each(function(){var e=t(this);e.off(".autoNumeric"),e.removeData("autoNumeric")})},update:function(e){return t(this).each(function(){var a=v(t(this)),n=a.data("autoNumeric");"object"!=typeof n&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var i=a.autoNumeric("get");return n=t.extend(n,e),y(a,n,!0),n.aDec===n.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+n.aDec+"' and thousand separator aSep: '"+n.aSep+"' are the same character"),a.data("autoNumeric",n),""!==a.val()||""!==a.text()?a.autoNumeric("set",i):void 0})},set:function(e){return null!==e?t(this).each(function(){var a=v(t(this)),n=a.data("autoNumeric"),i=e.toString(),r=e.toString(),s=a.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof n&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),r!==a.attr("value")&&r!==a.text()||n.runOnce!==!1||(i=i.replace(",",".")),t.isNumeric(+i)||t.error("The value ("+i+") being 'set' is not numeric and has caused a error to be thrown"),i=l(i,n),n.setEvent=!0,i.toString(),""!==i&&(i=h(i,n)),i=c(i,n.aDec,n.aNeg),f(i,n)||(i=h("",n)),i=p(i,n),s?a.val(i):-1!==t.inArray(a.prop("tagName").toLowerCase(),n.tagList)?a.text(i):!1}):void 0},get:function(){var e=v(t(this)),a=e.data("autoNumeric");"object"!=typeof a&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var n="";return e.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?n=e.eq(0).val():-1!==t.inArray(e.prop("tagName").toLowerCase(),a.tagList)?n=e.eq(0).text():t.error("The <"+e.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===n&&"empty"===a.wEmpty||n===a.aSign&&("sign"===a.wEmpty||"empty"===a.wEmpty)?"":(""!==n&&null!==a.nBracket&&(a.removeBrackets=!0,n=o(n,a),a.removeBrackets=!1),(a.runOnce||a.aForm===!1)&&(n=s(n,a)),n=u(n,a.aDec,a.aNeg),0===+n&&"keep"!==a.lZero&&(n="0"),"keep"===a.lZero?n:n=l(n,a))},getString:function(){var e=!1,a=v(t(this)),n=a.serialize(),i=n.split("&"),r=t("form").index(a),s=t("form:eq("+r+")"),o=[],l=[],u=/^(?:submit|button|image|reset|file)$/i,c=/^(?:input|select|textarea|keygen)/i,d=/^(?:checkbox|radio)$/i,p=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,h=0;return t.each(s[0],function(t,e){""===e.name||!c.test(e.localName)||u.test(e.type)||e.disabled||!e.checked&&d.test(e.type)?l.push(-1):(l.push(h),h+=1)}),h=0,t.each(s[0],function(t,e){"input"!==e.localName||""!==e.type&&"text"!==e.type&&"hidden"!==e.type&&"tel"!==e.type?(o.push(-1),"input"===e.localName&&p.test(e.type)&&(h+=1)):(o.push(h),h+=1)}),t.each(i,function(a,n){n=i[a].split("=");var s=t.inArray(a,l);if(s>-1&&o[s]>-1){var u=t("form:eq("+r+") input:eq("+o[s]+")"),c=u.data("autoNumeric");"object"==typeof c&&null!==n[1]&&(n[1]=t("form:eq("+r+") input:eq("+o[s]+")").autoNumeric("get").toString(),i[a]=n.join("="),e=!0)}}),e||t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),i.join("&")},getArray:function(){var e=!1,a=v(t(this)),n=a.serializeArray(),i=t("form").index(a),r=t("form:eq("+i+")"),s=[],o=[],l=/^(?:submit|button|image|reset|file)$/i,u=/^(?:input|select|textarea|keygen)/i,c=/^(?:checkbox|radio)$/i,d=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,p=0;return t.each(r[0],function(t,e){""===e.name||!u.test(e.localName)||l.test(e.type)||e.disabled||!e.checked&&c.test(e.type)?o.push(-1):(o.push(p),p+=1)}),p=0,t.each(r[0],function(t,e){"input"!==e.localName||""!==e.type&&"text"!==e.type&&"hidden"!==e.type&&"tel"!==e.type?(s.push(-1),"input"===e.localName&&d.test(e.type)&&(p+=1)):(s.push(p),p+=1)}),t.each(n,function(a,n){var r=t.inArray(a,o);if(r>-1&&s[r]>-1){var l=t("form:eq("+i+") input:eq("+s[r]+")"),u=l.data("autoNumeric");"object"==typeof u&&(n.value=t("form:eq("+i+") input:eq("+s[r]+")").autoNumeric("get").toString(),e=!0)}}),e||t.error("None of the successful form inputs are initialized by autoNumeric."),n},getSettings:function(){var e=v(t(this));return e.eq(0).data("autoNumeric")}};t.fn.autoNumeric=function(e){return k[e]?k[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" is not supported by autoNumeric()'):k.init.apply(this,arguments)},t.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}}(jQuery),function(){var t;Stripe.setPublishableKey(window.stripe_publishable_key),jQuery(function(e){e("#profile-payment-account").submit(function(a){var n,i;return n=e(this),i=!0,""===e("#formatted_amount_transfer").val()?(e(".amount-error").text("can't be blank"),i=!1):e(".amount-error").text(""),""===e("#bank_account_transfer_frequency").val()?(e(".transfer-frequency-error").text("can't be blank"),i=!1):e(".transfer-frequency-error").text(""),i&&(e("#loading").show(),n.find("button").prop("disabled",!0),Stripe.card.createToken(n,t)),!1})}),t=function(t,e){var a,n;a=$("#profile-payment-account"),e.error?(a.find(".payment-errors").text(e.error.message),a.find("button").prop("disabled",!1)):(n=e.id,a.append($('<input type="hidden" name="stripeToken" />').val(n)),a.get(0).submit()),$("#loading").fadeOut("slow")},$(document).ready(function(){return initAutoNumeric("#formatted_amount_transfer","#bank_account_amount_transfer"),$("#profile_image").on("click",function(t){t.preventDefault(),$("#choose_profile_image")[0].click()}),$("input[type=file]").bootstrapFileInput(),$(".file-inputs").bootstrapFileInput(),$("#choose_profile_image").on("change",function(){$("#profile_image").attr("width",226),$("#profile_image").attr("height",226),$("#profile_image")[0].src=window.URL.createObjectURL(this.files[0])})})}.call(this);