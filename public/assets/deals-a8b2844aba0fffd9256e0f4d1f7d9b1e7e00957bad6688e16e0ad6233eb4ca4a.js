/*
 * blueimp Gallery JS 2.11.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Swipe implementation based on
 * https://github.com/bradbirdsall/Swipe
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(t){"use strict";function e(t,i){return t&&t.length&&void 0!==document.body.style.maxHeight?this&&this.options===e.prototype.options?(this.list=t,this.num=t.length,this.initOptions(i),void this.initialize()):new e(t,i):!1}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},support:function(e){var i,a,s,n={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},o={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},r=function(){document.body.appendChild(e),a&&(i=a.name.slice(0,-9)+"ransform",void 0!==e.style[i]&&(e.style[i]="translateZ(0)",s=window.getComputedStyle(e).getPropertyValue(a.prefix+"transform"),n.transform={prefix:a.prefix,name:i,translate:!0,translateZ:!!s&&"none"!==s})),void 0!==e.style.backgroundSize&&(n.backgroundSize={},e.style.backgroundSize="contain",n.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",n.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)};for(i in o)if(o.hasOwnProperty(i)&&void 0!==e.style[i]){a=o[i],a.name=i,n.transition=a;break}return document.body?r():t(document).on("DOMContentLoaded",r),n}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(t,e){window.clearTimeout(this.timeout);var i,a,s,n=this.index;if(n!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transition){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(n-t)/(n-t),this.options.continuous&&(a=i,i=-this.positions[this.circle(t)]/this.slideWidth,i!==a&&(t=-i*this.num+t)),s=Math.abs(n-t)-1;s;)s-=1,this.move(this.circle((t>n?t:n)-s-1),this.slideWidth*i,0);t=this.circle(t),this.move(n,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-(this.slideWidth*i),0)}else t=this.circle(t),this.animate(n*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this,e=function(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,e),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,a){var s=this.slides[t].style,n=this.support.transition,o=this.support.transform;s[n.name+"Duration"]=a+"ms",s[o.name]="translate("+e+"px, "+i+"px)"+(o.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(!i)return void(this.slidesContainer[0].style.left=e+"px");var a=this,s=(new Date).getTime(),n=window.setInterval(function(){var o=(new Date).getTime()-s;return o>i?(a.slidesContainer[0].style.left=e+"px",a.ontransitionend(),void window.clearInterval(n)):void(a.slidesContainer[0].style.left=(e-t)*(Math.floor(o/i*100)/100)+t+"px")},4)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,a=e.relatedTarget;(!a||a!==i&&!t.contains(i,a))&&this.onmouseup(e)}},ontouchstart:function(t){var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){var e,i,a=(t.originalEvent||t).touches[0],s=(t.originalEvent||t).scale,n=this.index;if(!(a.length>1||s&&1!==s))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:a.pageX-this.touchStart.x,y:a.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(n,this.touchDelta.y+this.positions[n],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(n+1),n,this.circle(n-1)]:(this.touchDelta.x=e/=!n&&e>0||n===this.num-1&&0>e?Math.abs(e)/this.slideWidth+1:1,i=[n],n&&i.push(n-1),n<this.num-1&&i.unshift(n+1));i.length;)n=i.pop(),this.translateX(n,e+this.positions[n],0)},ontouchend:function(){var t,e,i,a,s,n=this.index,o=this.options.transitionSpeed,r=this.slideWidth,l=Number(Date.now()-this.touchStart.time)<250,h=l&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>r/2,c=!n&&this.touchDelta.x>0||n===this.num-1&&this.touchDelta.x<0,d=!h&&this.options.closeOnSwipeUpOrDown&&(l&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(c=!1),t=this.touchDelta.x<0?-1:1,this.isScrolling?d?this.close():this.translateY(n,0,o):h&&!c?(e=n+t,i=n-t,a=r*t,s=-r*t,this.options.continuous?(this.move(this.circle(e),a,0),this.move(this.circle(n-2*t),s,0)):e>=0&&e<this.num&&this.move(e,a,0),this.move(n,this.positions[n]+a,o),this.move(this.circle(i),this.positions[this.circle(i)]+a,o),n=this.circle(i),this.onslide(n)):this.options.continuous?(this.move(this.circle(n-1),-r,o),this.move(n,0,o),this.move(this.circle(n+1),r,o)):(n&&this.move(n-1,-r,o),this.move(n,0,o),n<this.num-1&&this.move(n+1,r,o))},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,a=e.target||e.srcElement,s=a&&a.parentNode;a&&s&&(i=this.getNodeIndex(s),t(s).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(s).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,a.clientHeight>this.container[0].clientHeight&&(a.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===s&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,s]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){var i=this.options,a=e.target||e.srcElement,s=a.parentNode,n=function(e){return t(a).hasClass(e)||t(s).hasClass(e)};s===this.slidesContainer[0]?(this.preventDefault(e),i.closeOnSlideClick?this.close():this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]?(this.preventDefault(e),this.toggleControls()):n(i.toggleClass)?(this.preventDefault(e),this.toggleControls()):n(i.prevClass)?(this.preventDefault(e),this.prev()):n(i.nextClass)?(this.preventDefault(e),this.next()):n(i.closeClass)?(this.preventDefault(e),this.close()):n(i.playPauseClass)&&(this.preventDefault(e),this.toggleSlideshow())},onclick:function(t){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(t)},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var a=this;return t&&window.setTimeout(function(){t.apply(a,e||[])},i||0)},imageFactory:function(e,i){var a,s,n,o=this,r=this.imagePrototype.cloneNode(!1),l=e,h=this.options.stretchImages,c=function(e){if(!a){if(e={type:e.type,target:s},!s.parentNode)return o.setTimeout(c,[e]);a=!0,t(r).off("load error",c),h&&"load"===e.type&&(s.style.background='url("'+l+'") center no-repeat',s.style.backgroundSize=h),i(e)}};return"string"!=typeof l&&(l=this.getItemProperty(e,this.options.urlProperty),n=this.getItemProperty(e,this.options.titleProperty)),h===!0&&(h="contain"),h=this.support.backgroundSize&&this.support.backgroundSize[h]&&h,h?s=this.elementPrototype.cloneNode(!1):(s=r,r.draggable=!1),n&&(s.title=n),t(r).on("load error",c),r.src=l,s},createElement:function(e,i){var a=e&&this.getItemProperty(e,this.options.typeProperty),s=a&&this[a.split("/")[0]+"Factory"]||this.imageFactory,n=e&&s.call(this,e,i);return n||(n=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:n}])),t(n).addClass(this.options.slideContentClass),n},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),a=t;for(e=0;i>e;e+=1)a+=e*(e%2===0?-1:1),a=this.circle(a),this.loadElement(a)},unloadElements:function(t){var e,i,a;for(e in this.elements)this.elements.hasOwnProperty(e)&&(a=Math.abs(t-e),a>this.options.preloadRange&&a+this.options.preloadRange<this.num&&(i=this.slides[e],i.removeChild(i.firstChild),delete this.elements[e]))},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transition&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,a;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),a=0;a<this.num;a+=1)i&&this.addSlide(a),this.positionSlide(a);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transition||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,a,s,n){var o=n||i||a||s&&parseInt(s,10);e&&t&&(t=t[o])}),t},getDataProperty:function(e,i){if(e.getAttribute){var a=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof a){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(a))try{return t.parseJSON(a)}catch(s){}return a}}},getItemProperty:function(t,e){var i=t[e];return void 0===i&&(i=this.getDataProperty(t,e),void 0===i&&(i=this.getNestedProperty(t,e))),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){var e=this,i=this.slidesContainer,a=function(t){var i=e.support.transition&&e.support.transition.end===t.type?"transitionend":t.type;e["on"+i](t)};t(window).on("resize",a),t(document.body).on("keydown",a),this.container.on("click",a),this.support.touch?i.on("touchstart touchmove touchend",a):this.options.emulateTouchEvents&&this.support.transition&&i.on("mousedown mousemove mouseup mouseout",a),this.support.transition&&i.on(this.support.transition.end,a),this.proxyListener=a},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this,i=function(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleOpen())};return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,i):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):!1):!1},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||e.carousel!==!1))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),/*
 * blueimp Gallery Indicator JS 1.1.0
 * https://github.com/blueimp/Gallery
 *
 * Copyright 2013, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=e.prototype.initSlides,a=e.prototype.addSlide,s=e.prototype.resetSlides,n=e.prototype.handleClick,o=e.prototype.handleSlide,r=e.prototype.handleClose;return t.extend(e.prototype,{createIndicator:function(e){var i,a,s=this.indicatorPrototype.cloneNode(!1),n=this.getItemProperty(e,this.options.titleProperty),o=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(a=e.getElementsByTagName&&t(e).find("img")[0],a?i=a.src:o&&(i=this.getItemProperty(e,o)),i&&(s.style.backgroundImage='url("'+i+'")')),n&&(s.title=n),s},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){a.call(this,t),this.addIndicator(t)},resetSlides:function(){s.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return n.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t){o.call(this,t),this.setActiveIndicator(t)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),r.call(this)}}),e}),/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(t,e,i,a){var s=t(e);t.fn.lazyload=function(n){function o(){var e=0;l.each(function(){var i=t(this);if(!h.skip_invisible||i.is(":visible"))if(t.abovethetop(this,h)||t.leftofbegin(this,h));else if(t.belowthefold(this,h)||t.rightoffold(this,h)){if(++e>h.failure_limit)return!1}else i.trigger("appear"),e=0})}var r,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(a!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),a!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),t.extend(h,n)),r=h.container===a||h.container===e?s:t(h.container),0===h.event.indexOf("scroll")&&r.bind(h.event,function(){return o()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===a||i.attr("src")===!1)&&i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var a=l.length;h.appear.call(e,a,h)}t("<img />").bind("load",function(){var a=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",a):i.css("background-image","url('"+a+"')"),i[h.effect](h.effect_speed),e.loaded=!0;var s=t.grep(l,function(t){return!t.loaded});if(l=t(s),h.load){var n=l.length;h.load.call(e,n,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){e.loaded||i.trigger("appear")})}),s.bind("resize",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&s.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){o()}),this},t.belowthefold=function(i,n){var o;return o=n.container===a||n.container===e?(e.innerHeight?e.innerHeight:s.height())+s.scrollTop():t(n.container).offset().top+t(n.container).height(),o<=t(i).offset().top-n.threshold},t.rightoffold=function(i,n){var o;return o=n.container===a||n.container===e?s.width()+s.scrollLeft():t(n.container).offset().left+t(n.container).width(),o<=t(i).offset().left-n.threshold},t.abovethetop=function(i,n){var o;return o=n.container===a||n.container===e?s.scrollTop():t(n.container).offset().top,o>=t(i).offset().top+n.threshold+t(i).height()},t.leftofbegin=function(i,n){var o;return o=n.container===a||n.container===e?s.scrollLeft():t(n.container).offset().left,o>=t(i).offset().left+n.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function s(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function n(t){return function(){return this[t].apply(this,arguments)}}function o(e,i){function a(t,e){return e.toLowerCase()}var s,n=t(e).data(),o={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in n)i.test(l)&&(s=l.replace(r,a),o[s]=n[l]);return o}function r(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var a=g[e];return t.each(f,function(t,e){e in a&&(i[e]=a[e])}),i}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,a=this.length;a>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(s){this._o=t.extend({},this._o,s);var n=this.o=t.extend({},this._o),o=n.language;switch(g[o]||(o=o.split("-")[0],g[o]||(o=p.language)),n.language=o,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=m.parseFormat(n.format);if(n.startDate!==-(1/0)&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=m.parseDate(n.startDate,r,n.language):n.startDate=-(1/0)),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=m.parseDate(n.endDate,r,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)}),n.datesDisabled=n.datesDisabled||[],!t.isArray(n.datesDisabled)){var l=[];l.push(m.parseDate(n.datesDisabled,r,n.language)),n.datesDisabled=l}n.datesDisabled=t.map(n.datesDisabled,function(t){return m.parseDate(t,r,n.language)});var h=String(n.orientation).toLowerCase().split(/\s+/g),c=n.orientation.toLowerCase();if(h=t.grep(h,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===h.length)switch(h[0]){case"top":case"bottom":n.orientation.y=h[0];break;case"left":case"right":n.orientation.x=h[0]}else c=t.grep(h,function(t){return/^left|right$/.test(t)}),n.orientation.x=c[0]||"auto",c=t.grep(h,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=c[0]||"auto";else;if(n.defaultViewDate){var d=n.defaultViewDate.year||(new Date).getFullYear(),u=n.defaultViewDate.month||0,f=n.defaultViewDate.day||1;n.defaultViewDate=i(d,u,f)}else n.defaultViewDate=a();n.showOnFocus=n.showOnFocus!==e?n.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,a,s,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(a=e,s=t[n][1]):3===t[n].length&&(a=t[n][1],s=t[n][2]),i.on(s,a)},_unapplyEvents:function(t){for(var i,a,s,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(s=e,a=t[n][1]):3===t[n].length&&(s=t[n][1],a=t[n][2]),i.off(a,s)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var a=i||this.dates.get(-1),s=this._utc_to_local(a);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var a=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,a)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),a=10,s=t(this.o.container).width(),n=t(this.o.container).height(),o=t(this.o.container).scrollTop(),r=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var h=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-r.left,f=c.top-r.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-u)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-a):p+e>s?(this.picker.addClass("datepicker-orient-right"),p=c.left+u-e):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-o+f-i,m=o+n-(f+d+i),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=d:f-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=s-(p+u);this.picker.css({top:f,right:y,zIndex:h})}else this.picker.css({top:f,left:p,zIndex:h});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],a=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),a?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var i='<th class="cw">&#160;</th>';e+=i}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],a=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<a||e.getUTCFullYear()===a&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>a||e.getUTCFullYear()===a&&e.getUTCMonth()>n)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return s(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var a,s=new Date(this.viewDate),n=s.getUTCFullYear(),o=s.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=g[this.o.language].today||g.en.today||"",u=g[this.o.language].clear||g.en.clear||"";if(!isNaN(n)&&!isNaN(o)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[o]+" "+n),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(u).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=i(n,o-1,28),f=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,w=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var D=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),b=new Date(Number(D)+(11-D.getUTCDay())%7*864e5),_=new Date(Number(_=i(b.getUTCFullYear(),0,1))+(11-_.getUTCDay())%7*864e5),C=(b-_)/864e5/7+1;w.push('<td class="cw">'+C+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==t.noop){var k=this.o.beforeShowDay(this._utc_to_local(p));k===e?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(a=k.tooltip)}y=t.unique(y),w.push('<td class="'+y.join(" ")+'"'+(a?' title="'+a+'"':"")+">"+p.getUTCDate()+"</td>"),a=null,p.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&S.eq(e.getUTCMonth()).addClass("active")}),(r>n||n>h)&&S.addClass("disabled"),n===r&&S.slice(0,l).addClass("disabled"),n===h&&S.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var x=this;t.each(S,function(e,i){if(!t(i).hasClass("disabled")){var a=new Date(n,e,1),s=x.o.beforeShowMonth(a);s===!1&&t(i).addClass("disabled")}})}w="",n=10*parseInt(n/10,10);var T=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var M,P=t.map(this.dates,function(t){return t.getUTCFullYear()}),N=-1;11>N;N++)M=["year"],-1===N?M.push("old"):10===N&&M.push("new"),-1!==t.inArray(n,P)&&M.push("active"),(r>n||n>h)&&M.push("disabled"),w+='<span class="'+M.join(" ")+'">'+n+"</span>",n+=1;T.html(w)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var a,s,n,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=m.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":this.clearDates()}break;case"span":o.hasClass("disabled")||(this.viewDate.setUTCDate(1),o.hasClass("month")?(n=1,s=o.parent().find("span").index(o),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(a,s,n))):(n=1,s=0,a=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(a),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(a,s,n))),this.showMode(-1),this.fill());break;case"td":o.hasClass("day")&&!o.hasClass("disabled")&&(n=parseInt(o.text(),10)||1,a=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o.hasClass("old")?0===s?(s=11,a-=1):s-=1:o.hasClass("new")&&(11===s?(s=0,a+=1):s+=1),this._setDate(i(a,s,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var a,s,n=new Date(t.valueOf()),o=n.getUTCDate(),r=n.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)s=-1===i?function(){return n.getUTCMonth()===r}:function(){return n.getUTCMonth()!==a},a=r+i,n.setUTCMonth(a),(0>a||a>11)&&(a=(a+12)%12);else{for(var h=0;l>h;h++)n=this.moveMonth(n,i);a=n.getUTCMonth(),n.setUTCDate(o),s=function(){return a!==n.getUTCMonth()}}for(;s();)n.setUTCDate(--o),n.setUTCMonth(a);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(27===t.keyCode&&this.show());var e,i,s,n=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),e),s=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),e),s=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+e),s=new Date(o),s.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),e),s=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),e),s=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+7*e),s=new Date(o),s.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,u.call(t(this.inputs),i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),a=i.getUTCDate(),s=t.inArray(e.target,this.inputs),n=s-1,o=s+1,r=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(a)}),a<this.dates[n])for(;n>=0&&a<this.dates[n];)this.pickers[n--].setUTCDate(a);else if(a>this.dates[o])for(;r>o&&a>this.dates[o];)this.pickers[o++].setUTCDate(a);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker,u=function(i){var a=Array.apply(null,arguments);a.shift();var s;return this.each(function(){var n=t(this),l=n.data("datepicker"),d="object"==typeof i&&i;if(!l){var u=o(this,"date"),f=t.extend({},p,u,d),g=r(f.language),m=t.extend({},p,g,u,d);if(n.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||n.find("input").toArray()};n.data("datepicker",l=new c(this,t.extend(m,v)))}else n.data("datepicker",l=new h(this,m))}return"string"==typeof i&&"function"==typeof l[i]&&(s=l[i].apply(l,a),s!==e)?!1:void 0}),s!==e?s:this};t.fn.datepicker=u;var p=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(a,s,n){function o(){var t=this.slice(0,u[c].length),e=u[c].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!a)return e;if(a instanceof Date)return a;"string"==typeof s&&(s=m.parseFormat(s));var r,l,c,d=/([\-+]\d+)([dmwy])/,u=a.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){for(a=new Date,c=0;c<u.length;c++)switch(r=d.exec(u[c]),l=parseInt(r[1]),r[2]){case"d":a.setUTCDate(a.getUTCDate()+l);break;case"m":a=h.prototype.moveMonth.call(h.prototype,a,l);break;case"w":a.setUTCDate(a.getUTCDate()+7*l);break;case"y":a=h.prototype.moveYear.call(h.prototype,a,l)}return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}u=a&&a.match(this.nonpunctuation)||[],a=new Date;var p,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,a=i(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var D=s.parts.slice();if(u.length!==D.length&&(D=t(D).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),u.length===D.length){var b;for(c=0,b=D.length;b>c;c++){if(p=parseInt(u[c],10),r=D[c],isNaN(p))switch(r){case"MM":f=t(g[n].months).filter(o),p=t.inArray(f[0],g[n].months)+1;break;case"M":f=t(g[n].monthsShort).filter(o),p=t.inArray(f[0],g[n].monthsShort)+1}v[r]=p}var _,C;for(c=0;c<y.length;c++)C=y[c],C in v&&!isNaN(v[C])&&(_=new Date(a),w[C](_,v[C]),isNaN(_)||(a=_))}return a},formatDate:function(e,i,a){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var s={d:e.getUTCDate(),D:g[a].daysShort[e.getUTCDay()],DD:g[a].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[a].monthsShort[e.getUTCMonth()],MM:g[a].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var n=t.extend([],i.separators),o=0,r=i.parts.length;r>=o;o++)n.length&&e.push(n.shift()),e.push(s[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.4.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),u.call(i,"show"))}),t(function(){u.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(){var t,e,i,a,s,n,o;o=void 0,t=void 0,e={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},s=function(){t=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),t.addListener("place_changed",i)},i=function(){var i,a,s,n,o;n=t.getPlace(),$("#lat").length>0&&$("#lng").length>0&&($("#lat").val(n.geometry.location.lat()),$("#lng").val(n.geometry.location.lng()));for(a in e)document.getElementById(a).value="",document.getElementById(a).disabled=!1;for(s=0;s<n.address_components.length;)i=n.address_components[s].types[0],e[i]&&(o=n.address_components[s][e[i]],document.getElementById(i).value=o),s++},a=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var i,a;a={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:a,radius:e.coords.accuracy}),t.setBounds(i.getBounds())})},n=function(){var t,e,i;i={lat:parseFloat($("#lat").val()),lng:parseFloat($("#long").val())},t=new google.maps.Map(document.getElementById("map"),{center:i,zoom:15,scrollwheel:!1}),e=new google.maps.Marker({map:t,position:i})},$(document).ready(function(){return $("#autocomplete").length>0&&s(),$("#map").length>0?n():void 0})}.call(this),/**
* simplePagination.js v1.6
* A simple jQuery pagination plugin.
* http://flaviusmatis.github.com/simplePagination.js/
*
* Copyright 2012, Flavius Matis
* Released under the MIT license.
* http://flaviusmatis.github.com/license.html
*/
function(t){var e={init:function(i){var a=t.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(t,e){},onInit:function(){}},i||{}),s=this;return a.pages=a.pages?a.pages:Math.ceil(a.items/a.itemsOnPage)?Math.ceil(a.items/a.itemsOnPage):1,a.currentPage?a.currentPage=a.currentPage-1:a.currentPage=a.invertPageOrder?a.pages-1:0,a.halfDisplayed=a.displayedPages/2,this.each(function(){s.addClass(a.cssStyle+" simple-pagination").data("pagination",a),e._draw.call(s)}),a.onInit(),this},selectPage:function(t){return e._selectPage.call(this,t-1),this},prevPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1):t.currentPage>0&&e._selectPage.call(this,t.currentPage-1),this},nextPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage>0&&e._selectPage.call(this,t.currentPage-1):t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(t){this.data("pagination").pages=t},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(t){var i=this.data("pagination");return i.currentPage=t-1,this.data("pagination",i),e._draw.call(this),this},redraw:function(){return e._draw.call(this),this},disable:function(){var t=this.data("pagination");return t.disabled=!0,this.data("pagination",t),e._draw.call(this),this},enable:function(){var t=this.data("pagination");return t.disabled=!1,this.data("pagination",t),e._draw.call(this),this},updateItems:function(t){var i=this.data("pagination");i.items=t,i.pages=e._getPages(i),this.data("pagination",i),e._draw.call(this)},updateItemsOnPage:function(t){var i=this.data("pagination");return i.itemsOnPage=t,i.pages=e._getPages(i),this.data("pagination",i),e._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var i,a,s=this.data("pagination"),n=e._getInterval(s);e.destroy.call(this),a="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var o="UL"===a?this:t("<ul"+(s.listStyle?' class="'+s.listStyle+'"':"")+"></ul>").appendTo(this);if(s.prevText&&e._appendItem.call(this,s.invertPageOrder?s.currentPage+1:s.currentPage-1,{text:s.prevText,classes:"prev"}),s.nextText&&s.nextAtFront&&e._appendItem.call(this,s.invertPageOrder?s.currentPage-1:s.currentPage+1,{text:s.nextText,classes:"next"}),s.invertPageOrder){if(n.end<s.pages&&s.edges>0){if(s.useStartEdge){var r=Math.max(s.pages-s.edges,n.end);for(i=s.pages-1;i>=r;i--)e._appendItem.call(this,i)}s.pages-s.edges>n.end&&s.pages-s.edges-n.end!=1?o.append('<li class="disabled"><span class="ellipse">'+s.ellipseText+"</span></li>"):s.pages-s.edges-n.end==1&&e._appendItem.call(this,n.end)}}else if(n.start>0&&s.edges>0){if(s.useStartEdge){var l=Math.min(s.edges,n.start);for(i=0;l>i;i++)e._appendItem.call(this,i)}s.edges<n.start&&n.start-s.edges!=1?o.append('<li class="disabled"><span class="ellipse">'+s.ellipseText+"</span></li>"):n.start-s.edges==1&&e._appendItem.call(this,s.edges)}if(s.invertPageOrder)for(i=n.end-1;i>=n.start;i--)e._appendItem.call(this,i);else for(i=n.start;i<n.end;i++)e._appendItem.call(this,i);if(s.invertPageOrder){if(n.start>0&&s.edges>0&&(s.edges<n.start&&n.start-s.edges!=1?o.append('<li class="disabled"><span class="ellipse">'+s.ellipseText+"</span></li>"):n.start-s.edges==1&&e._appendItem.call(this,s.edges),s.useEndEdge)){var l=Math.min(s.edges,n.start);for(i=l-1;i>=0;i--)e._appendItem.call(this,i)}}else if(n.end<s.pages&&s.edges>0&&(s.pages-s.edges>n.end&&s.pages-s.edges-n.end!=1?o.append('<li class="disabled"><span class="ellipse">'+s.ellipseText+"</span></li>"):s.pages-s.edges-n.end==1&&e._appendItem.call(this,n.end),s.useEndEdge)){var r=Math.max(s.pages-s.edges,n.end);for(i=r;i<s.pages;i++)e._appendItem.call(this,i)}s.nextText&&!s.nextAtFront&&e._appendItem.call(this,s.invertPageOrder?s.currentPage-1:s.currentPage+1,{text:s.nextText,classes:"next"}),s.ellipsePageSet&&!s.disabled&&e._ellipseClick.call(this,o)},_getPages:function(t){var e=Math.ceil(t.items/t.itemsOnPage);return e||1},_getInterval:function(t){return{start:Math.ceil(t.currentPage>t.halfDisplayed?Math.max(Math.min(t.currentPage-t.halfDisplayed,t.pages-t.displayedPages),0):0),end:Math.ceil(t.currentPage>t.halfDisplayed?Math.min(t.currentPage+t.halfDisplayed,t.pages):Math.min(t.displayedPages,t.pages))}},_appendItem:function(i,a){var s,n,o=this,r=o.data("pagination"),l=t("<li></li>"),h=o.find("ul");i=0>i?0:i<r.pages?i:r.pages-1,s={text:i+1,classes:""},r.labelMap.length&&r.labelMap[i]&&(s.text=r.labelMap[i]),s=t.extend(s,a||{}),i==r.currentPage||r.disabled?(r.disabled||"prev"===s.classes||"next"===s.classes?l.addClass("disabled"):l.addClass("active"),n=t('<span class="current">'+s.text+"</span>")):(n=t('<a href="'+r.hrefTextPrefix+(i+1)+r.hrefTextSuffix+'" class="page-link">'+s.text+"</a>"),n.click(function(t){return e._selectPage.call(o,i,t)})),s.classes&&n.addClass(s.classes),l.append(n),h.length?h.append(l):o.append(l)},_selectPage:function(t,i){var a=this.data("pagination");return a.currentPage=t,a.selectOnClick&&e._draw.call(this),a.onPageClick(t+1,i)},_ellipseClick:function(i){var a=this,s=this.data("pagination"),n=i.find(".ellipse");n.addClass("clickable").parent().removeClass("disabled"),n.click(function(i){if(!s.disable){var o=t(this),r=(parseInt(o.parent().prev().text(),10)||0)+1;o.html('<input type="number" min="1" max="'+s.pages+'" step="1" value="'+r+'">').find("input").focus().click(function(t){t.stopPropagation()}).keyup(function(i){var o=t(this).val();13===i.which&&""!==o?e._selectPage.call(a,o-1):27===i.which&&n.empty().html(s.ellipseText)}).bind("blur",function(i){var o=t(this).val();return""!==o&&e._selectPage.call(a,o-1),n.empty().html(s.ellipseText),!1})}return!1})}};t.fn.pagination=function(i){return e[i]&&"_"!=i.charAt(0)?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.pagination"):e.init.apply(this,arguments)}}(jQuery),function(t){"use strict";var e={init:function(i){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,i),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var i=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[e]=[];for(var a=0;t>a;a++){var s=i[a],n=i[i.length-1];void 0===n&&(n=null),this.opt.hints[e][a]=void 0===s?n:s}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(a){var s=!0,n=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t(this).data("alt");i.opt.click&&(s=i.opt.click.call(i,+n,a)),(s||void 0===s)&&(i.opt.half&&!i.opt.precision&&(n=e._roundHalfScore.call(i,n)),e._apply.call(i,n))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(i){var a=+t.score.val()||void 0;e._apply.call(t,a),e._target.call(t,a,i),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,a,i)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){var a=t.opt.cancelOff;if("img"!==t.opt.starType&&(a=t.opt.cancelClass+" "+a),e._setIcon.call(t,this,a),t.opt.mouseout){var s=+t.score.val()||void 0;t.opt.mouseout.call(t,s,i)}})},_bindOver:function(){var t=this,i=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(i,function(i){var a=e._getScoreByPosition.call(t,i,this);e._fill.call(t,a),t.opt.half&&(e._roundStars.call(t,a,i),e._setTitle.call(t,a,i),t.self.data("score",a)),e._target.call(t,a,i),t.opt.mouseover&&t.opt.mouseover.call(t,a,i)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(i){var a=t.opt.path+t.opt.starOff,s=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",a):(s=t.opt.cancelClass+" "+s,t.stars.attr("class",a)),e._setIcon.call(t,this,s),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,i=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:e,alt:"x"}):i.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=t(this.opt.targetScore);this.score=i.length?i:e._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var a=e._nameForIndex.call(this,i),s={alt:i,src:this.opt.path+this.opt[a]};"img"!==this.opt.starType&&(s={"data-alt":i,"class":s.src}),s.title=e._getHint.call(this,i),t("<"+this.opt.starType+" />",s).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var i=0,a=1;a<=this.stars.length;a++){var s,n=this.stars[a-1],o=e._turnOn.call(this,a,t);if(this.opt.iconRange&&this.opt.iconRange.length>i){var r=this.opt.iconRange[i];s=e._getRangeIcon.call(this,r,o),a<=r.range&&e._setIcon.call(this,n,s),a===r.range&&i++}else s=this.opt[o?"starOn":"starOff"],e._setIcon.call(this,n,s)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],i=0;return e&&(i=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&i++),i},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(i,a){var s=parseInt(a.alt||a.getAttribute("data-alt"),10);if(this.opt.half){var n=e._getWidth.call(this),o=parseFloat((i.pageX-t(a).offset().left)/n);s=s-1+o}return s},_getHint:function(t,i){if(0!==t&&!t)return this.opt.noRatedMsg;var a=e._getFirstDecimal.call(this,t),s=Math.ceil(t),n=this.opt.hints[(s||1)-1],o=n,r=!i||this.move;return this.opt.precision?(r&&(a=0===a?9:a-1),o=n[a]):(this.opt.halfShow||this.opt.half)&&(a=r&&0===a?1:a>5?1:0,o=n[a]),""===o?"":o||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(t){for(var i=0;i<this.opt.number;i++)this.stars[i].title=e._getHint.call(this,i+1)},_roundHalfScore:function(t){var i=parseInt(t,10),a=e._getFirstDecimal.call(this,t);return 0!==a&&(a=a>5?1:.5),i+a},_roundStars:function(t,i){var a,s=(t%1).toFixed(2);if(i||this.move?a=s>.5?"starOn":"starHalf":s>this.opt.round.down&&(a="starOn",this.opt.halfShow&&s<this.opt.round.up?a="starHalf":s<this.opt.round.full&&(a="starOff")),a){var n=this.opt[a],o=this.stars[Math.ceil(t)-1];e._setIcon.call(this,o,n)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,i){if(t){var a=parseInt(Math.ceil(t),10),s=this.stars[a-1];s.title=e._getHint.call(this,t,i)}},_target:function(i,a){if(this.opt.target){var s=t(this.opt.target);s.length||e._error.call(this,"Target selector invalid or missing!");var n=a&&"mouseover"===a.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=n?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=e._getHint.call(this,i,a):this.opt.precision&&(i=parseFloat(i).toFixed(1));var o=a&&"mousemove"===a.type;n||o||this.opt.targetKeep||(i=this.opt.targetText)}e._setTarget.call(this,s,i)}},_turnOn:function(t,e){return this.opt.single?t===e:e>=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){var a=t(this);a.data("readonly")!==!0&&(e[i?"click":"score"].call(a,null),this.score.removeAttr("value"))})},click:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,t.Event("click")),e._target.call(this,i))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("raw");i?e.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(i){return this.each(function(){var a=parseInt(i,10),s=e._getFirstDecimal.call(this,i);a>=this.opt.number&&(a=this.opt.number-1,s=10);var n=e._getWidth.call(this),o=n/10,r=t(this.stars[a]),l=r.offset().left+o*s,h=t.Event("mousemove",{pageX:l});this.move=!0,r.trigger(h),this.move=!1})},readOnly:function(i){return this.each(function(){var a=t(this);a.data("readonly")!==i&&(i?(a.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),a.data("readonly",i))})},reload:function(){return e.set.call(this,{})},score:function(){var i=t(this);return arguments.length?e.setScore.apply(i,arguments):e.getScore.call(i)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),e._target.call(this,i))})}};t.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),$.fn.raty.defaults.half=!1,$.fn.raty.defaults.halfShow=!0,$.fn.raty.defaults.path="/assets",$.fn.raty.defaults.cancel=!1,$(function(){$(".star").each(function(){var t="true"==$(this).attr("data-readonly"),e="true"==$(this).attr("data-enable-half"),i="true"==$(this).attr("data-half-show"),a="true"==$(this).attr("data-single");$(this).raty({score:function(){return $(this).attr("data-rating")},number:function(){return $(this).attr("data-star-count")},half:e,halfShow:i,single:a,path:$(this).attr("data-star-path"),starOn:$(this).attr("data-star-on"),starOff:$(this).attr("data-star-off"),starHalf:$(this).attr("data-star-half"),cancel:$(this).attr("data-cancel"),cancelPlace:$(this).attr("data-cancel-place"),cancelHint:$(this).attr("data-cancel-hint"),cancelOn:$(this).attr("data-cancel-on"),cancelOff:$(this).attr("data-cancel-off"),noRatedMsg:$(this).attr("data-no-rated-message"),round:$(this).attr("data-round"),space:$(this).attr("data-space"),target:$(this).attr("data-target"),targetText:$(this).attr("data-target-text"),targetType:$(this).attr("data-target-type"),targetFormat:$(this).attr("data-target-format"),targetScoret:$(this).attr("data-target-score"),readOnly:t,click:function(t,e){var i=this;null==t&&(t=0),$.post("/rate",{score:t,dimension:$(this).attr("data-dimension"),id:$(this).attr("data-id"),klass:$(this).attr("data-classname")},function(e){e&&"true"==$(i).attr("data-disable-after-rate")&&$(i).raty("set",{readOnly:!0,score:t})})}})})}),$("#formAddToSavings").on("submit",function(t){var e;return e=void 0,e=null,$("#update_credit_cvv").val().length<3&&($(".payment-errors").html("Cvv is too short (minimum is 3 characters)"),e=!1),$("#update_credit_amount").val()||($(".payment-errors").html("Amount cannot be blank or zero or negative"),e=!1),0==$("#update_credit_amount").val()&&($(".payment-errors").html("Amount cannot be blank or zero or negative"),e=!1),$("#update_credit_amount").val()<0&&($(".payment-errors").html("Amount cannot be blank or zero or negative"),e=!1),e}),/**
 * autoNumeric.js
 * @author: Bob Knothe
 * @author: Sokolov Yura
 * @version: 1.9.42 - 2015-11-20 GMT 3:00 PM / 15:00
 *
 * Created by Robert J. Knothe on 2010-10-25. Please report any bugs to https://github.com/BobKnothe/autoNumeric
 * Contributor by Sokolov Yura on 2010-11-07
 *
 * Copyright (c) 2011 Robert J. Knothe http://www.decorplanit.com/plugin/
 *
 * The MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t){"use strict";function e(t){var e={};if(void 0===t.selectionStart){t.focus();var i=document.selection.createRange();e.length=i.text.length,i.moveStart("character",-t.value.length),e.end=i.text.length,e.start=e.end-e.length}else e.start=t.selectionStart,e.end=t.selectionEnd,e.length=e.end-e.start;return e}function i(t,e,i){if(void 0===t.selectionStart){t.focus();var a=t.createTextRange();a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select()}else t.selectionStart=e,t.selectionEnd=i}function a(e,i){t.each(i,function(t,a){"function"==typeof a?i[t]=a(e,i,t):"function"==typeof e.autoNumeric[a]&&(i[t]=e.autoNumeric[a](e,i,t))})}function s(t,e){"string"==typeof t[e]&&(t[e]*=1)}function n(t,e){a(t,e),e.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var i=e.vMax.toString().split("."),n=e.vMin||0===e.vMin?e.vMin.toString().split("."):[];if(s(e,"vMax"),s(e,"vMin"),s(e,"mDec"),e.mDec="CHF"===e.mRound?"2":e.mDec,e.allowLeading=!0,e.aNeg=e.vMin<0?"-":"",i[0]=i[0].replace("-",""),n[0]=n[0].replace("-",""),e.mInt=Math.max(i[0].length,n[0].length,1),null===e.mDec){var o=0,r=0;i[1]&&(o=i[1].length),n[1]&&(r=n[1].length),e.mDec=Math.max(o,r)}null===e.altDec&&e.mDec>0&&("."===e.aDec&&","!==e.aSep?e.altDec=",":","===e.aDec&&"."!==e.aSep&&(e.altDec="."));var l=e.aNeg?"([-\\"+e.aNeg+"]?)":"(-?)";e.aNegRegAutoStrip=l,e.skipFirstAutoStrip=new RegExp(l+"[^-"+(e.aNeg?"\\"+e.aNeg:"")+"\\"+e.aDec+"\\d].*?(\\d|\\"+e.aDec+"\\d)"),e.skipLastAutoStrip=new RegExp("(\\d\\"+e.aDec+"?)[^\\"+e.aDec+"\\d]\\D*$");var h="-"+e.aNum+"\\"+e.aDec;return e.allowedAutoStrip=new RegExp("[^"+h+"]","gi"),e.numRegAutoStrip=new RegExp(l+"(?:\\"+e.aDec+"?(\\d+\\"+e.aDec+"\\d+)|(\\d*(?:\\"+e.aDec+"\\d*)?))"),e}function o(t,e,i){if(e.aSign)for(;t.indexOf(e.aSign)>-1;)t=t.replace(e.aSign,"");t=t.replace(e.skipFirstAutoStrip,"$1$2"),t=t.replace(e.skipLastAutoStrip,"$1"),t=t.replace(e.allowedAutoStrip,""),e.altDec&&(t=t.replace(e.altDec,e.aDec));var a=t.match(e.numRegAutoStrip);if(t=a?[a[1],a[2],a[3]].join(""):"",("allow"===e.lZero||"keep"===e.lZero)&&"strip"!==i){var s=[],n="";s=t.split(e.aDec),-1!==s[0].indexOf("-")&&(n="-",s[0]=s[0].replace("-","")),s[0].length>e.mInt&&"0"===s[0].charAt(0)&&(s[0]=s[0].slice(1)),t=n+s.join(e.aDec)}if(i&&"deny"===e.lZero||i&&"allow"===e.lZero&&e.allowLeading===!1){var o="^"+e.aNegRegAutoStrip+"0*(\\d"+("leading"===i?")":"|$)");o=new RegExp(o),t=t.replace(o,"$1$2")}return t}function r(t,e){if("p"===e.pSign){var i=e.nBracket.split(",");e.hasFocus||e.removeBrackets?(e.hasFocus&&t.charAt(0)===i[0]||e.removeBrackets&&t.charAt(0)===i[0])&&(t=t.replace(i[0],e.aNeg),t=t.replace(i[1],"")):(t=t.replace(e.aNeg,""),t=i[0]+t+i[1])}return t}function l(t,e){if(t){var i=+t;if(1e-6>i&&i>-1)t=+t,1e-6>t&&t>0&&(t=(t+10).toString(),t=t.substring(1)),0>t&&t>-1&&(t=(t-10).toString(),t="-"+t.substring(2)),t=t.toString();else{var a=t.split(".");void 0!==a[1]&&(0===+a[1]?t=a[0]:(a[1]=a[1].replace(/0*$/,""),t=a.join(".")))}}return"keep"===e.lZero?t:t.replace(/^0*(\d)/,"$1")}function h(t,e,i){return e&&"."!==e&&(t=t.replace(e,".")),i&&"-"!==i&&(t=t.replace(i,"-")),t.match(/\d/)||(t+="0"),t}function c(t,e,i){return i&&"-"!==i&&(t=t.replace("-",i)),e&&"."!==e&&(t=t.replace(".",e)),t}function d(t,e,i){return""===t||t===e.aNeg?"zero"===e.wEmpty?t+"0":"sign"===e.wEmpty||i?t+e.aSign:t:null}function u(t,e){t=o(t,e);var i=t.replace(",","."),a=d(t,e,!0);if(null!==a)return a;var s="";s=2===e.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===e.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var n=t.split(e.aDec);e.altDec&&1===n.length&&(n=t.split(e.altDec));var l=n[0];if(e.aSep)for(;s.test(l);)l=l.replace(s,"$1"+e.aSep+"$2");if(0!==e.mDec&&n.length>1?(n[1].length>e.mDec&&(n[1]=n[1].substring(0,e.mDec)),t=l+e.aDec+n[1]):t=l,e.aSign){var h=-1!==t.indexOf(e.aNeg);t=t.replace(e.aNeg,""),t="p"===e.pSign?e.aSign+t:t+e.aSign,h&&(t=e.aNeg+t)}return 0>i&&null!==e.nBracket&&(t=r(t,e)),t}function p(t,e){t=""===t?"0":t.toString(),s(e,"mDec"),"CHF"===e.mRound&&(t=(Math.round(20*t)/20).toString());var i="",a=0,n="",o="boolean"==typeof e.aPad||null===e.aPad?e.aPad?e.mDec:0:+e.aPad,r=function(t){var e=0===o?/(\.(?:\d*[1-9])?)0*$/:1===o?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+o+"}(?:\\d*[1-9])?)0*$");return t=t.replace(e,"$1"),0===o&&(t=t.replace(/\.$/,"")),t};"-"===t.charAt(0)&&(n="-",t=t.replace("-","")),t.match(/^\d/)||(t="0"+t),"-"===n&&0===+t&&(n=""),(+t>0&&"keep"!==e.lZero||t.length>0&&"allow"===e.lZero)&&(t=t.replace(/^0*(\d)/,"$1"));var l=t.lastIndexOf("."),h=-1===l?t.length-1:l,c=t.length-1-h;if(c<=e.mDec){if(i=t,o>c){-1===l&&(i+=e.aDec);for(var d="000000";o>c;)d=d.substring(0,o-c),i+=d,c+=d.length}else c>o?i=r(i):0===c&&0===o&&(i=i.replace(/\.$/,""));if("CHF"!==e.mRound)return 0===+i?i:n+i;"CHF"===e.mRound&&(l=i.lastIndexOf("."),t=i)}var u=l+e.mDec,p=+t.charAt(u+1),f=t.substring(0,u+1).split(""),g="."===t.charAt(u)?t.charAt(u-1)%2:t.charAt(u)%2,m=!0;if(1!==g&&(g=0===g&&t.substring(u+2,t.length)>0?1:0),p>4&&"S"===e.mRound||p>4&&"A"===e.mRound&&""===n||p>5&&"A"===e.mRound&&"-"===n||p>5&&"s"===e.mRound||p>5&&"a"===e.mRound&&""===n||p>4&&"a"===e.mRound&&"-"===n||p>5&&"B"===e.mRound||5===p&&"B"===e.mRound&&1===g||p>0&&"C"===e.mRound&&""===n||p>0&&"F"===e.mRound&&"-"===n||p>0&&"U"===e.mRound||"CHF"===e.mRound)for(a=f.length-1;a>=0;a-=1)if("."!==f[a]){if("CHF"===e.mRound&&f[a]<=2&&m){f[a]=0,m=!1;break}if("CHF"===e.mRound&&f[a]<=7&&m){f[a]=5,m=!1;break}if("CHF"===e.mRound&&m?(f[a]=10,m=!1):f[a]=+f[a]+1,f[a]<10)break;a>0&&(f[a]="0")}return f=f.slice(0,u+1),i=r(f.join("")),0===+i?i:n+i}function f(t,e,i){var a=e.aDec,s=e.mDec;if(t="paste"===i?p(t,e):t,a&&s){var n=t.split(a);n[1]&&n[1].length>s&&(s>0?(n[1]=n[1].substring(0,s),t=n.join(a)):t=n[0])}return t}function g(t,e){t=o(t,e),t=f(t,e),t=h(t,e.aDec,e.aNeg);var i=+t;return i>=e.vMin&&i<=e.vMax}function m(e,i){this.settings=i,this.that=e,this.$that=t(e),this.formatted=!1,this.settingsClone=n(this.$that,this.settings),this.value=e.value}function v(e){return"string"==typeof e&&(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),e="#"+e.replace(/(:|\.)/g,"\\$1")),t(e)}function y(t,e,i){var a=t.data("autoNumeric");a||(a={},t.data("autoNumeric",a));var s=a.holder;return(void 0===s&&e||i)&&(s=new m(t.get(0),e),a.holder=s),s}m.prototype={init:function(t){this.value=this.that.value,this.settingsClone=n(this.$that,this.settings),this.ctrlKey=t.ctrlKey,this.cmdKey=t.metaKey,this.shiftKey=t.shiftKey,this.selection=e(this.that),("keydown"===t.type||"keyup"===t.type)&&(this.kdCode=t.keyCode),this.which=t.which,this.processed=!1,this.formatted=!1},setSelection:function(t,e,a){t=Math.max(t,0),e=Math.min(e,this.that.value.length),this.selection={start:t,end:e,length:e-t},(void 0===a||a)&&i(this.that,t,e)},setPosition:function(t,e){this.setSelection(t,t,e)},getBeforeAfter:function(){var t=this.value,e=t.substring(0,this.selection.start),i=t.substring(this.selection.end,t.length);return[e,i]},getBeforeAfterStriped:function(){var t=this.getBeforeAfter();return t[0]=o(t[0],this.settingsClone),t[1]=o(t[1],this.settingsClone),t},normalizeParts:function(t,e){var i=this.settingsClone;e=o(e,i);var a=e.match(/^\d/)?!0:"leading";t=o(t,i,a),""!==t&&t!==i.aNeg||"deny"!==i.lZero||e>""&&(e=e.replace(/^0*(\d)/,"$1"));var s=t+e;if(i.aDec){var n=s.match(new RegExp("^"+i.aNegRegAutoStrip+"\\"+i.aDec));n&&(t=t.replace(n[1],n[1]+"0"),s=t+e)}return"zero"!==i.wEmpty||s!==i.aNeg&&""!==s||(t+="0"),[t,e]},setValueParts:function(t,e,i){var a=this.settingsClone,s=this.normalizeParts(t,e),n=s.join(""),o=s[0].length;return g(n,a)?(n=f(n,a,i),o>n.length&&(o=n.length),this.value=n,this.setPosition(o,!1),!0):!1},signPosition:function(){var t=this.settingsClone,e=t.aSign,i=this.that;if(e){var a=e.length;if("p"===t.pSign){var s=t.aNeg&&i.value&&i.value.charAt(0)===t.aNeg;return s?[1,a+1]:[0,a]}var n=i.value.length;return[n-a,n]}return[1e3,-1]},expandSelectionOnSign:function(t){var e=this.signPosition(),i=this.selection;i.start<e[1]&&i.end>e[0]&&((i.start<e[0]||i.end>e[1])&&this.value.substring(Math.max(i.start,e[0]),Math.min(i.end,e[1])).match(/^\s*$/)?i.start<e[0]?this.setSelection(i.start,e[0],t):this.setSelection(e[1],i.end,t):this.setSelection(Math.min(i.start,e[0]),Math.max(i.end,e[1]),t))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var t=this.getBeforeAfter(),e=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,t[0]=t[0].substr(0,e[0].length)+o(t[0].substr(e[0].length),this.settingsClone),this.setValueParts(t[0],t[1],"paste")||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAllways:function(t){var e=this.kdCode,i=this.which,a=this.ctrlKey,s=this.cmdKey,n=this.shiftKey;if((a||s)&&"keyup"===t.type&&void 0!==this.valuePartsBeforePaste||n&&45===e)return this.checkPaste(),!1;if(e>=112&&123>=e||e>=91&&93>=e||e>=9&&31>=e||8>e&&(0===i||i===e)||144===e||145===e||45===e||224===e)return!0;if((a||s)&&65===e)return!0;if((a||s)&&(67===e||86===e||88===e))return"keydown"===t.type&&this.expandSelectionOnSign(),(86===e||45===e)&&("keydown"===t.type||"keypress"===t.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===t.type||"keypress"===t.type||67===e;if(a||s)return!0;if(37===e||39===e){var o=this.settingsClone.aSep,r=this.selection.start,l=this.that.value;return"keydown"===t.type&&o&&!this.shiftKey&&(37===e&&l.charAt(r-2)===o?this.setPosition(r-1):39===e&&l.charAt(r+1)===o&&this.setPosition(r+1)),!0}return e>=34&&40>=e?!0:!1},processAllways:function(){var t;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped(),this.setValueParts(t[0],t[1])):(t=this.getBeforeAfterStriped(),8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length),this.setValueParts(t[0],t[1])),!0):!1},processKeypress:function(){var t=this.settingsClone,e=String.fromCharCode(this.which),i=this.getBeforeAfterStriped(),a=i[0],s=i[1];return e===t.aDec||t.altDec&&e===t.altDec||("."===e||","===e)&&110===this.kdCode?t.mDec&&t.aDec?t.aNeg&&s.indexOf(t.aNeg)>-1?!0:a.indexOf(t.aDec)>-1?!0:s.indexOf(t.aDec)>0?!0:(0===s.indexOf(t.aDec)&&(s=s.substr(1)),this.setValueParts(a+t.aDec,s),!0):!0:"-"===e||"+"===e?t.aNeg?(""===a&&s.indexOf(t.aNeg)>-1&&(a=t.aNeg,s=s.substring(1,s.length)),a=a.charAt(0)===t.aNeg?a.substring(1,a.length):"-"===e?t.aNeg+a:a,this.setValueParts(a,s),!0):!0:e>="0"&&"9">=e?(t.aNeg&&""===a&&s.indexOf(t.aNeg)>-1&&(a=t.aNeg,s=s.substring(1,s.length)),t.vMax<=0&&t.vMin<t.vMax&&-1===this.value.indexOf(t.aNeg)&&"0"!==e&&(a=t.aNeg+a),this.setValueParts(a+e,s),!0):!0},formatQuick:function(){var t=this.settingsClone,e=this.getBeforeAfterStriped(),i=this.value;if((""===t.aSep||""!==t.aSep&&-1===i.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===i.indexOf(t.aSign))){var a=[],s="";a=i.split(t.aDec),a[0].indexOf("-")>-1&&(s="-",a[0]=a[0].replace("-",""),e[0]=e[0].replace("-","")),a[0].length>t.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),e[0]=s+e[0]}var n=u(this.value,this.settingsClone),o=n.length;if(n){var r=e[0].split(""),l=0;for(l;l<r.length;l+=1)r[l].match("\\d")||(r[l]="\\"+r[l]);var h=new RegExp("^.*?"+r.join(".*?")),c=n.match(h);c?(o=c[0].length,(0===o&&n.charAt(0)!==t.aNeg||1===o&&n.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(o=this.settingsClone.aSign.length+("-"===n.charAt(0)?1:0))):t.aSign&&"s"===t.pSign&&(o-=t.aSign.length)}this.that.value=n,this.setPosition(o),this.formatted=!0}};var w={init:function(e){return this.each(function(){var a=t(this),s=a.data("autoNumeric"),n=a.data(),l=a.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof s)return this;s=t.extend({},t.fn.autoNumeric.defaults,n,e,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]}),s.aDec===s.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+s.aDec+"' and thousand separator aSep: '"+s.aSep+"' are the same character"),a.data("autoNumeric",s);var f=y(a,s);if(l||"input"!==a.prop("tagName").toLowerCase()||t.error('The input type "'+a.prop("type")+'" is not supported by autoNumeric()'),-1===t.inArray(a.prop("tagName").toLowerCase(),s.tagList)&&"input"!==a.prop("tagName").toLowerCase()&&t.error("The <"+a.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),s.runOnce===!1&&s.aForm){if(l){var m=!0;""===a[0].value&&"empty"===s.wEmpty&&(a[0].value="",m=!1),""===a[0].value&&"sign"===s.wEmpty&&(a[0].value=s.aSign,m=!1),m&&""!==a.val()&&(null===s.anDefault&&a[0].value===a.prop("defaultValue")||null!==s.anDefault&&s.anDefault.toString()===a.val())&&a.autoNumeric("set",a.val())}-1!==t.inArray(a.prop("tagName").toLowerCase(),s.tagList)&&""!==a.text()&&a.autoNumeric("set",a.text())}s.runOnce=!0,a.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(a.on("keydown.autoNumeric",function(e){return f=y(a),f.settings.aDec===f.settings.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+f.settings.aDec+"' and thousand separator aSep: '"+f.settings.aSep+"' are the same character"),f.that.readOnly?(f.processed=!0,!0):(f.init(e),f.skipAllways(e)?(f.processed=!0,!0):f.processAllways()?(f.processed=!0,f.formatQuick(),e.preventDefault(),!1):(f.formatted=!1,!0))}),a.on("keypress.autoNumeric",function(t){f=y(a);var e=f.processed;return f.init(t),f.skipAllways(t)?!0:e?(t.preventDefault(),!1):f.processAllways()||f.processKeypress()?(f.formatQuick(),t.preventDefault(),!1):void(f.formatted=!1)}),a.on("keyup.autoNumeric",function(t){f=y(a),f.init(t);var e=f.skipAllways(t);return f.kdCode=0,delete f.valuePartsBeforePaste,a[0].value===f.settings.aSign&&("s"===f.settings.pSign?i(this,0,0):i(this,f.settings.aSign.length,f.settings.aSign.length)),e?!0:""===this.value?!0:void(f.formatted||f.formatQuick())}),a.on("focusin.autoNumeric",function(){f=y(a);var t=f.settingsClone;if(t.hasFocus=!0,null!==t.nBracket){var e=a.val();a.val(r(e,t))}f.inVal=a.val();var i=d(f.inVal,t,!0);null!==i&&""!==i&&a.val(i)}),a.on("focusout.autoNumeric",function(){f=y(a);var t=f.settingsClone,e=a.val(),i=e;t.hasFocus=!1;var s="";"allow"===t.lZero&&(t.allowLeading=!1,s="leading"),""!==e&&(e=o(e,t,s),null===d(e,t)&&g(e,t,a[0])?(e=h(e,t.aDec,t.aNeg),e=p(e,t),e=c(e,t.aDec,t.aNeg)):e="");var n=d(e,t,!1);null===n&&(n=u(e,t)),(n!==f.inVal||n!==i)&&(a.val(n),a.change(),delete f.inVal)}))})},destroy:function(){return t(this).each(function(){var e=t(this);e.off(".autoNumeric"),e.removeData("autoNumeric")})},update:function(e){return t(this).each(function(){var i=v(t(this)),a=i.data("autoNumeric");"object"!=typeof a&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var s=i.autoNumeric("get");return a=t.extend(a,e),y(i,a,!0),a.aDec===a.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+a.aDec+"' and thousand separator aSep: '"+a.aSep+"' are the same character"),i.data("autoNumeric",a),""!==i.val()||""!==i.text()?i.autoNumeric("set",s):void 0})},set:function(e){return null!==e?t(this).each(function(){var i=v(t(this)),a=i.data("autoNumeric"),s=e.toString(),n=e.toString(),o=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof a&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),n!==i.attr("value")&&n!==i.text()||a.runOnce!==!1||(s=s.replace(",",".")),t.isNumeric(+s)||t.error("The value ("+s+") being 'set' is not numeric and has caused a error to be thrown"),s=l(s,a),a.setEvent=!0,s.toString(),""!==s&&(s=p(s,a)),s=c(s,a.aDec,a.aNeg),g(s,a)||(s=p("",a)),s=u(s,a),o?i.val(s):-1!==t.inArray(i.prop("tagName").toLowerCase(),a.tagList)?i.text(s):!1}):void 0},get:function(){var e=v(t(this)),i=e.data("autoNumeric");"object"!=typeof i&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var a="";return e.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?a=e.eq(0).val():-1!==t.inArray(e.prop("tagName").toLowerCase(),i.tagList)?a=e.eq(0).text():t.error("The <"+e.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===a&&"empty"===i.wEmpty||a===i.aSign&&("sign"===i.wEmpty||"empty"===i.wEmpty)?"":(""!==a&&null!==i.nBracket&&(i.removeBrackets=!0,a=r(a,i),i.removeBrackets=!1),(i.runOnce||i.aForm===!1)&&(a=o(a,i)),a=h(a,i.aDec,i.aNeg),0===+a&&"keep"!==i.lZero&&(a="0"),"keep"===i.lZero?a:a=l(a,i))},getString:function(){var e=!1,i=v(t(this)),a=i.serialize(),s=a.split("&"),n=t("form").index(i),o=t("form:eq("+n+")"),r=[],l=[],h=/^(?:submit|button|image|reset|file)$/i,c=/^(?:input|select|textarea|keygen)/i,d=/^(?:checkbox|radio)$/i,u=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,p=0;return t.each(o[0],function(t,e){""===e.name||!c.test(e.localName)||h.test(e.type)||e.disabled||!e.checked&&d.test(e.type)?l.push(-1):(l.push(p),p+=1)}),p=0,t.each(o[0],function(t,e){"input"!==e.localName||""!==e.type&&"text"!==e.type&&"hidden"!==e.type&&"tel"!==e.type?(r.push(-1),"input"===e.localName&&u.test(e.type)&&(p+=1)):(r.push(p),p+=1)}),t.each(s,function(i,a){a=s[i].split("=");var o=t.inArray(i,l);if(o>-1&&r[o]>-1){var h=t("form:eq("+n+") input:eq("+r[o]+")"),c=h.data("autoNumeric");"object"==typeof c&&null!==a[1]&&(a[1]=t("form:eq("+n+") input:eq("+r[o]+")").autoNumeric("get").toString(),s[i]=a.join("="),e=!0)}}),e||t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),s.join("&")},getArray:function(){var e=!1,i=v(t(this)),a=i.serializeArray(),s=t("form").index(i),n=t("form:eq("+s+")"),o=[],r=[],l=/^(?:submit|button|image|reset|file)$/i,h=/^(?:input|select|textarea|keygen)/i,c=/^(?:checkbox|radio)$/i,d=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,u=0;return t.each(n[0],function(t,e){""===e.name||!h.test(e.localName)||l.test(e.type)||e.disabled||!e.checked&&c.test(e.type)?r.push(-1):(r.push(u),u+=1)}),u=0,t.each(n[0],function(t,e){"input"!==e.localName||""!==e.type&&"text"!==e.type&&"hidden"!==e.type&&"tel"!==e.type?(o.push(-1),"input"===e.localName&&d.test(e.type)&&(u+=1)):(o.push(u),u+=1)}),t.each(a,function(i,a){var n=t.inArray(i,r);if(n>-1&&o[n]>-1){var l=t("form:eq("+s+") input:eq("+o[n]+")"),h=l.data("autoNumeric");"object"==typeof h&&(a.value=t("form:eq("+s+") input:eq("+o[n]+")").autoNumeric("get").toString(),e=!0)}}),e||t.error("None of the successful form inputs are initialized by autoNumeric."),a},getSettings:function(){var e=v(t(this));return e.eq(0).data("autoNumeric")}};t.fn.autoNumeric=function(e){return w[e]?w[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" is not supported by autoNumeric()'):w.init.apply(this,arguments)},t.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}}(jQuery),function(){var t,e,i,a,s,n,o;s="undefined"!=typeof exports&&null!==exports?exports:this,i=function(t){var e,i,a,s;return e=t.getDate(),a=t.getMonth()+1,s=t.getFullYear(),i=[a,e,s].join("/")},e=function(){$("#searchDealsForm").on("keyup keypress",function(t){var e;return e=t.keyCode||t.which,13===e?(t.preventDefault(),!1):void 0})},o=function(){$("#searchDealsForm").validate({ignore:".ignore",rules:{autocomplete:"required"},messages:{autocomplete:"Please enter your destination"}})},n=function(){return $("#formBook").length>0?$("#formBook").on("submit",function(t){var e;return e=void 0,e=void 0,e=null,$("#confirmation_book_policy").is(":checked")===!1&&($(".payment-errors").html("Cancellation policy must be approved"),e=!1),e}):void 0},s.initDealsPage=function(t,e){return t&&e&&e>15&&$("#pagination").pagination({pages:t,cssStyle:"light-theme",displayedPages:3,edges:1,onPageClick:function(t,i){var a,s,n,o;return n=$("#page-"+t),n.show(),$(".deal-pages").not(n).hide(),$("html, body").animate({scrollTop:0},"slow"),s=t-1,o=15*s+1,a=15*t,a>e&&(a=e),$("p#pagination-info").text(o+" - "+a+" of "+e+" Hotels"),!1}}),$("div.lazy").lazyload()},a=function(t){var e;return e=["January","February","March","April","May","June","July","August","September","October","November","December"],e[t]},s.roomSelected=function(t){return $(t).on("click",function(){var t,e,i,s,n,o,r,l,h,c;for(o=$(this).data("rate-code"),h=$(this).data("room-type-code"),n=rooms.numberOfRoomsRequested,$(".bs-example-modal-lg").modal({backdrop:"static"}),$(".modal .modal-header h3").text(rooms.hotelName),$(".modal #roomRating").attr("data-rating",rooms.tripAdvisorRating),$(".modal .rating-text").text(rooms.tripAdvisorRating+" ratings"),$(".modal .hotel-info-addr").html("&nbsp;"+rooms.hotelAddress),$(".modal .hotel-info-city").html("&nbsp;City:&nbsp; "+rooms.hotelCity),rooms.hotelStateProvince?$(".modal .hotel-info-state").html("&nbsp;State:&nbsp; "+rooms.hotelStateProvince):$(".modal .hotel-info-state").html("&nbsp;State:&nbsp; Information not specified"),$(".modal .hotel-info-country").html("&nbsp;Country:&nbsp; "+rooms.hotelCountry),$(".modal .checkin-intructions").html(rooms.checkInInstructions),$("#confirmation_book_hotel_id").val($(this).data("id")),$("#confirmation_book_arrival_date").val(rooms.arrivalDate),$("#confirmation_book_departure_date").val(rooms.departureDate),$("#confirmation_book_rate_code").val(o),$("#confirmation_book_room_type_code").val(h),l=null,l="1"===rooms["@size"]?[rooms.HotelRoomResponse]:$.grep(rooms.HotelRoomResponse,function(t,e){return t.rateCode===o}),t=new Date(rooms.arrivalDate),s=new Date(rooms.departureDate),i=[],e=t;s>=e;)i.push(new Date(e)),e.setDate(e.getDate()+1);return i.pop(),c=$("table.table:last tbody"),c.html(""),$(".modal #roomName").html(l[0].rateDescription),$.each(i,function(t,e){var i;return i=a(e.getMonth()),c.append("<tr><td>"+i+" "+e.getDate()+", "+e.getFullYear()+"</td><td>"+l[0].RateInfos.RateInfo.ChargeableRateInfo["@averageRate"]+"</td></tr>")}),c.append("<tr><td><b>Total taxes and fees</b></td><td>"+l[0].RateInfos.RateInfo.ChargeableRateInfo["@surchargeTotal"]+"</td></td>"),c.append("<tr><td><b>Total Charges</b></td><td>"+l[0].RateInfos.RateInfo.ChargeableRateInfo["@total"]+"</td></tr>"),$("#confirmation_book_total").val(l[0].RateInfos.RateInfo.ChargeableRateInfo["@total"]),$("#confirmation_book_rate_key").val(l[0].RateInfos.RateInfo.RoomGroup.Room.rateKey),l[0].RoomImages?("1"===l[0].RoomImages["@size"]?$("#roomImage").attr("src",l[0].RoomImages.RoomImage.url):$("#roomImage").attr("src",l[0].RoomImages.RoomImage[0].url),$("#imageDisclaimer").hide()):($("#roomImage").attr("src","http://media.expedia.com/hotels/1000000/50000/40400/40338/40338_208_s.jpg"),$("#imageDisclaimer").show()),"1"===l[0].BedTypes["@size"]?$("#confirmation_book_bed_type").val(l[0].BedTypes.BedType["@id"]):$("#confirmation_book_bed_type").val($.map(l[0].BedTypes.BedType,function(t){return t["@id"]})),$("#roomRating").length>0?(r=parseFloat($("#roomRating").attr("data-rating")),$("#roomRating").raty({half:!0,readOnly:!0,size:24,score:r,starOn:window.star_on_mid_image_path,starOff:window.star_off_mid_image_path,starHalf:window.star_half_mid_image_path})):void 0})},t=function(){return $(".append-credit").on("click",function(){var t;return t=$(this).data("rate-code"),$(this).addClass("form-"+t),$("#update_credit_rate_code").val(t),$("#update_credit_total").val($(this).data("total"))})},s.replaceImage=function(){var t,e,i,a,s;for(s=$("a.slider-images"),t=0,a=[];t<s.length;)i=$(s[t]).attr("href"),e=new Image,e.onerror=function(){var t,e,i;return console.error("Cannot load image"),e=$(this).attr("src"),i=$("a.slider-images[href='"+e+"']"),t=null,"z.jpg"===e.split("_")[2]?t=e.replace("_z.jpg","_y.jpg"):"y.jpg"===e.split("_")[2]&&(t=e.replace("_y.jpg","_b.jpg")),$(i).attr("href",t)},e.src=i,a.push(t++);return a},s.popOver=function(t){return $(t).on("click",function(){$(this).popover("show")})},$(document).ready(function(){var a,s,r;if("/"===window.location.pathname||"/deals"===window.location.pathname||"/deals/"===window.location.pathname){if(e(),o(),$.get("/deals"),r=i(new Date),$("input#search_deals_arrival_date").datepicker({startDate:r,autoclose:!0}).on("changeDate",function(t){var e;return e=t.date,e.setDate(e.getDate()+1),$("input#search_deals_departure_date").datepicker("remove"),$("input#search_deals_departure_date").datepicker({startDate:i(e),autoclose:!0}),setTimeout(function(){return $("input#search_deals_departure_date").datepicker("show")},100)}),$("input#search_deals_departure_date").datepicker({startDate:r,autoclose:!0}),$("#slideToggleLink").length>0&&($("#slideToggleLink").on("click",function(t){$("#slideToggle").slideToggle()}),$(".slide").on("click",function(t){t.target===this&&$("#slideToggle").slideUp()}),$(".text-header-slide").on("click",function(t){t.target===this&&$("#slideToggle").slideUp()})),$("#btnClearText").length>0)return $("#btnClearText").click(function(){$("input#autocomplete").val("")})}else if(initAutoNumeric("#update_credit_formatted_amount","#update_credit_amount"),a=window.location.pathname.split("/")[2],n(),$.get("/deals/"+a+"/room_availability",function(){roomSelected(".room-selected"),t(),$("#modalSavingsForm").on("hidden.bs.modal",function(t){return $("#formAddToSavings").get(0).reset(),$(".payment-errors").html("")}),$(".modal-lg").on("hidden.bs.modal",function(t){return $("#formBook").get(0).reset()})}),$("#hotelRating").length>0&&(s=parseFloat($("#hotelRating").data("rating")),$("#hotelRating").raty({half:!0,readOnly:!0,size:24,score:s,starOn:window.star_on_mid_image_path,starOff:window.star_off_mid_image_path,starHalf:window.star_half_mid_image_path})),$("#links").length>0)return replaceImage(),setTimeout(function(){return replaceImage()},1e3),setTimeout(function(){return blueimp.Gallery($(".slider-images"),{container:"#blueimp-gallery-carousel",carousel:!0})},3e3)})}.call(this);