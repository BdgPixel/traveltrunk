/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
Â© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
!function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,a=e.createElement("style"),r=[];for(e.documentElement.firstChild.appendChild(a),e._qsa=[],a.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),a.parentNode.removeChild(a);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),r.push(n);return e._qsa=null,r}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,a=[],r=0,s=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),r=r<<6|i,s+=6,24===s&&(a.push(String.fromCharCode(r>>16&255)),a.push(String.fromCharCode(r>>8&255)),a.push(String.fromCharCode(255&r)),s=0,r=0),n+=1;return 12===s?(r>>=4,a.push(String.fromCharCode(255&r))):18===s&&(r>>=2,a.push(String.fromCharCode(r>>8&255)),a.push(String.fromCharCode(255&r))),a.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,a,r,s,o,l,h=0,u=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;h<t.length;)i=t.charCodeAt(h++),n=t.charCodeAt(h++),a=t.charCodeAt(h++),r=i>>2,s=(3&i)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,h===t.length+2?(o=64,l=64):h===t.length+1&&(l=64),u.push(e.charAt(r),e.charAt(s),e.charAt(o),e.charAt(l));return u.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),
// copyright Paul Irish 2015
function(){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var r=a(i.substr(i.lastIndexOf(t.domain)),t);r&&s({mode:null,el:n,flags:r,engineSettings:e})}function a(t,e){var i={theme:k(I.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e};return r(t,i)}function r(t,e){var i=t.split("?"),n=i[0].split("/");e.holderURL=t;var a=n[1],r=a.match(/([\d]+p?)x([\d]+p?)/);if(!r)return!1;if(e.fluid=-1!==a.indexOf("p"),e.dimensions={width:r[1].replace("p","%"),height:r[2].replace("p","%")},2===i.length){var s=y.parse(i[1]);if(s.bg&&(e.theme.background=(-1===s.bg.indexOf("#")?"#":"")+s.bg),s.fg&&(e.theme.foreground=(-1===s.fg.indexOf("#")?"#":"")+s.fg),s.bg&&!s.fg&&(e.autoFg=!0),s.theme&&e.instanceOptions.themes.hasOwnProperty(s.theme)&&(e.theme=k(e.instanceOptions.themes[s.theme],null)),s.text&&(e.text=s.text),s.textmode&&(e.textmode=s.textmode),s.size&&(e.size=s.size),s.font&&(e.font=s.font),s.align&&(e.align=s.align),e.nowrap=w.truthy(s.nowrap),e.auto=w.truthy(s.auto),e.outline=w.truthy(s.outline),w.truthy(s.random)){I.vars.cache.themeKeys=I.vars.cache.themeKeys||Object.keys(e.instanceOptions.themes);var o=I.vars.cache.themeKeys[0|Math.random()*I.vars.cache.themeKeys.length];e.theme=k(e.instanceOptions.themes[o],null)}}return e}function s(t){var e=t.mode,i=t.el,n=t.flags,a=t.engineSettings,r=n.dimensions,s=n.theme,l=r.width+"x"+r.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(s.text=n.text,"object"===i.nodeName.toLowerCase())){for(var h=s.text.split("\\n"),d=0;d<h.length;d++)h[d]=w.encodeHtmlEntity(h[d]);s.text=h.join("\\n")}var f=n.holderURL,p=k(a,null);if(n.font&&(s.font=n.font,!p.noFontFallback&&"img"===i.nodeName.toLowerCase()&&I.setup.supportsCanvas&&"svg"===p.renderer&&(p=k(p,{renderer:"canvas"}))),n.font&&"canvas"==p.renderer&&(p.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&_.setAttr(i,{"data-background-src":f});else{var g={};g[I.vars.dataAttr]=f,_.setAttr(i,g)}n.theme=s,i.holderData={flags:n,engineSettings:p},("image"==e||"fluid"==e)&&_.setAttr(i,{alt:s.text?s.text+" ["+l+"]":l});var m={mode:e,el:i,holderSettings:{dimensions:r,theme:s,flags:n},engineSettings:p};"image"==e?("html"!=p.renderer&&n.auto||(i.style.width=r.width+"px",i.style.height=r.height+"px"),"html"==p.renderer?i.style.backgroundColor=s.background:(o(m),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,I.vars.resizableImages.push(i),u(i)))):"background"==e&&"html"!=p.renderer?o(m):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==r.height.slice(-1)?i.style.height=r.height:null!=n.auto&&n.auto||(i.style.height=r.height+"px"),"%"==r.width.slice(-1)?i.style.width=r.width:null!=n.auto&&n.auto||(i.style.width=r.width+"px"),("inline"==i.style.display||""===i.style.display||"none"==i.style.display)&&(i.style.display="block"),c(i),"html"==p.renderer?i.style.backgroundColor=s.background:(I.vars.resizableImages.push(i),u(i)))}function o(t){function i(){var e=null;switch(o.renderer){case"canvas":e=F(u,t);break;case"svg":e=L(u,t);break;default:throw"Holder: invalid renderer: "+o.renderer}return e}var n=null,a=t.mode,r=t.el,s=t.holderSettings,o=t.engineSettings;switch(o.renderer){case"svg":if(!I.setup.supportsSVG)return;break;case"canvas":if(!I.setup.supportsCanvas)return;break;default:return}var h={width:s.dimensions.width,height:s.dimensions.height,theme:s.theme,flags:s.flags},u=l(h);if(n=i(),null==n)throw"Holder: couldn't render placeholder";"background"==a?(r.style.backgroundImage="url("+n+")",r.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===r.nodeName.toLowerCase()?_.setAttr(r,{src:n}):"object"===r.nodeName.toLowerCase()&&(_.setAttr(r,{data:n}),_.setAttr(r,{type:"image/svg+xml"})),o.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===r.nodeName.toLowerCase()?_.setAttr(r,{src:t}):"object"===r.nodeName.toLowerCase()&&(_.setAttr(r,{data:t}),_.setAttr(r,{type:"image/svg+xml"}))},150)),_.setAttr(r,{"data-holder-rendered":!0})}function l(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=I.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(t.width,t.height,i),units:t.theme.units?t.theme.units:I.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=new b({width:t.width,height:t.height}),a=n.Shape,r=new a.Rect("holderBg",{fill:t.theme.background});if(r.resize(t.width,t.height),n.root.add(r),t.flags.outline){var s=new C(r.properties.fill);s=s.lighten(s.lighterThan("7f7f7f")?-.1:.1),r.properties.outline={fill:s.toHex(!0),width:2}}var o=t.theme.foreground;if(t.flags.autoFg){var l=new C(r.properties.fill),u=new C("fff"),c=new C("000",{alpha:.285714});o=l.blendAlpha(l.lighterThan("7f7f7f")?c:u).toHex(!0)}var d=new a.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:o});d.moveTo(null,null,1),n.root.add(d);var f=d.textPositionData=M(n);if(!f)throw"Holder: staging fallback not supported yet.";d.properties.leading=f.boundingBox.height;var p=null,g=null,m=t.width*I.vars.lineWrapRatio,v=m;if(f.lineCount>1){var y,w=0,x=0,_=0;g=new a.Group("line"+_),("left"===t.align||"right"===t.align)&&(v=t.width*(1-2*(1-I.vars.lineWrapRatio)));for(var k=0;k<f.words.length;k++){var T=f.words[k];p=new a.Text(T.text);var D="\\n"==T.text;!t.noWrap&&(w+T.width>=v||D===!0)&&(e(d,g,w,d.properties.leading),d.add(g),w=0,x+=d.properties.leading,_+=1,g=new a.Group("line"+_),g.y=x),D!==!0&&(p.moveTo(w,0),w+=f.spaceWidth+T.width,g.add(p))}if(e(d,g,w,d.properties.leading),d.add(g),"left"===t.align)d.moveTo(t.width-m,null,null);else if("right"===t.align){for(y in d.children)g=d.children[y],g.moveTo(t.width-g.width,null,null);d.moveTo(0-(t.width-m),null,null)}else{for(y in d.children)g=d.children[y],g.moveTo((d.width-g.width)/2,null,null);d.moveTo((t.width-d.width)/2,null,null)}d.moveTo(null,(t.height-d.height)/2,null),(t.height-d.height)/2<0&&d.moveTo(null,0,null)}else p=new a.Text(t.text),g=new a.Group("line0"),g.add(p),d.add(g),"left"===t.align?d.moveTo(t.width-m,null,null):"right"===t.align?d.moveTo(0-(t.width-m),null,null):d.moveTo((t.width-f.boundingBox.width)/2,null,null),d.moveTo(null,(t.height-f.boundingBox.height)/2,null);return n}function h(t,e,i){var n=parseInt(t,10),a=parseInt(e,10),r=Math.max(n,a),s=Math.min(n,a),o=.8*Math.min(s,r*I.defaults.scale);return Math.round(Math.max(i,o))}function u(t){var e;e=null==t||null==t.nodeType?I.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var a=e[i];if(a.holderData){var r=a.holderData.flags,s=T(a);if(s){if(!a.holderData.resizeUpdate)continue;if(r.fluid&&r.auto){var l=a.holderData.fluidConfig;switch(l.mode){case"width":s.height=s.width/l.ratio;break;case"height":s.width=s.height*l.ratio}}var h={mode:"image",holderSettings:{dimensions:s,theme:r.theme,flags:r},el:a,engineSettings:a.holderData.engineSettings};"exact"==r.textmode&&(r.exactDimensions=s,h.holderSettings.dimensions=r.dimensions),o(h)}else p(a)}}}function c(t){if(t.holderData){var e=T(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else p(t)}}function d(){for(var t,i=[],n=Object.keys(I.vars.invisibleImages),a=0,r=n.length;r>a;a++)t=I.vars.invisibleImages[n[a]],T(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete I.vars.invisibleImages[n[a]]);i.length&&E.run({images:i}),e.requestAnimationFrame(d)}function f(){I.vars.visibilityCheckStarted||(e.requestAnimationFrame(d),I.vars.visibilityCheckStarted=!0)}function p(t){t.holderData.invisibleId||(I.vars.invisibleId+=1,I.vars.invisibleImages["i"+I.vars.invisibleId]=t,t.holderData.invisibleId=I.vars.invisibleId)}function g(t){I.vars.debounceTimer||t.call(this),I.vars.debounceTimer&&e.clearTimeout(I.vars.debounceTimer),I.vars.debounceTimer=e.setTimeout(function(){I.vars.debounceTimer=null,t.call(this)},I.setup.debounce)}function m(){g(function(){u(null)})}var v=i(3),y=i(2),b=i(4),w=i(5),x=i(6),_=i(7),C=i(8),k=w.extend,T=w.dimensionCheck,D="http://www.w3.org/2000/svg",S="2.8.0",A="\nCreated with Holder.js "+S+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",E={version:S,addTheme:function(t,e){return null!=t&&null!=e&&(I.settings.themes[t]=e),delete I.vars.cache.themeKeys,this},addImage:function(t,e){var i=_.getNodeArray(e);if(i.length)for(var n=0,a=i.length;a>n;n++){var r=_.newEl("img"),s={};s[I.setup.dataAttr]=t,_.setAttr(r,s),i[n].appendChild(r)}return this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&u(t))},run:function(t){t=t||{};var i={},r=k(I.settings,t);I.vars.preempted=!0,I.vars.dataAttr=r.dataAttr||I.setup.dataAttr,I.vars.lineWrapRatio=r.lineWrapRatio||I.setup.lineWrapRatio,i.renderer=r.renderer?r.renderer:I.setup.renderer,-1===I.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=I.setup.supportsSVG?"svg":I.setup.supportsCanvas?"canvas":"html");var o=_.getNodeArray(r.images),l=_.getNodeArray(r.bgnodes),h=_.getNodeArray(r.stylenodes),u=_.getNodeArray(r.objects);i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=r.noFontFallback?r.noFontFallback:!1;for(var c=0;c<h.length;c++){var d=h[c];if(d.attributes.rel&&d.attributes.href&&"stylesheet"==d.attributes.rel.value){var f=d.attributes.href.value,p=_.newEl("a");p.href=f;var g=p.protocol+"//"+p.host+p.pathname+p.search;i.stylesheets.push(g)}}for(c=0;c<l.length;c++)if(e.getComputedStyle){var m=e.getComputedStyle(l[c],null).getPropertyValue("background-image"),v=l[c].getAttribute("data-background-src"),y=v||m,b=null,x="?"+r.domain+"/";if(0===y.indexOf(x))b=y.slice(1);else if(-1!=y.indexOf(x)){var C=y.substr(y.indexOf(x)).slice(1),T=C.match(/([^\"]*)"?\)/);null!=T&&(b=T[1])}if(null!=b){var D=a(b,r);D&&s({mode:"background",el:l[c],flags:D,engineSettings:i})}}for(c=0;c<u.length;c++){var S=u[c],A={};try{A.data=S.getAttribute("data"),A.dataSrc=S.getAttribute(I.vars.dataAttr)}catch(E){}var M=null!=A.data&&0===A.data.indexOf(r.domain),F=null!=A.dataSrc&&0===A.dataSrc.indexOf(r.domain);M?n(r,i,A.data,S):F&&n(r,i,A.dataSrc,S)}for(c=0;c<o.length;c++){var L=o[c],O={};try{O.src=L.getAttribute("src"),O.dataSrc=L.getAttribute(I.vars.dataAttr),O.rendered=L.getAttribute("data-holder-rendered")}catch(E){}var z=null!=O.src,U=null!=O.dataSrc&&0===O.dataSrc.indexOf(r.domain),N=null!=O.rendered&&"true"==O.rendered;z?0===O.src.indexOf(r.domain)?n(r,i,O.src,L):U&&(N?n(r,i,O.dataSrc,L):!function(t,e,i,a,r){w.imageExists(t,function(t){t||n(e,i,a,r)})}(O.src,r,i,O.dataSrc,L)):U&&n(r,i,O.dataSrc,L)}return this}},I={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},M=function(){var t=null,e=null,i=null;return function(n){var a=n.root;if(I.setup.supportsSVG){var r=!1,s=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(r=!0),t=x.initSVG(t,a.properties.width,a.properties.height),t.style.display="block",r&&(e=_.newEl("text",D),i=s(null),_.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var o=a.children.holderTextGroup,l=o.properties;_.setAttr(e,{y:l.font.size,style:w.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var h=e.getBBox(),u=Math.ceil(h.width/(a.properties.width*I.vars.lineWrapRatio)),c=l.text.split(" "),d=l.text.match(/\\n/g);u+=null==d?0:d.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var f=e.getComputedTextLength(),p=h.width-f,g=Math.round(p/Math.max(1,c.length-1)),m=[];if(u>1){i.nodeValue="";for(var v=0;v<c.length;v++)if(0!==c[v].length){i.nodeValue=w.decodeHtmlEntity(c[v]);var y=e.getBBox();m.push({text:c[v],width:y.width})}}return t.style.display="none",{spaceWidth:g,lineCount:u,boundingBox:h,words:m}}return!1}}(),F=function(){var t=_.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=i.root;t.width=I.dpr(n.properties.width),t.height=I.dpr(n.properties.height),e.textBaseline="middle";var a=n.children.holderBg,r=I.dpr(a.width),s=I.dpr(a.height),o=2,l=o/2;e.fillStyle=a.properties.fill,e.fillRect(0,0,r,s),a.properties.outline&&(e.strokeStyle=a.properties.outline.fill,e.lineWidth=a.properties.outline.width,e.moveTo(l,l),e.lineTo(r-l,l),e.lineTo(r-l,s-l),e.lineTo(l,s-l),e.lineTo(l,l),e.moveTo(0,l),e.lineTo(r,s-l),e.moveTo(0,s-l),e.lineTo(r,l),e.stroke());var h=n.children.holderTextGroup;h.properties;e.font=h.properties.font.weight+" "+I.dpr(h.properties.font.size)+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var u in h.children){var c=h.children[u];for(var d in c.children){var f=c.children[d],p=I.dpr(h.x+c.x+f.x),g=I.dpr(h.y+c.y+f.y+h.properties.leading/2);e.fillText(f.properties.text,p,g)}}return t.toDataURL("image/png")}}(),L=function(){if(e.XMLSerializer){var t=_.createXML(),i=x.initSVG(null,0,0),n=_.newEl("rect",D);return i.appendChild(n),function(e,a){var r=e.root;x.initSVG(i,r.properties.width,r.properties.height);for(var s=i.querySelectorAll("g"),o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o]);var l=a.holderSettings.flags.holderURL,h="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),u=_.newEl("g",D),c=r.children.holderTextGroup,d=c.properties,f=_.newEl("g",D),p=c.textPositionData,g="#"+h+" text { "+w.cssProps({fill:d.fill,"font-weight":d.font.weight,"font-family":d.font.family+", monospace","font-size":d.font.size+d.font.units})+" } ",m=t.createComment("\nSource URL: "+l+A),v=t.createCDATASection(g),y=i.querySelector("style"),b=r.children.holderBg;if(_.setAttr(u,{id:h}),i.insertBefore(m,i.firstChild),y.appendChild(v),u.appendChild(n),b.properties.outline){var C=_.newEl("path",D),k=b.properties.outline.width,T=k/2;_.setAttr(C,{d:["M",T,T,"H",b.width-T,"V",b.height-T,"H",T,"V",0,"M",0,T,"L",b.width,b.height-T,"M",0,b.height-T,"L",b.width,T].join(" "),"stroke-width":b.properties.outline.width,stroke:b.properties.outline.fill,fill:"none"}),u.appendChild(C)}u.appendChild(f),i.appendChild(u),_.setAttr(n,{width:b.width,height:b.height,fill:b.properties.fill}),c.y+=.8*p.boundingBox.height;for(var S in c.children){var E=c.children[S];for(var I in E.children){var M=E.children[I],F=c.x+E.x+M.x,L=c.y+E.y+M.y,O=_.newEl("text",D),z=document.createTextNode(null);_.setAttr(O,{x:F,y:L}),z.nodeValue=M.properties.text,O.appendChild(z),f.appendChild(O)}}var U=x.svgStringToDataURI(x.serializeSVG(i,a.engineSettings),"background"===a.mode);return U}}}();for(var O in I.flags)I.flags.hasOwnProperty(O)&&(I.flags[O].match=function(t){return t.match(this.regex)});I.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},I.dpr=function(t){return t*I.setup.ratio},I.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=1,i=1,n=_.newEl("canvas"),a=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(I.setup.renderer="canvas",a=n.getContext("2d"),I.setup.supportsCanvas=!0),I.setup.supportsCanvas&&(t=e.devicePixelRatio||1,i=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),I.setup.ratio=t/i,document.createElementNS&&document.createElementNS(D,"svg").createSVGRect&&(I.setup.renderer="svg",I.setup.supportsSVG=!0)}(),f(),v&&v(function(){I.vars.preempted||E.run(),e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("orientationchange",m,!1)):e.attachEvent("onresize",m),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){E.run()})}),t.exports=E}).call(e,function(){return this}())},function(t,e,i){var n=encodeURIComponent,a=decodeURIComponent,r=i(10),s=i(9),o=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=r(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var s,h,u,c=i[n].split("="),d=a(c[0]);if(s=o.exec(d))e[s[1]]=e[s[1]]||[],e[s[1]][s[2]]=a(c[1]);else if(s=l.test(d)){for(s=d.split("."),h=e;s.length;)if(u=s.shift(),u.length){if(h[u]){if(h[u]&&"object"!=typeof h[u])break}else h[u]={};s.length||(h[u]=a(c[1])),h=h[u]}}else e[c[0]]=null==c[1]?"":a(c[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var a=t[i];if("array"!=s(a))e.push(n(i)+"="+n(t[i]));else for(var r=0;r<a.length;++r)e.push(n(i+"["+r+"]")+"="+n(a[r]))}return e.join("&")}},function(t,e,i){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function n(t){function e(t){if(!x){if(!s.body)return a(e);for(x=!0;t=_.shift();)a(t)}}function i(t){(b||t.type===l||s[d]===c)&&(n(),e())}function n(){b?(s[y](m,i,h),t[y](l,i,h)):(s[p](v,i),t[p](u,i))}function a(t,e){setTimeout(t,+e>=0?e:1)}function r(t){x?a(t):_.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function k(){document.removeEventListener("DOMContentLoaded",k,!1),document.readyState="complete"},!1),document.readyState="loading");var s=t.document,o=s.documentElement,l="load",h=!1,u="on"+l,c="complete",d="readyState",f="attachEvent",p="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",b=g in s,w=h,x=h,_=[];if(s[d]===c)a(e);else if(b)s[g](m,i,h),t[g](l,i,h);else{s[f](v,i),t[f](u,i);try{w=null==t.frameElement&&o}catch(C){}w&&w.doScroll&&!function T(){if(!x){try{w.doScroll("left")}catch(t){return a(T,50)}n(),e()}}()}return r.version="1.4.0",r.isReady=function(){return x},r}t.exports="undefined"!=typeof window&&n(window)},function(t,e,i){var n=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var a=function(){n.call(this,"root"),this.properties=t};a.prototype=new n;var r=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof i)e(this.properties,i);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};r.prototype=new n;var s=function(){r.apply(this,arguments),this.type="group"};s.prototype=new r;var o=function(){r.apply(this,arguments),this.type="rect"};o.prototype=new r;var l=function(t){r.call(this),this.type="text",this.properties.text=t};l.prototype=new r;var h=new a;return this.Shape={Rect:o,Text:l,Group:s},this.root=h,this};t.exports=n},function(t,e,i){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t}},function(t,e,i){(function(t){var n=i(7),a="http://www.w3.org/2000/svg",r=8;e.initSVG=function(t,e,i){var s,o,l=!1;t&&t.querySelector?(o=t.querySelector("style"),null===o&&(l=!0)):(t=n.newEl("svg",a),l=!0),l&&(s=n.newEl("defs",a),o=n.newEl("style",a),n.setAttr(o,{type:"text/css"}),s.appendChild(o),t.appendChild(s)),t.webkitMatchesSelector&&t.setAttribute("xmlns",a);for(var h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===r&&t.removeChild(t.childNodes[h]);for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",e="data:image/svg+xml;charset=UTF-8;base64,";return function(i,n){return n?e+btoa(unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var a=new XMLSerializer,r="",s=i.stylesheets;if(i.svgXMLStylesheet){for(var o=n.createXML(),l=s.length-1;l>=0;l--){var h=o.createProcessingInstruction("xml-stylesheet",'href="'+s[l]+'" rel="stylesheet"');o.insertBefore(h,o.firstChild)}o.removeChild(o.documentElement),r=a.serializeToString(o)}var u=a.serializeToString(e);return u=u.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),r+u}}}).call(e,function(){return this}())},function(t,e,i){(function(t){e.newEl=function(e,i){return t.document?null==i?document.createElement(e):document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i}}).call(e,function(){return this}())},function(t,e,i){function n(t){return this.rgb={},this.yuv={},this.raw=t,this.rgb.r=(16711680&t)>>16,this.rgb.g=(65280&t)>>8,this.rgb.b=255&t,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var a=function(t,e){"string"==typeof t&&("#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&(this.alpha=e.alpha||this.alpha),n.call(this,parseInt(t,16)))))};a.rgbToHex=function(t,e,i){return(((0|t)<<16)+((0|e)<<8)+(0|i)).toString(16)},a.prototype.lighten=function(t){var e=this.rgb.r,i=this.rgb.g,n=this.rgb.b,r=255*t|0;return new a(a.rgbToHex(e+r,i+r,n+r))},a.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},a.prototype.lighterThan=function(t){return t instanceof a||(t=new a(t)),this.yuv.y>t.yuv.y},a.prototype.blendAlpha=function(t){t instanceof a||(t=new a(t));var e=t,i=this,n=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,r=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,s=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new a(a.rgbToHex(n,r,s))},t.exports=a},function(t,e,i){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);