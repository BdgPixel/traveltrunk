(function(){var t;Stripe.setPublishableKey(window.stripe_publishable_key),jQuery(function(e){e("#formPromoCode").submit(function(i){var a,n;return a=e(this),n=!0,e("#promo_code_amount").val()?a.find(".payment-errors.amount").text(""):(a.find(".payment-errors.amount").text("can't be blank"),n=!1),e("#promo_code_user_id").val()?a.find(".payment-errors.user-id").text(""):(a.find(".payment-errors.user-id").text("can't be blank"),n=!1),n&&(e("#loading").show(),a.find("button").prop("disabled",!0),Stripe.card.createToken(a,t)),!1})}),t=function(t,e){var i,a;i=$("#formPromoCode"),e.error?(console.log(e),"number"===e.error.param&&i.find(".payment-errors.number").text(e.error.message),"exp_month"===e.error.param&&i.find(".payment-errors.exp-month").text(e.error.message),"exp_year"===e.error.param&&i.find(".payment-errors.exp-year").text(e.error.message),i.find("button").prop("disabled",!1)):(a=e.id,i.append($('<input type="hidden" name="stripeToken" />').val(a)),i.get(0).submit()),$("#loading").fadeOut("slow")}}).call(this);